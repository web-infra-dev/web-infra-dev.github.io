{"version":3,"file":"static/js/async/docs_zh_guides_topic-detail_model_auto-actions_mdx.9cc5b685.js","sources":["./docs/zh/guides/topic-detail/model/auto-actions.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguides%2Ftopic-detail%2Fmodel%2Fauto-actions.mdx\"] = {\"toc\":[{\"text\":\"原始数据类型\",\"id\":\"原始数据类型\",\"depth\":2},{\"text\":\"数组类型\",\"id\":\"数组类型\",\"depth\":2},{\"text\":\"简单对象类型\",\"id\":\"简单对象类型\",\"depth\":2}],\"title\":\"自动生成 Actions\",\"frontmatter\":{\"sidebar_position\":6,\"title\":\"自动生成 Actions\"}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        code: \"code\",\n        ul: \"ul\",\n        li: \"li\",\n        h2: \"h2\",\n        pre: \"pre\",\n        div: \"div\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"自动生成-actions\">{\"自动生成 Actions\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#自动生成-actions\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"在 \"}<_components.a href=\"/guides/topic-detail/model/quick-start\">{\"快速上手\"}</_components.a>{\" 中，我们实现最简单的计数器 Model 也需要 10 行代码。\\n实际上，Modern.js 支持根据声明的 \"}<_components.code>{\"state\"}</_components.code>{\" 类型，自动生成常用的 Actions，从而简化模板代码量。当前支持的类型有：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"原始数据类型\"}</_components.li>{\"\\n\"}<_components.li>{\"数组类型\"}</_components.li>{\"\\n\"}<_components.li>{\"简单对象类型（Plain Object）\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"原始数据类型\">{\"原始数据类型\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#原始数据类型\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"const countModel = model('count').define({ state: 1 });\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"如上我们仅用一行就完成了一个简单的 \"}<_components.code>{\"countModel\"}</_components.code>{\"。使用 Model 的示例代码如下：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-tsx\">{\"function Counter() {\\n  const [state, actions] = useModel(countModel);\\n\\n  useEffect(() => {\\n    // 增加 1\\n    actions.setState(state + 1);\\n  }, []);\\n}\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"数组类型\">{\"数组类型\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#数组类型\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"当 State 为数组类型时，自动生成 Actions 的示例代码如下：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"const countModel = model('count').define({ state: [] });\\n\\nfunction Counter() {\\n  const [state, actions] = useModel(countModel);\\n\\n  useEffect(() => {\\n    actions.push(1);\\n    actions.pop();\\n    actions.shift();\\n    actions.unshift(1);\\n    actions.concat([1]);\\n    actions.splice(0, 1, 2);\\n    actions.filter(value => value > 1);\\n  }, []);\\n}\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"我们可以使用 JavaScript Array 对象的方法，修改 State。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"简单对象类型\">{\"简单对象类型\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#简单对象类型\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"当 State 为简单对象类型时，自动生成 Actions 的示例代码如下：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"const countModel = model('count').define({\\n  state: {\\n    a: 1,\\n    b: [],\\n    c: {},\\n  },\\n});\\n\\nfunction Counter() {\\n  const [state, actions] = useModel(countModel);\\n\\n  useEffect(() => {\\n    actions.setA(2);\\n    actions.setB([1]);\\n    actions.setC({ a: 1 });\\n  }, []);\\n}\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"根据 \"}<_components.code>{\"a\"}</_components.code>{\"、\"}<_components.code>{\"b\"}</_components.code>{\"、\"}<_components.code>{\"c\"}</_components.code>{\" 三个不同的字段分别生成 \"}<_components.code>{\"setA\"}</_components.code>{\"、\"}<_components.code>{\"setB\"}</_components.code>{\"、\"}<_components.code>{\"setC\"}</_components.code>{\" 三个 Actions。\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive info\"><_components.div className=\"modern-directive-title\">{\"INFO\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"当用户自定义的 Action 和 Modern.js 自动生成的 Action 名字一致时，用户自定义的 Action 优先级更高。例如，\"}<_components.code>{\"countModel\"}</_components.code>{\" 中已经自定义 \"}<_components.code>{\"setA\"}</_components.code>{\" 这个 Action，调用 \"}<_components.code>{\"actions.setA()\"}</_components.code>{\" 时，最终执行的是用户自定义的 \"}<_components.code>{\"setA\"}</_components.code>{\"。\"}</_components.p><_components.p>{\"在 \"}</_components.p>{\"\\n\"}</_components.div></_components.div>{\"\\n\"}<_components.div className=\"modern-directive info\"><_components.div className=\"modern-directive-title\">{\"补充信息\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"相关 API 的更多介绍，请参考\"}<_components.a href=\"/apis/app/runtime/model/auto-actions\">{\"这里\"}</_components.a>{\"。\"}</_components.p>{\"\\n\"}</_components.div></_components.div></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","code","ul","li","h2","pre","div","components","id","className","href","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}