(self.webpackChunk_modern_js_main_doc=self.webpackChunk_modern_js_main_doc||[]).push([["docs_zh_configure_app_runtime_intro_mdx"],{67515:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return o}});var i,s=r("15169"),t=r("43932"),d=r("9880"),a=r("23169"),c=r("78955");function l(e){var n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",ul:"ul",li:"li",strong:"strong",code:"code",h4:"h4",pre:"pre",div:"div"},(0,a.useMDXComponents)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"总览",children:["总览",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总览",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"此节将介绍 Runtime 插件的配置。"}),"\n",(0,d.jsxs)(n.h2,{id:"配置方式",children:["配置方式",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置方式",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"runtime",children:["runtime",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#runtime",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"类型："})," ",(0,d.jsx)(n.code,{children:"Object"})]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"runtime 配置方式如下："}),"\n",(0,d.jsxs)(n.h4,{id:"基本用法",children:["基本用法",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#基本用法",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["在 ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," 中配置"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig({\n  runtime: {\n    state: true,\n    router: true,\n  },\n});\n"})}),"\n",(0,d.jsxs)(n.h4,{id:"运行时配置",children:["运行时配置",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#运行时配置",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["通过 ",(0,d.jsx)(n.a,{href:"/apis/app/runtime/app/define-config",children:(0,d.jsx)(n.code,{children:"defineConfig"})})," API 配置："]}),"\n",(0,d.jsxs)(n.div,{className:"modern-directive info",children:[(0,d.jsx)(n.div,{className:"modern-directive-title",children:"INFO"}),(0,d.jsxs)(n.div,{className:"modern-directive-content",children:[(0,d.jsx)(n.p,{children:"当 runtime 配置中存在函数时，只能使用该方式进行配置。"}),"\n"]})]}),"\n","\n",(0,d.jsxs)(c.Tabs,{children:[(0,d.jsx)(c.Tab,{value:"layout",label:"约定式路由",default:!0,children:(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",meta:'title="src/routes/layout.tsx"',children:"import type { AppConfig } from '@modern-js/runtime';\n\nexport const config = (): AppConfig => {\n  return {\n    router: {\n      supportHtml5History: false\n    }\n  }\n};\n"})})}),(0,d.jsx)(c.Tab,{value:"app",label:"自控路由",children:(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="src/App.tsx"',children:"import { defineConfig } from '@modern-js/runtime';\n\nconst App = () => {\n  /** */\n};\n\ndefineConfig(App, {\n  router: {\n    supportHtml5History: false,\n  },\n});\n\nexport default App;\n"})})})]}),"\n",(0,d.jsxs)(n.div,{className:"modern-directive info",children:[(0,d.jsx)(n.div,{className:"modern-directive-title",children:"INFO"}),(0,d.jsxs)(n.div,{className:"modern-directive-content",children:[(0,d.jsx)(n.p,{children:"使用运行时配置，可以解决 Runtime 插件配置需要在运行时才能获取到具体内容问题。"}),"\n",(0,d.jsxs)(n.p,{children:["Runtime 插件运行时配置和直接在 ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," 中的配置默认会进行合并，且运行时配置优先级更高。"]}),"\n"]})]}),"\n",(0,d.jsxs)(n.div,{className:"modern-directive warning",children:[(0,d.jsx)(n.div,{className:"modern-directive-title",children:"WARNING"}),(0,d.jsxs)(n.div,{className:"modern-directive-content",children:[(0,d.jsxs)(n.p,{children:["defineConfig 中只能定义 Runtime 插件的具体配置内容，确认是否开启插件还需要通过 ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," 中的配置决定。"]}),"\n"]})]}),"\n",(0,d.jsxs)(n.h3,{id:"runtimebyentries",children:["runtimeByEntries",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#runtimebyentries",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"类型："})," ",(0,d.jsx)(n.code,{children:"Object"})]}),"\n",(0,d.jsx)(n.li,{children:"**默认值：**无"}),"\n"]}),"\n",(0,d.jsxs)(n.h4,{id:"说明",children:["说明",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#说明",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"按入口添加 runtime 配置，选项属性同 runtime 一致，指定值会和 runtime 属性内容做替换合并操作。"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig({\n  runtime: {\n    state: false,\n  },\n  runtimeByEntries: {\n    entry1: {\n      state: true, // { state: true }\n    },\n    entry2: {\n      // { state: false, router: true }\n      router: true,\n    },\n  },\n});\n"})})]})}(i=globalThis).__RSPRESS_PAGE_META||(i.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["zh%2Fconfigure%2Fapp%2Fruntime%2Fintro.mdx"]={toc:[{text:"配置方式",id:"配置方式",depth:2},{text:"runtime",id:"runtime",depth:3},{text:"基本用法",id:"基本用法",depth:4},{text:"运行时配置",id:"运行时配置",depth:4},{text:"runtimeByEntries",id:"runtimebyentries",depth:3},{text:"说明",id:"说明",depth:4}],title:"总览",frontmatter:{sidebar_label:"总览",sidebar_position:1}};var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,a.useMDXComponents)(),e.components).wrapper;return n?(0,d.jsx)(n,(0,t._)((0,s._)({},e),{children:(0,d.jsx)(l,(0,s._)({},e))})):l(e)}}}]);