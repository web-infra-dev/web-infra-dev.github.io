{"version":3,"file":"static/js/async/docs_zh_guides_advanced-features_compatibility_mdx.f861bd49.js","sources":["./docs/zh/components/ua-polyfill.mdx","./docs/zh/guides/advanced-features/compatibility.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fcomponents%2Fua-polyfill.mdx\"] = {\"toc\":[{\"text\":\"运行时按需 Polyfill\",\"id\":\"运行时按需-polyfill\",\"depth\":3}],\"title\":\"\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h3: \"h3\",\n        a: \"a\",\n        p: \"p\",\n        ul: \"ul\",\n        li: \"li\",\n        pre: \"pre\",\n        code: \"code\",\n        img: \"img\",\n        div: \"div\"\n    }, _provideComponents(), props.components);\n    return <><_components.h3 id=\"运行时按需-polyfill\">{\"运行时按需 Polyfill\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#运行时按需-polyfill\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"Modern.js 中还提供了基于浏览器 \"}<_components.a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/User-Agent\" target=\"_blank\" rel=\"noopener noreferrer\">{\"UA\"}</_components.a>{\" 信息的运行时按需 Polyfill 方案，相比于 Babel 优势如下：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"不会插入到代码中，只根据访问页面的设备，按需下发 Polyfill 代码 ，减少整体代码体积。\"}</_components.li>{\"\\n\"}<_components.li>{\"相同浏览器会公用一份 Polyfill 代码。因此，随着项目越来越多，基于 UA 的 Polyfill 代码下发速度会越来越快，综合速度超过常规方案。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"可以通过微生成器开启该功能：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"? 请选择你想要的操作 启用可选功能\\n? 请选择功能名称 启用「基于 UA 的 Polyfill」功能\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"执行命令后，在 \"}<_components.code>{\"modern.config.ts\"}</_components.code>{\" 中注册 Polyfill 插件:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"import { polyfillPlugin } from '@modern-js/plugin-polyfill';\\n\\nexport default defineConfig({\\n  plugins: [..., polyfillPlugin()],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"配置 \"}<_components.code>{\"output.polyfill\"}</_components.code>{\" 为 \"}<_components.code>{\"ua\"}</_components.code>{\" 并且执行 \"}<_components.code>{\"pnpm run build && pnpm run serve\"}</_components.code>{\" 启动服务器后，访问页面可以看到 HTML 产物中包含如下脚本:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-js\">{'<script src=\"/__polyfill__\" crossorigin></script>\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"在 Chrome 51 下访问页面可以看到 \"}<_components.code>{\"http://localhost:8080/__polyfill__\"}</_components.code>{\" 返回内容如下:\"}</_components.p>{\"\\n\"}<_components.p><_components.img src=\"https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/docs/ua-polyfill.png\" alt=\"ua-polyfill\"/></_components.p>{\"\\n\"}<_components.div className=\"modern-directive caution\"><_components.div className=\"modern-directive-title\">{\"注意\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"该功能只有在使用 Modern.js 内置的 Web Server 时才会生效。\"}</_components.p>{\"\\n\"}<_components.p>{\"如果有自定义模版的需求，请参考 \"}<_components.a href=\"/guides/basic-features/html\">{\"HTML 模板\"}</_components.a>{\"。通过 \"}<_components.code>{\"html.template\"}</_components.code>{\" 或 \"}<_components.code>{\"tools.html\"}</_components.code>{\" 手动修改模版时，可能会导致该功能无法正确生效。\\n\"}</_components.p></_components.div></_components.div></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n","globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguides%2Fadvanced-features%2Fcompatibility.mdx\"] = {\"toc\":[{\"text\":\"Browserslist 配置\",\"id\":\"browserslist-配置\",\"depth\":2},{\"text\":\"Polyfill\",\"id\":\"polyfill\",\"depth\":2},{\"text\":\"编译时 Polyfill\",\"id\":\"编译时-polyfill\",\"depth\":3}],\"title\":\"浏览器兼容性\",\"frontmatter\":{\"sidebar_position\":6}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nimport UAPolyfill from '@site-docs/components/ua-polyfill';\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        h2: \"h2\",\n        p: \"p\",\n        code: \"code\",\n        pre: \"pre\",\n        div: \"div\",\n        h3: \"h3\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"浏览器兼容性\">{\"浏览器兼容性\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#浏览器兼容性\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.h2 id=\"browserslist-配置\">{\"Browserslist 配置\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#browserslist-配置\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Modern.js 支持设置 Web 应用需要兼容的浏览器范围，你可以在 \"}<_components.code>{\".browserslistrc\"}</_components.code>{\" 文件里设置 \"}<_components.a href=\"https://browsersl.ist/\" target=\"_blank\" rel=\"noopener noreferrer\">{\"Browserslist\"}</_components.a>{\" 的值。\"}</_components.p>{\"\\n\"}<_components.p>{\"当你创建一个新的 Modern.js 项目时，默认会包含一份 \"}<_components.code>{\".browserslistrc\"}</_components.code>{\" 配置，这表示 JavaScript 代码会被编译至 ES6 格式。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-yaml\" meta='title=\".browserslistrc\"'>{\"chrome >= 51\\nedge >= 15\\nfirefox >= 54\\nsafari >= 10\\nios_saf >= 10\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.div className=\"modern-directive tip\"><_components.div className=\"modern-directive-title\">{\"TIP\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"请查看 \"}<_components.a href=\"https://modernjs.dev/builder/guide/advanced/browserslist\" target=\"_blank\" rel=\"noopener noreferrer\">{\"Modern.js Builder - 设置浏览器范围\"}</_components.a>{\" 来了解更多内容。\\n\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.h2 id=\"polyfill\">{\"Polyfill\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#polyfill\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.h3 id=\"编译时-polyfill\">{\"编译时 Polyfill\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#编译时-polyfill\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"Modern.js 在编译时默认通过 \"}<_components.a href=\"https://github.com/zloirock/core-js\" target=\"_blank\" rel=\"noopener noreferrer\">{\"core-js\"}</_components.a>{\" 引入对应的 Polyfill 代码。\"}</_components.p>{\"\\n\"}<_components.p>{\"默认情况下会根据项目 Browserslist 的设置情况引入所需的 Polyfill 代码， 这样基本不用再担心项目源码和第三方依赖的 Polyfill 问题了，但是因为包含了一些没有用到的 Polyfill 代码，所以最终的包大小可能会有所增加。\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive info\"><_components.div className=\"modern-directive-title\">{\"INFO\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"对于明确第三方依赖不需要 Polyfill 的场景，可以设置 \"}<_components.a href=\"/configure/app/output/polyfill\"><_components.code>{\"output.polyfill\"}</_components.code></_components.a>{\" 为 \"}<_components.code>{\"usage\"}</_components.code>{\", 这样 Babel 编译时只会根据代码中使用到的语法引入 Polyfill 代码。\"}</_components.p>{\"\\n\"}</_components.div></_components.div>{\"\\n\"}{\"\\n\"}<UAPolyfill/></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h3","a","p","ul","li","pre","code","img","div","components","id","className","href","target","rel","meta","src","alt","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_","h1","h2"],"mappings":"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"}