{"version":3,"file":"static/js/async/docs_zh_configure_app_experiments_lazy-compilation_mdx.d52bf445.js","sources":["../builder-doc/docs/zh/config/experiments/lazyCompilation.md","./docs/zh/configure/app/experiments/lazy-compilation.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"..%2F..%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fexperiments%2FlazyCompilation.md\"] = {\"toc\":[{\"text\":\"延迟编译异步模块\",\"id\":\"延迟编译异步模块\",\"depth\":3},{\"text\":\"延迟编译入口模块\",\"id\":\"延迟编译入口模块\",\"depth\":3},{\"text\":\"局限性\",\"id\":\"局限性\",\"depth\":3},{\"text\":\"禁用拆包规则\",\"id\":\"禁用拆包规则\",\"depth\":4},{\"text\":\"使用代理\",\"id\":\"使用代理\",\"depth\":4},{\"text\":\"其他潜在的问题\",\"id\":\"其他潜在的问题\",\"depth\":4}],\"title\":\"\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        ul: \"ul\",\n        li: \"li\",\n        strong: \"strong\",\n        pre: \"pre\",\n        code: \"code\",\n        p: \"p\",\n        h3: \"h3\",\n        a: \"a\",\n        h4: \"h4\"\n    }, _provideComponents(), props.components);\n    return <><_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"类型：\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"type LazyCompilationOptions =\\n  | boolean\\n  | {\\n      // 是否为异步模块开启延迟编译\\n      imports?: boolean;\\n      // 是否为入口模块开启延迟编译\\n      entries?: boolean;\\n    };\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"默认值：\"}</_components.strong>{\" \"}<_components.code>{\"false\"}</_components.code></_components.li>{\"\\n\"}<_components.li><_components.strong>{\"打包工具：\"}</_components.strong>{\" \"}<_components.code>{\"仅支持 webpack\"}</_components.code></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"用于开启延迟编译（即按需编译）的能力。当开启此配置项时，Builder 会进行延迟编译，提升项目的编译启动速度。\"}</_components.p>{\"\\n\"}<_components.p>{\"延迟编译只在开发环境下生效。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"延迟编译异步模块\">{\"延迟编译异步模块\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#延迟编译异步模块\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"延迟编译 \"}<_components.a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import\" target=\"_blank\" rel=\"noopener noreferrer\">{\"dynamic import\"}</_components.a>{\" 引入的异步模块：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default {\\n  experiments: {\\n    lazyCompilation: {\\n      imports: true,\\n      entries: false,\\n    },\\n  },\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"开启 \"}<_components.code>{\"imports\"}</_components.code>{\" 选项后，所有的异步模块只有在被请求时才触发编译。如果你的项目是一个单页应用（SPA），并通过 dynamic import 进行了路由拆分，那么会有明显的编译提速效果。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"延迟编译入口模块\">{\"延迟编译入口模块\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#延迟编译入口模块\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"除了延迟编译异步模块，你也可以选择同时延迟编译入口模块和异步模块。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default {\\n  experiments: {\\n    lazyCompilation: {\\n      imports: true,\\n      entries: true,\\n    },\\n  },\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"以上配置也可以简化为：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default {\\n  experiments: {\\n    lazyCompilation: true,\\n  },\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"开启 \"}<_components.code>{\"entries\"}</_components.code>{\" 选项后，当启动编译时，不会编译所有的页面，而是仅在路由跳转到对应的页面时，才对该页面进行编译。\"}</_components.p>{\"\\n\"}<_components.p>{\"使用延迟编译入口模块时，有以下注意事项：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"只适用于多页应用（MPA），对单页应用（SPA）没有优化效果。\"}</_components.li>{\"\\n\"}<_components.li>{\"当你访问一个页面时，由于要等待页面编译完成，会有一段时间的白屏。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h3 id=\"局限性\">{\"局限性\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#局限性\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.h4 id=\"禁用拆包规则\">{\"禁用拆包规则\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#禁用拆包规则\">{\"#\"}</_components.a></_components.h4>{\"\\n\"}<_components.p>{\"当你开启延迟编译时，为了保证编译结果正常，Builder 会在开发环境下禁用拆包规则。这不会影响生产环境的打包产物，但会导致开发环境和生产环境的打包产物有一定差异。\"}</_components.p>{\"\\n\"}<_components.h4 id=\"使用代理\">{\"使用代理\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#使用代理\">{\"#\"}</_components.a></_components.h4>{\"\\n\"}<_components.p>{\"Lazy Compilation 依赖 webpack 在本地启动的开发服务器，当你将某个域名代理到 localhost 进行开发时，Lazy Compilation 将无法正常工作。因此，如果你需要使用代理时，请禁用 Lazy Compilation。\"}</_components.p>{\"\\n\"}<_components.h4 id=\"其他潜在的问题\">{\"其他潜在的问题\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#其他潜在的问题\">{\"#\"}</_components.a></_components.h4>{\"\\n\"}<_components.p>{\"考虑到 Lazy Compilation 仍然是 webpack 的实验性功能，因此你在使用过程中，可能会遇到一些潜在的问题，比如编译产物的行为变化，或是编译出现异常。\"}</_components.p>{\"\\n\"}<_components.p>{\"当你遇到这些问题时，可以参考 \"}<_components.a href=\"https://github.com/webpack/webpack/issues\" target=\"_blank\" rel=\"noopener noreferrer\">{\"webpack 的 Issues\"}</_components.a>{\" 寻找解决方案，也可以关闭 \"}<_components.code>{\"lazyCompilation\"}</_components.code>{\" 配置项。\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n","globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fconfigure%2Fapp%2Fexperiments%2Flazy-compilation.mdx\"] = {\"toc\":[],\"title\":\"experiments.lazyCompilation\",\"frontmatter\":{\"sidebar_label\":\"lazyCompilation\"}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nimport Main from '@modern-js/builder-doc/docs/zh/config/experiments/lazyCompilation.md';\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        div: \"div\",\n        p: \"p\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"experimentslazycompilation\">{\"experiments.lazyCompilation\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#experimentslazycompilation\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.div className=\"modern-directive tip\"><_components.div className=\"modern-directive-title\">{\"TIP\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"该配置由 Modern.js Builder 提供，更多信息可参考 \"}<_components.a href=\"https://modernjs.dev/builder/api/config-experiments.html#experimentslazycompilation\" target=\"_blank\" rel=\"noopener noreferrer\">{\"experiments.lazyCompilation\"}</_components.a>{\"。\\n\"}</_components.p></_components.div></_components.div>{\"\\n\"}{\"\\n\"}<Main/></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","ul","li","strong","pre","code","p","h3","a","h4","components","className","id","href","target","rel","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_","h1","div"],"mappings":"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"}