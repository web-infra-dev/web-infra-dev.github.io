{"version":3,"file":"static/js/async/docs_zh_guides_troubleshooting_dependencies_mdx.4325ea97.js","sources":["./docs/zh/guides/troubleshooting/dependencies.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguides%2Ftroubleshooting%2Fdependencies.mdx\"] = {\"toc\":[{\"text\":\"如何查看项目里某个依赖实际安装的版本？\",\"id\":\"如何查看项目里某个依赖实际安装的版本\",\"depth\":3},{\"text\":\"安装依赖时提示 The engine \\\\\\\"node\\\\\\\" is incompatible？\",\"id\":\"安装依赖时提示-the-engine-node-is-incompatible\",\"depth\":3},{\"text\":\"升级依赖后出现 ReactNode 类型错误？\",\"id\":\"升级依赖后出现-reactnode-类型错误\",\"depth\":3},{\"text\":\"执行 pnpm install 之后，控制台出现 peer dependencies 相关 warning？\",\"id\":\"执行-pnpm-install-之后控制台出现-peer-dependencies-相关-warning\",\"depth\":3},{\"text\":\"Modern.js 框架最低支持的 React 版本是多少？\",\"id\":\"modernjs-框架最低支持的-react-版本是多少\",\"depth\":3},{\"text\":\"Modern.js 配置出现类型错误？\",\"id\":\"modernjs-配置出现类型错误\",\"depth\":3}],\"title\":\"依赖安装问题\",\"frontmatter\":{\"sidebar_position\":1}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        h3: \"h3\",\n        p: \"p\",\n        code: \"code\",\n        strong: \"strong\",\n        pre: \"pre\",\n        hr: \"hr\",\n        ul: \"ul\",\n        li: \"li\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"依赖安装问题\">{\"依赖安装问题\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#依赖安装问题\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.h3 id=\"如何查看项目里某个依赖实际安装的版本\">{\"如何查看项目里某个依赖实际安装的版本？\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#如何查看项目里某个依赖实际安装的版本\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"可以使用包管理器自带的 \"}<_components.code>{\"ls\"}</_components.code>{\" 命令来查看项目里依赖的版本。\"}</_components.p>{\"\\n\"}<_components.p>{\"下面是一些基本的示例，详细用法请查看各个包管理器的文档。\"}</_components.p>{\"\\n\"}<_components.p><_components.strong>{\"npm / yarn\"}</_components.strong></_components.p>{\"\\n\"}<_components.p>{\"对于使用 npm 或 yarn 的项目，可以使用 \"}<_components.code>{\"npm ls\"}</_components.code>{\" 命令。\"}</_components.p>{\"\\n\"}<_components.p>{\"比如执行 \"}<_components.code>{\"npm ls @modern-js/core\"}</_components.code>{\"，可以看到如下结果：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code>{\"project\\n└─┬ @modern-js/app-tools@2.0.0\\n  └── @modern-js/core@2.0.0\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p><_components.strong>{\"pnpm\"}</_components.strong></_components.p>{\"\\n\"}<_components.p>{\"对于使用 pnpm 的项目，可以使用 \"}<_components.code>{\"pnpm ls\"}</_components.code>{\" 命令。\"}</_components.p>{\"\\n\"}<_components.p>{\"比如执行 \"}<_components.code>{\"pnpm ls @modern-js/core --depth Infinity\"}</_components.code>{\"，可以看到如下结果：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code>{\"devDependencies:\\n@modern-js/app-tools 2.0.0\\n└── @modern-js/core 2.0.0\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.hr/>{\"\\n\"}<_components.h3 id=\"安装依赖时提示-the-engine-node-is-incompatible\">{'安装依赖时提示 The engine \"node\" is incompatible？'}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#安装依赖时提示-the-engine-node-is-incompatible\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"安装依赖时如果出现以下报错提示，说明当前环境使用的 Node.js 版本过低，需要升级 Node.js 到更高版本。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{'The engine \"node\" is incompatible with this module.\\n\\nExpected version \">=14.17.6\". Got \"12.20.1\"\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"使用 Modern.js 时，建议使用 \"}<_components.a href=\"https://nodejs.org/download/release/latest-v18.x/\" target=\"_blank\" rel=\"noopener noreferrer\">{\"Node.js 18.x\"}</_components.a>{\" 的最新版本。\"}</_components.p>{\"\\n\"}<_components.p>{\"如果当前环境的 Node.js 版本低于上述要求的版本，则可以使用 \"}<_components.a href=\"https://github.com/nvm-sh/nvm\" target=\"_blank\" rel=\"noopener noreferrer\">{\"nvm\"}</_components.a>{\" 或 \"}<_components.a href=\"https://github.com/Schniz/fnm\" target=\"_blank\" rel=\"noopener noreferrer\">{\"fnm\"}</_components.a>{\" 等工具进行版本切换。\"}</_components.p>{\"\\n\"}<_components.p>{\"下面是使用 nvm 的示例：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code>{\"# 安装 Node.js v14\\nnvm install 14\\n\\n# 切换到 Node 14\\nnvm use 14\\n\\n# 将 Node 14 设置为默认版本\\nnvm default 14\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"在本地开发环境推荐使用 \"}<_components.a href=\"https://github.com/Schniz/fnm\" target=\"_blank\" rel=\"noopener noreferrer\">{\"fnm\"}</_components.a>{\"，它的用法与 nvm 相似，但拥有比 nvm 更好的性能。\"}</_components.p>{\"\\n\"}<_components.hr/>{\"\\n\"}<_components.h3 id=\"升级依赖后出现-reactnode-类型错误\">{\"升级依赖后出现 ReactNode 类型错误？\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#升级依赖后出现-reactnode-类型错误\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"升级项目的依赖后，如果出现以下类型报错，说明项目中安装了错误的 \"}<_components.code>{\"@types/react\"}</_components.code>{\" 版本。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"The types returned by 'render()' are incompatible between these types.\\nType 'React.ReactNode' is not assignable to type 'import(\\\"/node_modules/@types/react/index\\\").ReactNode'.\\nType '{}' is not assignable to type 'ReactNode'.\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"出现这个问题的原因是 React 18 与 React 16/17 中的 ReactNode 类型定义不同，如果项目中出现多个不同 \"}<_components.code>{\"@types/react\"}</_components.code>{\" 版本，就会出现 ReactNode 类型冲突，导致以上报错。\"}</_components.p>{\"\\n\"}<_components.p>{\"解决方法为将项目中的 \"}<_components.code>{\"@types/react\"}</_components.code>{\" 和 \"}<_components.code>{\"@types/react-dom\"}</_components.code>{\" 锁定在统一的版本上，比如 \"}<_components.code>{\"v17\"}</_components.code>{\"。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-json\">{'{\\n  \"@types/react\": \"^17\",\\n  \"@types/react-dom\": \"^17\"\\n}\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"关于锁定依赖版本的方法，请参考 \"}<_components.a href=\"/guides/get-started/upgrade#%E9%94%81%E5%AE%9A%E5%AD%90%E4%BE%9D%E8%B5%96\">{\"锁定子依赖\"}</_components.a>{\"。\"}</_components.p>{\"\\n\"}<_components.hr/>{\"\\n\"}<_components.h3 id=\"执行-pnpm-install-之后控制台出现-peer-dependencies-相关-warning\">{\"执行 pnpm install 之后，控制台出现 peer dependencies 相关 warning？\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#执行-pnpm-install-之后控制台出现-peer-dependencies-相关-warning\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"出现该警告的原因是，某些三方 npm 包声明的 peer dependencies 版本范围与 Modern.js 中安装的版本范围不一致。\"}</_components.p>{\"\\n\"}<_components.p>{\"绝大多数情况下，peer dependencies 的警告不会影响项目运行，不需要额外进行处理，请忽略相关 warning。\"}</_components.p>{\"\\n\"}<_components.hr/>{\"\\n\"}<_components.h3 id=\"modernjs-框架最低支持的-react-版本是多少\">{\"Modern.js 框架最低支持的 React 版本是多少？\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modernjs-框架最低支持的-react-版本是多少\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p><_components.strong>{\"Modern.js 框架推荐使用的 React 版本为 >= 18.0.0\"}</_components.strong>{\"，并且不同功能对 React 版本的要求有所不同。\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"如果你在使用 React 17，那么部分框架功能将无法使用，比如 Streaming SSR，因为它依赖 React 18 提供的新特性。\"}</_components.li>{\"\\n\"}<_components.li>{\"如果你仍然在使用 React 16，那么将无法使用 Modern.js 的运行时或服务端能力。你可以考虑使用 Modern.js 的构建模式，即只使用 Modern.js 的构建能力，这种情况可以继续使用 React 16。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"在 Modern.js 未来的 major 版本中，我们会逐步移除对 React 16 和 React 17 的支持。因此，请尽快升级到 React 18 以上版本。\"}</_components.p>{\"\\n\"}<_components.hr/>{\"\\n\"}<_components.h3 id=\"modernjs-配置出现类型错误\">{\"Modern.js 配置出现类型错误？\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modernjs-配置出现类型错误\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"Type 'CliPlugin<{}, {}, {}, {}>' is not assignable to type 'CliPlugin<any, {}, {}, {}>'.\\n  Types of property 'setup' are incompatible.\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"当你在使用 Modern.js 框架时配置文件出现以上报错，可能是由于 Modern.js 相关包的版本号未统一导致。可以通过 \"}<_components.code>{\"npx modern upgrade\"}</_components.code>{\" 命令对 modern.js 依赖进行升级和版本统一。\"}</_components.p>{\"\\n\"}<_components.p>{\"在 monorepo 中由于不同子项目所用的 Modern.js 框架版本不一致也可能出现以上问题。\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","h3","p","code","strong","pre","hr","ul","li","components","id","className","href","target","rel","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"+NAAA,E,mDAGA,SAASA,EAAkBC,CAAK,EAC5B,IAAMC,EAAcC,OAAOC,MAAM,CAAC,CAC9BC,GAAI,KACJC,EAAG,IACHC,GAAI,KACJC,EAAG,IACHC,KAAM,OACNC,OAAQ,SACRC,IAAK,MACLC,GAAI,KACJC,GAAI,KACJC,GAAI,IACR,EAAG,yBAAsBb,EAAMc,UAAU,EACzC,MAAO,uB,UAAE,WAACb,EAAYG,EAAE,EAACW,GAAG,S,UAAU,SAAS,UAACd,EAAYI,CAAC,EAACW,UAAU,gBAAgB,cAAY,OAAOC,KAAK,U,SAAW,G,MAAsC,KAAK,WAAChB,EAAYK,EAAE,EAACS,GAAG,qB,UAAsB,sBAAsB,UAACd,EAAYI,CAAC,EAACW,UAAU,gBAAgB,cAAY,OAAOC,KAAK,sB,SAAuB,G,MAAsC,KAAK,WAAChB,EAAYM,CAAC,E,UAAE,eAAe,UAACN,EAAYO,IAAI,E,SAAE,I,GAAyB,kB,GAAmC,KAAK,UAACP,EAAYM,CAAC,E,SAAE,8B,GAAgD,KAAK,UAACN,EAAYM,CAAC,E,SAAC,UAACN,EAAYQ,MAAM,E,SAAE,Y,KAAmD,KAAK,WAACR,EAAYM,CAAC,E,UAAE,4BAA4B,UAACN,EAAYO,IAAI,E,SAAE,Q,GAA6B,O,GAAwB,KAAK,WAACP,EAAYM,CAAC,E,UAAE,QAAQ,UAACN,EAAYO,IAAI,E,SAAE,wB,GAA6C,a,GAA8B,KAAK,UAACP,EAAYS,GAAG,E,SAAC,UAACT,EAAYO,IAAI,E,SAAE,wE,KAA+G,KAAK,UAACP,EAAYM,CAAC,E,SAAC,UAACN,EAAYQ,MAAM,E,SAAE,M,KAA6C,KAAK,WAACR,EAAYM,CAAC,E,UAAE,sBAAsB,UAACN,EAAYO,IAAI,E,SAAE,S,GAA8B,O,GAAwB,KAAK,WAACP,EAAYM,CAAC,E,UAAE,QAAQ,UAACN,EAAYO,IAAI,E,SAAE,0C,GAA+D,a,GAA8B,KAAK,UAACP,EAAYS,GAAG,E,SAAC,UAACT,EAAYO,IAAI,E,SAAE,2E,KAAkH,KAAK,UAACP,EAAYU,EAAE,KAAG,KAAK,WAACV,EAAYK,EAAE,EAACS,GAAG,0C,UAA2C,6CAA6C,UAACd,EAAYI,CAAC,EAACW,UAAU,gBAAgB,cAAY,OAAOC,KAAK,2C,SAA4C,G,MAAsC,KAAK,UAAChB,EAAYM,CAAC,E,SAAE,4D,GAA8E,KAAK,UAACN,EAAYS,GAAG,E,SAAC,UAACT,EAAYO,IAAI,EAACQ,UAAU,gB,SAAiB,sG,KAA6I,KAAK,WAACf,EAAYM,CAAC,E,UAAE,uBAAuB,UAACN,EAAYI,CAAC,EAACY,KAAK,oDAAoDC,OAAO,SAASC,IAAI,sB,SAAuB,c,GAAgC,U,GAA2B,KAAK,WAAClB,EAAYM,CAAC,E,UAAE,qCAAqC,UAACN,EAAYI,CAAC,EAACY,KAAK,gCAAgCC,OAAO,SAASC,IAAI,sB,SAAuB,K,GAAuB,MAAM,UAAClB,EAAYI,CAAC,EAACY,KAAK,gCAAgCC,OAAO,SAASC,IAAI,sB,SAAuB,K,GAAuB,c,GAA+B,KAAK,UAAClB,EAAYM,CAAC,E,SAAE,gB,GAAkC,KAAK,UAACN,EAAYS,GAAG,E,SAAC,UAACT,EAAYO,IAAI,E,SAAE,wG,KAA+I,KAAK,WAACP,EAAYM,CAAC,E,UAAE,eAAe,UAACN,EAAYI,CAAC,EAACY,KAAK,gCAAgCC,OAAO,SAASC,IAAI,sB,SAAuB,K,GAAuB,gC,GAAiD,KAAK,UAAClB,EAAYU,EAAE,KAAG,KAAK,WAACV,EAAYK,EAAE,EAACS,GAAG,yB,UAA0B,0BAA0B,UAACd,EAAYI,CAAC,EAACW,UAAU,gBAAgB,cAAY,OAAOC,KAAK,0B,SAA2B,G,MAAsC,KAAK,WAAChB,EAAYM,CAAC,E,UAAE,mCAAmC,UAACN,EAAYO,IAAI,E,SAAE,c,GAAmC,O,GAAwB,KAAK,UAACP,EAAYS,GAAG,E,SAAC,UAACT,EAAYO,IAAI,EAACQ,UAAU,gB,SAAiB,wO,KAA+Q,KAAK,WAACf,EAAYM,CAAC,E,UAAE,qEAAqE,UAACN,EAAYO,IAAI,E,SAAE,c,GAAmC,kC,GAAmD,KAAK,WAACP,EAAYM,CAAC,E,UAAE,cAAc,UAACN,EAAYO,IAAI,E,SAAE,c,GAAmC,MAAM,UAACP,EAAYO,IAAI,E,SAAE,kB,GAAuC,iBAAiB,UAACP,EAAYO,IAAI,E,SAAE,K,GAA0B,I,GAAqB,KAAK,UAACP,EAAYS,GAAG,E,SAAC,UAACT,EAAYO,IAAI,EAACQ,UAAU,gB,SAAiB,+D,KAAsG,KAAK,WAACf,EAAYM,CAAC,E,UAAE,mBAAmB,UAACN,EAAYI,CAAC,EAACY,KAAK,4E,SAA6E,O,GAAyB,I,GAAqB,KAAK,UAAChB,EAAYU,EAAE,KAAG,KAAK,WAACV,EAAYK,EAAE,EAACS,GAAG,uD,UAAwD,yDAAyD,UAACd,EAAYI,CAAC,EAACW,UAAU,gBAAgB,cAAY,OAAOC,KAAK,wD,SAAyD,G,MAAsC,KAAK,UAAChB,EAAYM,CAAC,E,SAAE,wE,GAA0F,KAAK,UAACN,EAAYM,CAAC,E,SAAE,gE,GAAkF,KAAK,UAACN,EAAYU,EAAE,KAAG,KAAK,WAACV,EAAYK,EAAE,EAACS,GAAG,+B,UAAgC,iCAAiC,UAACd,EAAYI,CAAC,EAACW,UAAU,gBAAgB,cAAY,OAAOC,KAAK,gC,SAAiC,G,MAAsC,KAAK,WAAChB,EAAYM,CAAC,E,UAAC,UAACN,EAAYQ,MAAM,E,SAAE,uC,GAA8D,4B,GAA6C,KAAK,WAACR,EAAYW,EAAE,E,UAAE,KAAK,UAACX,EAAYY,EAAE,E,SAAE,uE,GAA0F,KAAK,UAACZ,EAAYY,EAAE,E,SAAE,kH,GAAqI,K,GAAuB,KAAK,UAACZ,EAAYM,CAAC,E,SAAE,qF,GAAuG,KAAK,UAACN,EAAYU,EAAE,KAAG,KAAK,WAACV,EAAYK,EAAE,EAACS,GAAG,oB,UAAqB,sBAAsB,UAACd,EAAYI,CAAC,EAACW,UAAU,gBAAgB,cAAY,OAAOC,KAAK,qB,SAAsB,G,MAAsC,KAAK,UAAChB,EAAYS,GAAG,E,SAAC,UAACT,EAAYO,IAAI,EAACQ,UAAU,gB,SAAiB,2I,KAAkL,KAAK,WAACf,EAAYM,CAAC,E,UAAE,mEAAmE,UAACN,EAAYO,IAAI,E,SAAE,oB,GAAyC,8B,GAA+C,KAAK,UAACP,EAAYM,CAAC,E,SAAE,oD,KAC3+M,CAjBA,GAAAa,UAAA,EAAWC,mBAAmB,EAA9B,GAAWA,mBAAmB,CAAK,CAAC,GACpCD,WAAWC,mBAAmB,CAAC,mDAAmD,CAAG,CAAC,IAAM,CAAC,CAAC,KAAO,sBAAsB,GAAK,qBAAqB,MAAQ,CAAC,EAAE,CAAC,KAAO,iDAAmD,GAAK,0CAA0C,MAAQ,CAAC,EAAE,CAAC,KAAO,0BAA0B,GAAK,yBAAyB,MAAQ,CAAC,EAAE,CAAC,KAAO,yDAAyD,GAAK,uDAAuD,MAAQ,CAAC,EAAE,CAAC,KAAO,iCAAiC,GAAK,+BAA+B,MAAQ,CAAC,EAAE,CAAC,KAAO,sBAAsB,GAAK,oBAAoB,MAAQ,CAAC,EAAE,CAAC,MAAQ,SAAS,YAAc,CAAC,iBAAmB,CAAC,CAAC,EAqBxrB,MAJA,W,IAAoBrB,EAAQ,UAAR,6CAAQ,CAAC,EACRsB,EAAc,AAAApB,OAAOC,MAAM,CAAC,CAAC,EAAG,yBAAsBH,EAAMc,UAAU,EAA/ES,OAAO,CACf,OAAOD,EAAY,UAACA,EAAA,mBAActB,GAAA,C,SAAO,UAACD,EAAA,KAAAyB,CAAA,AAAAA,EAAA,GAAsBxB,G,IAAuBD,EAAkBC,EAC7G,C"}