{"version":3,"file":"static/js/async/docs_en_guides_topic-detail_framework-plugin_extend_mdx.94b02343.js","sources":["./docs/en/guides/topic-detail/framework-plugin/extend.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"en%2Fguides%2Ftopic-detail%2Fframework-plugin%2Fextend.mdx\"] = {\"toc\":[{\"text\":\"Example\",\"id\":\"example\",\"depth\":2},{\"text\":\"Creating Hooks\",\"id\":\"creating-hooks\",\"depth\":3},{\"text\":\"Using Hooks\",\"id\":\"using-hooks\",\"depth\":3}],\"title\":\"Extending Plugin Hooks\",\"frontmatter\":{\"title\":\"Extending\",\"sidebar_position\":5}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        h2: \"h2\",\n        pre: \"pre\",\n        code: \"code\",\n        h3: \"h3\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"extending-plugin-hooks\">{\"Extending Plugin Hooks\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#extending-plugin-hooks\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"This section describes how to extend plugin Hooks by dynamically registering \"}<_components.a href=\"/guides/topic-detail/framework-plugin/hook\">{\"Hook models\"}</_components.a>{\".\"}</_components.p>{\"\\n\"}<_components.h2 id=\"example\">{\"Example\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#example\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Here is a simple example to demonstrate how to extend plugin Hooks by adding Hooks that manage console output.\"}</_components.p>{\"\\n\"}<_components.p>{\"First, we initialize an empty project file and add basic dependencies:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"$ npx @modern-js/create@latest modern-js-demo\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"creating-hooks\">{\"Creating Hooks\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#creating-hooks\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"First, let's create a Hook model:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta=\"title=config/plugin/myPlugin.ts\">{\"import { createWaterfall } from '@modern-js/plugin';\\n\\nconst message = createWaterfall<string[]>();\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"then register:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta=\"title=config/plugin/myPlugin.ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  name: 'my-plugin',\\n\\n  registerHook: {\\n    message,\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"add Hook types:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta=\"title=config/plugin/myPlugin.ts\">{\"declare module '@modern-js/core' {\\n  export interface Hooks {\\n    message: typeof message;\\n  }\\n}\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"using-hooks\">{\"Using Hooks\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#using-hooks\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"Create a plugin and add command handling logic through the \"}<_components.code>{\"commands\"}</_components.code>{\" Hook function:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta=\"title=config/plugin/myPlugin.ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  name: 'my-plugin',\\n\\n  setup(api) {\\n    return {\\n      commands({ program }) {\\n        program.command('message').action(async () => {\\n          const hookRunners = api.useHookRunners();\\n          const messages = hookRunners.message([]);\\n          console.log(messages.join('\\\\n'));\\n        });\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"now \"}<_components.code>{\"config/plugin/myPlugin.ts\"}</_components.code>{\" is:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta=\"title=config/plugin/myPlugin.ts\">{\"import { createWaterfall } from '@modern-js/plugin';\\nimport type { CliPlugin } from '@modern-js/core';\\n\\nconst message = createWaterfall<string[]>();\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  name: 'my-plugin',\\n\\n  registerHook: {\\n    message,\\n  },\\n\\n  setup(api) {\\n    return {\\n      commands({ program }) {\\n        program.command('message').action(async () => {\\n          const hookRunners = api.useHookRunners();\\n          const messages = hookRunners.message([]);\\n          console.log(messages.join('\\\\n'));\\n        });\\n      },\\n    };\\n  },\\n});\\n\\ndeclare module '@modern-js/core' {\\n  export interface Hooks {\\n    message: typeof message;\\n  }\\n}\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"Then add this plugin in \"}<_components.code>{\"modern.config.ts\"}</_components.code>{\":\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"import { defineConfig } from '@modern-js/app-tools';\\nimport { myPlugin } from './config/plugin/myPlugin';\\n\\nexport default defineConfig({\\n  plugins: [myPlugin()],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"Now, run \"}<_components.code>{\"npx modern message\"}</_components.code>{\", and the related logic will be executed, but no information is collected, so the console output is empty.\"}</_components.p>{\"\\n\"}<_components.p>{\"add:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta=\"title=config/plugin/otherPlugin.ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const otherPlugin = (): CliPlugin => ({\\n  name: 'other-plugin',\\n\\n  setup(api) {\\n    return {\\n      message(list) {\\n        return [...list, '[foo] line 0', '[foo] line 1'];\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"add to config:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"import { defineConfig } from '@modern-js/app-tools';\\nimport { myPlugin } from './config/plugin/myPlugin';\\nimport { otherPlugin } from './config/plugin/otherPlugin';\\n\\nexport default defineConfig({\\n  plugins: [myPlugin(), otherPlugin()],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"run \"}<_components.code>{\"npx modern message\"}</_components.code>{\", then we can get follow in console:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"$ modern message\\n[foo] line 0\\n[foo] line 1\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"By using the above approach, you can extend plugin Hooks with various capabilities.\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","h2","pre","code","h3","components","id","className","href","meta","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}