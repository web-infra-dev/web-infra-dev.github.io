{"version":3,"file":"static/js/async/docs_zh_guide_advance_copy_md.9d2d54bf.js","sources":["./docs/zh/guide/advance/copy.md"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguide%2Fadvance%2Fcopy.md\"] = {\"toc\":[{\"text\":\"了解 Copy API\",\"id\":\"了解-copy-api\",\"depth\":2},{\"text\":\"API 详解\",\"id\":\"api-详解\",\"depth\":2},{\"text\":\"不同场景使用示例\",\"id\":\"不同场景使用示例\",\"depth\":2},{\"text\":\"将文件复制文件\",\"id\":\"将文件复制文件\",\"depth\":3},{\"text\":\"将文件复制到目录\",\"id\":\"将文件复制到目录\",\"depth\":3},{\"text\":\"从目录复制到目录\",\"id\":\"从目录复制到目录\",\"depth\":3},{\"text\":\"从目录到文件\",\"id\":\"从目录到文件\",\"depth\":3},{\"text\":\"使用 Glob\",\"id\":\"使用-glob\",\"depth\":3}],\"title\":\"使用 Copy 工具\",\"frontmatter\":{\"sidebar_position\":3}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        h2: \"h2\",\n        code: \"code\",\n        ul: \"ul\",\n        li: \"li\",\n        pre: \"pre\",\n        blockquote: \"blockquote\",\n        h3: \"h3\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"使用-copy-工具\">{\"使用 Copy 工具\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#使用-copy-工具\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"模块工程提供了 Copy 工具用于将已经存在的单个文件或整个目录复制到产物目录中。接下来我们学习如何使用它。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"了解-copy-api\">{\"了解 Copy API\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#了解-copy-api\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"我们可以通过 \"}<_components.a href=\"/api/config/build-config#copy\"><_components.code>{\"buildConfig.copy\"}</_components.code></_components.a>{\" API 来使用 Copy 工具，它包含以下两个主要配置：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.a href=\"/api/config/build-config#copypatterns\"><_components.code>{\"patterns\"}</_components.code></_components.a></_components.li>{\"\\n\"}<_components.li><_components.a href=\"/api/config/build-config#copyoptions\"><_components.code>{\"options\"}</_components.code></_components.a></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"api-详解\">{\"API 详解\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#api-详解\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p><_components.code>{\"copy.patterns\"}</_components.code>{\" 用于寻找复制的文件以及配置输出的路径。\"}</_components.p>{\"\\n\"}<_components.p>{\"其中 \"}<_components.code>{\"patterns.from\"}</_components.code>{\" 用于指定要复制的文件或者目录。它接收 Glob 形式字符串或具体路径。Glob 形式字符串是指 \"}<_components.a href=\"https://github.com/mrmlnc/fast-glob#pattern-syntax\" target=\"_blank\" rel=\"noopener noreferrer\">{\"fast-glob pattern-syntax\"}</_components.a>{\"。因此我们可以按照如下两种方式使用它：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: {\\n    copy: {\\n      patterns: [\\n        { from: './index.html', to: '' },\\n        { from: './*.html', to: '' },\\n      ],\\n    },\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p><_components.code>{\"patterns.context\"}</_components.code>{\" 一般和 \"}<_components.code>{\"patterns.from\"}</_components.code>{\" 配合使用，默认情况下它的值与 \"}<_components.a href=\"/api/config/build-config#sourcedir\"><_components.code>{\"buildConfig.sourceDir\"}</_components.code></_components.a>{\" 相同，因此我们可以按照如下方式指定 \"}<_components.code>{\"src/data.json\"}</_components.code>{\" 文件为要复制的文件：\"}</_components.p>{\"\\n\"}<_components.blockquote>{\"\\n\"}<_components.p>{\"默认情况下，\"}<_components.code>{\"buildConfig.sourceDir\"}</_components.code>{\" 为 \"}<_components.code>{\"src\"}</_components.code></_components.p>{\"\\n\"}</_components.blockquote>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: {\\n    copy: {\\n      patterns: [\\n        { from: './data.json' to: ''},\\n      ],\\n    },\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"当指定的文件不在源码目录的时候，可以修改 \"}<_components.code>{\"context\"}</_components.code>{\" 配置。例如指定项目目录下的 \"}<_components.code>{\"temp/index.html\"}</_components.code>{\" 为要复制的文件：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import path from 'path';\\n\\nexport default defineConfig({\\n  buildConfig: {\\n    copy: {\\n      patterns: [\\n        {\\n          from: './index.html',\\n          context: path.join(__dirname, './temp')\\n          to: '',\\n        }\\n      ],\\n    },\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p><_components.code>{\"patterns.to\"}</_components.code>{\" 用于指定复制文件的输出路径，默认情况下它的值为 \"}<_components.a href=\"/api/config/build-config#outDir\"><_components.code>{\"buildConfig.outDir\"}</_components.code></_components.a>{\"对应的值。因此我们按照如下方式将 \"}<_components.code>{\"src/index.html\"}</_components.code>{\" 复制到 \"}<_components.code>{\"dist\"}</_components.code>{\" 目录下：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: {\\n    copy: {\\n      patterns: [{ from: './index.html' }],\\n    },\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"当我们配置了 \"}<_components.code>{\"patterns.to\"}</_components.code>{\" 的时候：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"如果是相对路径，则该路径会相对于 \"}<_components.code>{\"buildConfig.outDir\"}</_components.code>{\" 计算出复制文件输出的绝对路径。\"}</_components.li>{\"\\n\"}<_components.li>{\"如果是绝对路径，则会直接使用该值。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"最后 \"}<_components.code>{\"patterns.globOptions\"}</_components.code>{\" 用于配置寻找复制文件 \"}<_components.a href=\"https://github.com/sindresorhus/globby\" target=\"_blank\" rel=\"noopener noreferrer\">{\"globby\"}</_components.a>{\" 对象，其配置可参考：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.a href=\"https://github.com/sindresorhus/globby#options\" target=\"_blank\" rel=\"noopener noreferrer\">{\"globby.options\"}</_components.a></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"不同场景使用示例\">{\"不同场景使用示例\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#不同场景使用示例\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.h3 id=\"将文件复制文件\">{\"将文件复制文件\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#将文件复制文件\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: [\\n    {\\n      outDir: 'dist',\\n      copy: {\\n        patterns: [\\n          /**\\n           * copy file to file\\n           */\\n          {\\n            from: './temp-1/a.png',\\n            context: __dirname,\\n            to: './temp-1/b.png',\\n          },\\n        ],\\n      },\\n    },\\n  ],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"将文件复制到目录\">{\"将文件复制到目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#将文件复制到目录\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: [\\n    {\\n      outDir: 'dist',\\n      copy: {\\n        patterns: [\\n          /**\\n           * copy file to dir\\n           */\\n          {\\n            from: './temp-2/a.png',\\n            context: __dirname,\\n            to: './temp-2',\\n          },\\n        ],\\n      },\\n    },\\n  ],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"从目录复制到目录\">{\"从目录复制到目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#从目录复制到目录\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: [\\n    {\\n      outDir: 'dist',\\n      copy: {\\n        patterns: [\\n          /**\\n           * copy dir to dir\\n           */\\n          {\\n            from: './temp-3/',\\n            to: './temp-3',\\n            context: __dirname,\\n          },\\n        ],\\n        options: {\\n          enableCopySync: true,\\n        },\\n      },\\n    },\\n  ],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"从目录到文件\">{\"从目录到文件\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#从目录到文件\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: [\\n    {\\n      outDir: 'dist',\\n      copy: {\\n        patterns: [\\n          /**\\n           * copy dir to file\\n           */\\n          {\\n            from: './temp-4/',\\n            context: __dirname,\\n            to: './temp-4/_index.html',\\n          },\\n        ],\\n        options: {\\n          enableCopySync: true,\\n        },\\n      },\\n    },\\n  ],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"使用-glob\">{\"使用 Glob\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#使用-glob\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default defineConfig({\\n  buildConfig: [\\n    {\\n      outDir: 'dist',\\n      copy: {\\n        patterns: [\\n          /**\\n           * copy glob to dir\\n           */\\n          {\\n            from: './*.html',\\n            to: './temp-5',\\n          },\\n        ],\\n        options: {\\n          enableCopySync: true,\\n        },\\n      },\\n    },\\n    {\\n      copy: {\\n        patterns: [\\n          /**\\n           * copy glob to file\\n           */\\n          {\\n            from: './*.html',\\n            to: './temp-6/index.html',\\n          },\\n        ],\\n        options: {\\n          enableCopySync: true,\\n        },\\n      },\\n    },\\n  ],\\n});\\n\"}</_components.code></_components.pre></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","h2","code","ul","li","pre","blockquote","h3","components","id","className","href","target","rel","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}