(self.webpackChunk_modern_js_module_tools_docs=self.webpackChunk_modern_js_module_tools_docs||[]).push([["docs_zh_plugins_guide_getting-started_mdx"],{93689:function(n,e,l){"use strict";l.r(e),l.d(e,{default:function(){return t}});var s,i=l("15169"),r=l("43932"),d=l("9880"),o=l("23169");function c(n){var e=Object.assign({h1:"h1",a:"a",p:"p",ol:"ol",li:"li",code:"code",pre:"pre",ul:"ul"},(0,o.useMDXComponents)(),n.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(e.h1,{id:"快速开始",children:["快速开始",(0,d.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,d.jsx)(e.p,{children:"模块工程解决方案不仅提供了丰富的功能，同时也支持通过插件的方式为当前项目扩展能力。"}),"\n",(0,d.jsx)(e.p,{children:"我们可以通过下面的例子来快速了解如何编写一个 Module Tools 插件："}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:["首先我们在初始化的项目下创建 ",(0,d.jsx)(e.code,{children:"./plugins/example.ts"})," 文件。"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-md",meta:'title="./project"',children:"./\n├── plugins\n│ └── example.ts\n├── src/\n└── modern.config.ts\n"})}),"\n",(0,d.jsxs)(e.ol,{start:"2",children:["\n",(0,d.jsxs)(e.li,{children:["接着在 ",(0,d.jsx)(e.code,{children:"example.ts"})," 文件中增加插件的代码。"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-ts",children:"import type { CliPlugin, ModuleTools } from '@modern-js/module-tools';\n\nexport const ExamplePlugin = (): CliPlugin<ModuleTools> => {\n  return {\n    name: 'example',\n    setup() {\n      console.info('this is example plugin');\n      return {\n        // use hooks\n        afterBuild() {\n          console.info('build over');\n        },\n      };\n    },\n  };\n};\n"})}),"\n",(0,d.jsxs)(e.ol,{start:"3",children:["\n",(0,d.jsxs)(e.li,{children:["然后我们通过 ",(0,d.jsx)(e.a,{href:"/api/config/plugins",children:(0,d.jsx)(e.code,{children:"plugins"})})," API，将刚刚写好的插件进行注册。"]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { examplePlugin } from './plugins/example';\nexport default defineConfig({\n  plugins: [examplePlugin()],\n});\n"})}),"\n",(0,d.jsxs)(e.ol,{start:"4",children:["\n",(0,d.jsxs)(e.li,{children:["最后运行 ",(0,d.jsx)(e.code,{children:"modern build"}),"，就可以看到："]}),"\n"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-bash",meta:'title="terminal"',children:"this is example plugin\nBuild succeed: 510.684ms\nbuild over\n"})}),"\n",(0,d.jsx)(e.p,{children:"通过上面这个例子，我们了解到了下面几件事："}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"推荐的插件目录结构"}),"\n",(0,d.jsx)(e.li,{children:"插件的初始化代码"}),"\n",(0,d.jsx)(e.li,{children:"插件的注册"}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"除了以上内容以外，我们还需要了解："}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:(0,d.jsx)(e.a,{href:"/plugins/guide/plugin-object",children:"插件对象、类型定义与推荐配置项"})}),"\n",(0,d.jsx)(e.li,{children:(0,d.jsxs)(e.a,{href:"/plugins/guide/setup-function",children:["setup 函数、",(0,d.jsx)(e.code,{children:"api"})," 对象参数、生命周期钩子"]})}),"\n"]})]})}(s=globalThis).__RSPRESS_PAGE_META||(s.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["zh%2Fplugins%2Fguide%2Fgetting-started.mdx"]={toc:[],title:"快速开始",frontmatter:{sidebar_position:1}};var t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},(0,o.useMDXComponents)(),n.components).wrapper;return e?(0,d.jsx)(e,(0,r._)((0,i._)({},n),{children:(0,d.jsx)(c,(0,i._)({},n))})):c(n)}}}]);