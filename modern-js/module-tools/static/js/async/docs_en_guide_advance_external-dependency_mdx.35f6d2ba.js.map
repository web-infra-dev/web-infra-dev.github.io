{"version":3,"file":"static/js/async/docs_en_guide_advance_external-dependency_mdx.35f6d2ba.js","sources":["./docs/en/guide/advance/external-dependency.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"en%2Fguide%2Fadvance%2Fexternal-dependency.mdx\"] = {\"toc\":[{\"text\":\"Default handling of third-party dependencies\",\"id\":\"default-handling-of-third-party-dependencies\",\"depth\":2},{\"text\":\"Example\",\"id\":\"example\",\"depth\":3},{\"text\":\"Exclude specified third-party dependencies\",\"id\":\"exclude-specified-third-party-dependencies\",\"depth\":2}],\"title\":\"Handle third-party dependencies\",\"frontmatter\":{\"sidebar_position\":4}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        code: \"code\",\n        pre: \"pre\",\n        h2: \"h2\",\n        strong: \"strong\",\n        h3: \"h3\",\n        ul: \"ul\",\n        li: \"li\",\n        blockquote: \"blockquote\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"handle-third-party-dependencies\">{\"Handle third-party dependencies\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#handle-third-party-dependencies\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"Generally, third-party dependencies required by a project can be installed via the \"}<_components.code>{\"install\"}</_components.code>{\" command in the package manager. After the third-party dependencies are successfully installed, they will generally appear under \"}<_components.code>{\"dependencies\"}</_components.code>{\" and \"}<_components.code>{\"devDependencies\"}</_components.code>{\" in the project \"}<_components.code>{\"package.json\"}</_components.code>{\".\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-json\" meta='title=\"pacakge.json\"'>{'{\\n  \"dependencies\": {},\\n  \"devDependencies\": {}\\n}\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"Dependencies under \"}<_components.code>{'\"dependencies\"'}</_components.code>{\" are generally related to project code and builds, and if these third-party dependencies are declared under \"}<_components.code>{'\"devDependencies\"'}</_components.code>{\", then there will be missing dependencies in production environments.\"}</_components.p>{\"\\n\"}<_components.p>{\"In addition to \"}<_components.code>{'\"dependencies\"'}</_components.code>{\", \"}<_components.a href=\"/en/guide/basic/before-getting-started#peerdependencies\"><_components.code>{'\"peerDependencies\"'}</_components.code></_components.a>{\" can also declare dependencies that are needed in the production environment, but it puts more emphasis on the existence of these dependencies declared by \"}<_components.code>{'\"peerDependencies\"'}</_components.code>{\" in the project's runtime environment, similar to the plugin mechanism.\"}</_components.p>{\"\\n\"}<_components.h2 id=\"default-handling-of-third-party-dependencies\">{\"Default handling of third-party dependencies\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#default-handling-of-third-party-dependencies\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"By default, third-party dependencies under \"}<_components.code>{'\"dependencies\"'}</_components.code>{\" and \"}<_components.code>{'\"peerDependencies\"'}</_components.code>{\" are not bundled in the module project**.\"}</_components.p>{\"\\n\"}<_components.p>{\"This is because when the npm package is installed, its \"}<_components.code>{'\"dependencies\"'}</_components.code>{\" will also be installed. By not packaging \"}<_components.code>{'\"dependencies\"'}</_components.code>{\", you can reduce the size of the package product.\"}</_components.p>{\"\\n\"}<_components.p>{\"If you need to package some dependencies, it is recommended to move them from \"}<_components.code>{'\"dependencies\"'}</_components.code>{\" to \"}<_components.code>{'\"devDependencies\"'}</_components.code>{\", which is equivalent to \"}<_components.strong>{\"prebundle\"}</_components.strong>{\" the dependencies and reduces the size of the dependency installation.\"}</_components.p>{\"\\n\"}<_components.h3 id=\"example\">{\"Example\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#example\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"If the project has a dependency on \"}<_components.code>{\"react\"}</_components.code>{\".\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-json\" meta='title=\"package.json\"'>{'{\\n  \"dependencies\": {\\n    \"react\": \"^17\"\\n  },\\n  // or\\n  \"peerDependencies\": {\\n    \"react\": \"^17\"\\n  }\\n}\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"When a \"}<_components.code>{\"react\"}</_components.code>{\" dependency is used in the source code:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-tsx\" meta='title=\"src/index.ts\"'>{\"import React from 'react';\\nconsole.info(React);\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"The \"}<_components.code>{\"react\"}</_components.code>{\" code is not bundled into the artifact:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-js\" meta='title=\"dist/index.js\"'>{\"import React from 'react';\\nconsole.info(React);\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"If you want to modify the default processing, you can use the following API.\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.a href=\"/api/config/build-config#autoexternal\"><_components.code>{\"buildConfig.autoExternal\"}</_components.code></_components.a></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"exclude-specified-third-party-dependencies\">{\"Exclude specified third-party dependencies\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#exclude-specified-third-party-dependencies\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"We mentioned above the use of the \"}<_components.code>{\"buildConfig.autoExternal\"}</_components.code>{\" API, and \"}<_components.a href=\"/en/api/config/build-config#externals\"><_components.code>{\"buildConfig.externals\"}</_components.code></_components.a>{\" can control which third-party dependencies to handle\\nthe project's dependencies in a more granular way.\"}</_components.p>{\"\\n\"}<_components.p>{\"For example, when we need to leave only certain dependencies unpacked, we can configure it as follows.\"}</_components.p>{\"\\n\"}<_components.blockquote>{\"\\n\"}<_components.p>{\"In this case, it is likely that some dependencies are not suitable for packaging. If this is the case, then you can handle it as follows.\"}</_components.p>{\"\\n\"}</_components.blockquote>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"epxort default defineConfig({\\n  buildConfig: {\\n    autoExternal: false,\\n    externals: ['pkg-1', /pkg-2/],\\n  }\\n});\\n\"}</_components.code></_components.pre></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","code","pre","h2","strong","h3","ul","li","blockquote","components","id","className","href","meta","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}