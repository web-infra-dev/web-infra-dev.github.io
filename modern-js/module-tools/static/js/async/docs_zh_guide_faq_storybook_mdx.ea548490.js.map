{"version":3,"file":"static/js/async/docs_zh_guide_faq_storybook_mdx.ea548490.js","sources":["./docs/zh/components/faq-storybook.mdx","./docs/zh/guide/faq/storybook.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fcomponents%2Ffaq-storybook.mdx\"] = {\"toc\":[],\"title\":\"\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    return <></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n","globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguide%2Ffaq%2Fstorybook.mdx\"] = {\"toc\":[{\"text\":\"支持 Storybook v7\",\"id\":\"支持-storybook-v7\",\"depth\":2},{\"text\":\"使用 Storybook Addon 或者其他配置不生效\",\"id\":\"使用-storybook-addon-或者其他配置不生效\",\"depth\":2},{\"text\":\"Cannot find module \\\\'react-dom/package.json\",\"id\":\"cannot-find-module-react-dompackagejson\",\"depth\":2},{\"text\":\"报错后，看不到具体报错信息\",\"id\":\"报错后看不到具体报错信息\",\"depth\":2},{\"text\":\"Couldn\\\\'t find any stories is your Storybook\",\"id\":\"couldnt-find-any-stories-is-your-storybook\",\"depth\":2},{\"text\":\"Storybook 添加 Proxy 功能\",\"id\":\"storybook-添加-proxy-功能\",\"depth\":2},{\"text\":\"修改存在 Story 文件的目录\",\"id\":\"修改存在-story-文件的目录\",\"depth\":2}],\"title\":\"Storybook 相关问题\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nimport BuildStorybookFAQ from '@site-docs/components/faq-storybook';\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        h2: \"h2\",\n        p: \"p\",\n        code: \"code\",\n        ul: \"ul\",\n        li: \"li\",\n        pre: \"pre\",\n        ol: \"ol\",\n        img: \"img\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"storybook-相关问题\">{\"Storybook 相关问题\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#storybook-相关问题\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}{\"\\n\"}<BuildStorybookFAQ/>{\"\\n\"}<_components.h2 id=\"支持-storybook-v7\">{\"支持 Storybook v7\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#支持-storybook-v7\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Storybook v7 目前还没支持，目前计划在 Storybook v7 中支持 Rspack 构建，因此进度会慢一些。\\n相关 Issue：\"}<_components.a href=\"https://github.com/web-infra-dev/modern.js/issues/3376\" target=\"_blank\" rel=\"noopener noreferrer\">{\"#3376\"}</_components.a>{\"。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"使用-storybook-addon-或者其他配置不生效\">{\"使用 Storybook Addon 或者其他配置不生效\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#使用-storybook-addon-或者其他配置不生效\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Modern.js Module 目前使用的 Storybook 版本是 v6，如果使用了 v7 版本的 Addon 可能会出现插件不生效的情况。\"}</_components.p>{\"\\n\"}<_components.p>{\"除了 Addon 以外，其他配置也可能会有区别。比如修改 \"}<_components.code>{\"preview.js\"}</_components.code>{\" 配置文件的话，Storybook v6 与 v7 的写法也不相同：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"v6：\"}<_components.a href=\"https://storybook.js.org/docs/6.5/react/writing-stories/decorators#global-decorators\" target=\"_blank\" rel=\"noopener noreferrer\">{\"文档链接\"}</_components.a></_components.li>{\"\\n\"}<_components.li>{\"v7：\"}<_components.a href=\"https://storybook.js.org/docs/react/writing-stories/decorators#global-decorators\" target=\"_blank\" rel=\"noopener noreferrer\">{\"文档链接\"}</_components.a></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"cannot-find-module-react-dompackagejson\">{\"Cannot find module 'react-dom/package.json\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#cannot-find-module-react-dompackagejson\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"在执行 Storybook 调试的时候，出现下面的报错提示：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"ERR! Error: Cannot find module 'react-dom/package.json'\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"解决办法：在项目中安装 \"}<_components.code>{\"react-dom\"}</_components.code>{\" 依赖。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-json\">{'{\\n    \"devDependencies\": {\\n        \"react-dom\": \"^17\"\\n    }\\n}\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"报错后看不到具体报错信息\">{\"报错后，看不到具体报错信息\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#报错后看不到具体报错信息\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"解决办法：\"}</_components.p>{\"\\n\"}<_components.ol>{\"\\n\"}<_components.li>{\"找到 \"}<_components.code>{\"@storybook/core-server/dist/cjs/dev-server.js\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"找到 \"}<_components.code>{\"var _await$Promise$all = await Promise.all([preview, manager\"}</_components.code>{\" 这附近的代码。\"}</_components.li>{\"\\n\"}<_components.li>{\"修改成：\"}</_components.li>{\"\\n\"}</_components.ol>{\"\\n\"}<_components.pre><_components.code className=\"language-js\">{\"var _await$Promise$all = await Promise.all([\\n    preview.catch(e => console.info(e)),\\n    manager // TODO #13083 Restore this when compiling the preview is fast enough\\n  // .then((result) => {\\n  //   if (!options.ci && !options.smokeTest) openInBrowser(address);\\n  //   return result;\\n  // })\\n  .catch(previewBuilder.bail)]),\\n      _await$Promise$all2 = _slicedToArray(_await$Promise$all, 2),\\n      previewResult = _await$Promise$all2[0],\\n      managerResult = _await$Promise$all2[1]; // TODO #13083 Remove this when compiling the preview is fast enough\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"couldnt-find-any-stories-is-your-storybook\">{\"Couldn't find any stories is your Storybook\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#couldnt-find-any-stories-is-your-storybook\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p><_components.img src=\"https://lf3-static.bytednsdoc.com/obj/eden-cn/shylnyhaeh7uldvivhn/screenshot-20230703-162111.png\" alt=\"storybook-error\"/></_components.p>{\"\\n\"}<_components.p>{\"当在预览区域看到类似这样的报错提示的时候，首先可以打开一下浏览器的控制台，应该会有些报错信息。可以先根据报错信息来推断是不是编写代码里出现的问题导致 Storybook 无法正常运行。修复后，再次刷新查看是否正常。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"storybook-添加-proxy-功能\">{\"Storybook 添加 Proxy 功能\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#storybook-添加-proxy-功能\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Storybook 没有提供相关方案，不过 Storybook Issue 中有找到相关的解决办法。在 Modern.js Module 中，你可以：\"}</_components.p>{\"\\n\"}<_components.ol>{\"\\n\"}<_components.li>{\"添加 \"}<_components.code>{\"config/storybook/middleware.js\"}</_components.code>{\" 文件，并初始化下面的内容：\"}</_components.li>{\"\\n\"}</_components.ol>{\"\\n\"}<_components.pre><_components.code className=\"language-js\">{\"/* eslint-disable filenames/match-exported */\\nmodule.exports = function expressMiddleware(router) {\\n    // router is express router\\n    // import { Router } from 'express'\\n    // router = new Router();\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ol start=\"2\">{\"\\n\"}<_components.li>{\"添加 http-proxy-middleware 依赖\"}</_components.li>{\"\\n\"}<_components.li>{\"添加代理路由相关配置\"}</_components.li>{\"\\n\"}</_components.ol>{\"\\n\"}<_components.pre><_components.code className=\"language-js\">{'/* eslint-disable filenames/match-exported */\\nconst { createProxyMiddleware } = require(\"http-proxy-middleware\");\\n\\nmodule.exports = function expressMiddleware (router) {\\n  router.use(\\'/api\\', createProxyMiddleware({\\n    target: \"http://localhost:8000\",\\n    changeOrigin: true\\n  }))\\n}\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"相关 issue 链接：\"}<_components.a href=\"https://github.com/storybookjs/storybook/issues/11551\" target=\"_blank\" rel=\"noopener noreferrer\">{\"#11551\"}</_components.a>{\"。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"修改存在-story-文件的目录\">{\"修改存在 Story 文件的目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#修改存在-story-文件的目录\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"目前暂时无法修改存放 Story 文件的目录，仅对 \"}<_components.code>{\"your-project/stories\"}</_components.code>{\" 目录下的 \"}<_components.code>{\"*.stories.(t|j)s(x)\"}</_components.code>{\"、\"}<_components.code>{\"*.stories.md(x)\"}</_components.code>{\" 文件识别为 Story 文件。\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","globalThis","__RSPRESS_PAGE_META","MDXLayout","Object","assign","components","wrapper","_","_components","h1","a","h2","p","code","ul","li","pre","ol","img","id","className","href","target","rel","src","alt","start"],"mappings":"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"}