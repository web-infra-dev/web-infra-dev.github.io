(self.webpackChunk_modern_js_module_tools_docs=self.webpackChunk_modern_js_module_tools_docs||[]).push([["docs_zh_guide_faq_storybook_mdx"],{90282:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return l}});var n,s=o("15169"),t=o("43932"),d=o("9880"),i=o("23169");function a(e){return(0,d.jsx)(d.Fragment,{})}(n=globalThis).__RSPRESS_PAGE_META||(n.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["zh%2Fcomponents%2Ffaq-storybook.mdx"]={toc:[],title:"",frontmatter:{}};var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.assign({},(0,i.useMDXComponents)(),e.components).wrapper;return r?(0,d.jsx)(r,(0,t._)((0,s._)({},e),{children:(0,d.jsx)(a,(0,s._)({},e))})):a(e)}},62796:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return c}});var n,s=o("15169"),t=o("43932"),d=o("9880"),i=o("23169"),a=o("90282");function l(e){var r=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",ul:"ul",li:"li",pre:"pre",ol:"ol",img:"img"},(0,i.useMDXComponents)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r.h1,{id:"storybook-\u76F8\u5173\u95EE\u9898",children:["Storybook \u76F8\u5173\u95EE\u9898",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#storybook-\u76F8\u5173\u95EE\u9898",children:"#"})]}),"\n","\n",(0,d.jsx)(a.default,{}),"\n",(0,d.jsxs)(r.h2,{id:"\u652F\u6301-storybook-v7",children:["\u652F\u6301 Storybook v7",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#\u652F\u6301-storybook-v7",children:"#"})]}),"\n",(0,d.jsxs)(r.p,{children:["Storybook v7 \u76EE\u524D\u8FD8\u6CA1\u652F\u6301\uFF0C\u76EE\u524D\u8BA1\u5212\u5728 Storybook v7 \u4E2D\u652F\u6301 Rspack \u6784\u5EFA\uFF0C\u56E0\u6B64\u8FDB\u5EA6\u4F1A\u6162\u4E00\u4E9B\u3002\n\u76F8\u5173 Issue\uFF1A",(0,d.jsx)(r.a,{href:"https://github.com/web-infra-dev/modern.js/issues/3376",target:"_blank",rel:"noopener noreferrer",children:"#3376"}),"\u3002"]}),"\n",(0,d.jsxs)(r.h2,{id:"\u4F7F\u7528-storybook-addon-\u6216\u8005\u5176\u4ED6\u914D\u7F6E\u4E0D\u751F\u6548",children:["\u4F7F\u7528 Storybook Addon \u6216\u8005\u5176\u4ED6\u914D\u7F6E\u4E0D\u751F\u6548",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528-storybook-addon-\u6216\u8005\u5176\u4ED6\u914D\u7F6E\u4E0D\u751F\u6548",children:"#"})]}),"\n",(0,d.jsx)(r.p,{children:"Modern.js Module \u76EE\u524D\u4F7F\u7528\u7684 Storybook \u7248\u672C\u662F v6\uFF0C\u5982\u679C\u4F7F\u7528\u4E86 v7 \u7248\u672C\u7684 Addon \u53EF\u80FD\u4F1A\u51FA\u73B0\u63D2\u4EF6\u4E0D\u751F\u6548\u7684\u60C5\u51B5\u3002"}),"\n",(0,d.jsxs)(r.p,{children:["\u9664\u4E86 Addon \u4EE5\u5916\uFF0C\u5176\u4ED6\u914D\u7F6E\u4E5F\u53EF\u80FD\u4F1A\u6709\u533A\u522B\u3002\u6BD4\u5982\u4FEE\u6539 ",(0,d.jsx)(r.code,{children:"preview.js"})," \u914D\u7F6E\u6587\u4EF6\u7684\u8BDD\uFF0CStorybook v6 \u4E0E v7 \u7684\u5199\u6CD5\u4E5F\u4E0D\u76F8\u540C\uFF1A"]}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:["v6\uFF1A",(0,d.jsx)(r.a,{href:"https://storybook.js.org/docs/6.5/react/writing-stories/decorators#global-decorators",target:"_blank",rel:"noopener noreferrer",children:"\u6587\u6863\u94FE\u63A5"})]}),"\n",(0,d.jsxs)(r.li,{children:["v7\uFF1A",(0,d.jsx)(r.a,{href:"https://storybook.js.org/docs/react/writing-stories/decorators#global-decorators",target:"_blank",rel:"noopener noreferrer",children:"\u6587\u6863\u94FE\u63A5"})]}),"\n"]}),"\n",(0,d.jsxs)(r.h2,{id:"cannot-find-module-react-dompackagejson",children:["Cannot find module 'react-dom/package.json",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#cannot-find-module-react-dompackagejson",children:"#"})]}),"\n",(0,d.jsx)(r.p,{children:"\u5728\u6267\u884C Storybook \u8C03\u8BD5\u7684\u65F6\u5019\uFF0C\u51FA\u73B0\u4E0B\u9762\u7684\u62A5\u9519\u63D0\u793A\uFF1A"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-bash",children:"ERR! Error: Cannot find module 'react-dom/package.json'\n"})}),"\n",(0,d.jsxs)(r.p,{children:["\u89E3\u51B3\u529E\u6CD5\uFF1A\u5728\u9879\u76EE\u4E2D\u5B89\u88C5 ",(0,d.jsx)(r.code,{children:"react-dom"})," \u4F9D\u8D56\u3002"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-json",children:'{\n    "devDependencies": {\n        "react-dom": "^17"\n    }\n}\n'})}),"\n",(0,d.jsxs)(r.h2,{id:"\u62A5\u9519\u540E\u770B\u4E0D\u5230\u5177\u4F53\u62A5\u9519\u4FE1\u606F",children:["\u62A5\u9519\u540E\uFF0C\u770B\u4E0D\u5230\u5177\u4F53\u62A5\u9519\u4FE1\u606F",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#\u62A5\u9519\u540E\u770B\u4E0D\u5230\u5177\u4F53\u62A5\u9519\u4FE1\u606F",children:"#"})]}),"\n",(0,d.jsx)(r.p,{children:"\u89E3\u51B3\u529E\u6CD5\uFF1A"}),"\n",(0,d.jsxs)(r.ol,{children:["\n",(0,d.jsxs)(r.li,{children:["\u627E\u5230 ",(0,d.jsx)(r.code,{children:"@storybook/core-server/dist/cjs/dev-server.js"})]}),"\n",(0,d.jsxs)(r.li,{children:["\u627E\u5230 ",(0,d.jsx)(r.code,{children:"var _await$Promise$all = await Promise.all([preview, manager"})," \u8FD9\u9644\u8FD1\u7684\u4EE3\u7801\u3002"]}),"\n",(0,d.jsx)(r.li,{children:"\u4FEE\u6539\u6210\uFF1A"}),"\n"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-js",children:"var _await$Promise$all = await Promise.all([\n    preview.catch(e => console.info(e)),\n    manager // TODO #13083 Restore this when compiling the preview is fast enough\n  // .then((result) => {\n  //   if (!options.ci && !options.smokeTest) openInBrowser(address);\n  //   return result;\n  // })\n  .catch(previewBuilder.bail)]),\n      _await$Promise$all2 = _slicedToArray(_await$Promise$all, 2),\n      previewResult = _await$Promise$all2[0],\n      managerResult = _await$Promise$all2[1]; // TODO #13083 Remove this when compiling the preview is fast enough\n"})}),"\n",(0,d.jsxs)(r.h2,{id:"couldnt-find-any-stories-is-your-storybook",children:["Couldn't find any stories is your Storybook",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#couldnt-find-any-stories-is-your-storybook",children:"#"})]}),"\n",(0,d.jsx)(r.p,{children:(0,d.jsx)(r.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/shylnyhaeh7uldvivhn/screenshot-20230703-162111.png",alt:"storybook-error"})}),"\n",(0,d.jsx)(r.p,{children:"\u5F53\u5728\u9884\u89C8\u533A\u57DF\u770B\u5230\u7C7B\u4F3C\u8FD9\u6837\u7684\u62A5\u9519\u63D0\u793A\u7684\u65F6\u5019\uFF0C\u9996\u5148\u53EF\u4EE5\u6253\u5F00\u4E00\u4E0B\u6D4F\u89C8\u5668\u7684\u63A7\u5236\u53F0\uFF0C\u5E94\u8BE5\u4F1A\u6709\u4E9B\u62A5\u9519\u4FE1\u606F\u3002\u53EF\u4EE5\u5148\u6839\u636E\u62A5\u9519\u4FE1\u606F\u6765\u63A8\u65AD\u662F\u4E0D\u662F\u7F16\u5199\u4EE3\u7801\u91CC\u51FA\u73B0\u7684\u95EE\u9898\u5BFC\u81F4 Storybook \u65E0\u6CD5\u6B63\u5E38\u8FD0\u884C\u3002\u4FEE\u590D\u540E\uFF0C\u518D\u6B21\u5237\u65B0\u67E5\u770B\u662F\u5426\u6B63\u5E38\u3002"}),"\n",(0,d.jsxs)(r.h2,{id:"storybook-\u6DFB\u52A0-proxy-\u529F\u80FD",children:["Storybook \u6DFB\u52A0 Proxy \u529F\u80FD",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#storybook-\u6DFB\u52A0-proxy-\u529F\u80FD",children:"#"})]}),"\n",(0,d.jsx)(r.p,{children:"Storybook \u6CA1\u6709\u63D0\u4F9B\u76F8\u5173\u65B9\u6848\uFF0C\u4E0D\u8FC7 Storybook Issue \u4E2D\u6709\u627E\u5230\u76F8\u5173\u7684\u89E3\u51B3\u529E\u6CD5\u3002\u5728 Modern.js Module \u4E2D\uFF0C\u4F60\u53EF\u4EE5\uFF1A"}),"\n",(0,d.jsxs)(r.ol,{children:["\n",(0,d.jsxs)(r.li,{children:["\u6DFB\u52A0 ",(0,d.jsx)(r.code,{children:"config/storybook/middleware.js"})," \u6587\u4EF6\uFF0C\u5E76\u521D\u59CB\u5316\u4E0B\u9762\u7684\u5185\u5BB9\uFF1A"]}),"\n"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-js",children:"/* eslint-disable filenames/match-exported */\nmodule.exports = function expressMiddleware(router) {\n    // router is express router\n    // import { Router } from 'express'\n    // router = new Router();\n};\n"})}),"\n",(0,d.jsxs)(r.ol,{start:"2",children:["\n",(0,d.jsx)(r.li,{children:"\u6DFB\u52A0 http-proxy-middleware \u4F9D\u8D56"}),"\n",(0,d.jsx)(r.li,{children:"\u6DFB\u52A0\u4EE3\u7406\u8DEF\u7531\u76F8\u5173\u914D\u7F6E"}),"\n"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-js",children:'/* eslint-disable filenames/match-exported */\nconst { createProxyMiddleware } = require("http-proxy-middleware");\n\nmodule.exports = function expressMiddleware (router) {\n  router.use(\'/api\', createProxyMiddleware({\n    target: "http://localhost:8000",\n    changeOrigin: true\n  }))\n}\n'})}),"\n",(0,d.jsxs)(r.p,{children:["\u76F8\u5173 issue \u94FE\u63A5\uFF1A",(0,d.jsx)(r.a,{href:"https://github.com/storybookjs/storybook/issues/11551",target:"_blank",rel:"noopener noreferrer",children:"#11551"}),"\u3002"]}),"\n",(0,d.jsxs)(r.h2,{id:"\u4FEE\u6539\u5B58\u5728-story-\u6587\u4EF6\u7684\u76EE\u5F55",children:["\u4FEE\u6539\u5B58\u5728 Story \u6587\u4EF6\u7684\u76EE\u5F55",(0,d.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4FEE\u6539\u5B58\u5728-story-\u6587\u4EF6\u7684\u76EE\u5F55",children:"#"})]}),"\n",(0,d.jsxs)(r.p,{children:["\u76EE\u524D\u6682\u65F6\u65E0\u6CD5\u4FEE\u6539\u5B58\u653E Story \u6587\u4EF6\u7684\u76EE\u5F55\uFF0C\u4EC5\u5BF9 ",(0,d.jsx)(r.code,{children:"your-project/stories"})," \u76EE\u5F55\u4E0B\u7684 ",(0,d.jsx)(r.code,{children:"*.stories.(t|j)s(x)"}),"\u3001",(0,d.jsx)(r.code,{children:"*.stories.md(x)"})," \u6587\u4EF6\u8BC6\u522B\u4E3A Story \u6587\u4EF6\u3002"]})]})}(n=globalThis).__RSPRESS_PAGE_META||(n.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["zh%2Fguide%2Ffaq%2Fstorybook.mdx"]={toc:[{text:"\u652F\u6301 Storybook v7",id:"\u652F\u6301-storybook-v7",depth:2},{text:"\u4F7F\u7528 Storybook Addon \u6216\u8005\u5176\u4ED6\u914D\u7F6E\u4E0D\u751F\u6548",id:"\u4F7F\u7528-storybook-addon-\u6216\u8005\u5176\u4ED6\u914D\u7F6E\u4E0D\u751F\u6548",depth:2},{text:"Cannot find module \\'react-dom/package.json",id:"cannot-find-module-react-dompackagejson",depth:2},{text:"\u62A5\u9519\u540E\uFF0C\u770B\u4E0D\u5230\u5177\u4F53\u62A5\u9519\u4FE1\u606F",id:"\u62A5\u9519\u540E\u770B\u4E0D\u5230\u5177\u4F53\u62A5\u9519\u4FE1\u606F",depth:2},{text:"Couldn\\'t find any stories is your Storybook",id:"couldnt-find-any-stories-is-your-storybook",depth:2},{text:"Storybook \u6DFB\u52A0 Proxy \u529F\u80FD",id:"storybook-\u6DFB\u52A0-proxy-\u529F\u80FD",depth:2},{text:"\u4FEE\u6539\u5B58\u5728 Story \u6587\u4EF6\u7684\u76EE\u5F55",id:"\u4FEE\u6539\u5B58\u5728-story-\u6587\u4EF6\u7684\u76EE\u5F55",depth:2}],title:"Storybook \u76F8\u5173\u95EE\u9898",frontmatter:{}};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.assign({},(0,i.useMDXComponents)(),e.components).wrapper;return r?(0,d.jsx)(r,(0,t._)((0,s._)({},e),{children:(0,d.jsx)(l,(0,s._)({},e))})):l(e)}}}]);