<!doctype html><html  lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title data-rh="true">buildConfig - Module Tools</title><meta data-rh="true" name="description" content="模块工程解决方案"/>
<script id="check-dark-light">
;(() => {
  const saved = localStorage.getItem('rspress-theme-appearance')
  const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches
  if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {
    document.documentElement.classList.add('dark')
  }
})()
</script>
<link rel="icon" href="https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/logo-1x-0104.png"><script defer="defer">!function(){var _,s,d,c,i,e,n,o,t,a,u,m,g={},l={};function p(_){var s=l[_];if(void 0!==s)return s.exports;var d=l[_]={id:_,loaded:!1,exports:{}};return g[_](d,d.exports,p),d.loaded=!0,d.exports}p.m=g,p.es=function(_,s){return Object.keys(_).forEach((function(d){"default"!==d&&!Object.prototype.hasOwnProperty.call(s,d)&&Object.defineProperty(s,d,{enumerable:!0,get:function(){return _[d]}})})),_},_={10138:[],10179:[],10218:["docs_zh_api_config_build-preset_mdx"],10299:[],10530:[],10825:[],10929:[],11096:[],1129:[],11385:[],11413:[],11665:[],11678:[],11696:[],11744:["docs_zh_api_config_dev_md"],11842:["docs_zh_guide_advance_external-dependency_mdx"],12368:["docs_zh_plugins_official-list_overview_md"],12563:["docs_en_guide_advance_asset_mdx"],12764:[],12784:[],12855:[],13139:[],13251:[],13259:[],13345:[],13397:[],13473:[],13545:[],13637:[],13652:[],13835:[],13867:[],13915:[],13952:["docs_zh_guide_faq_build_mdx"],14095:[],14115:[],14120:[],14309:[],14423:[],14641:[],14704:[],15028:[],15042:[],1509:[],15281:["docs_en_plugins_official-list_plugin-polyfill_md"],15624:[],15710:[],15863:[],16091:["docs_en_api_index_md"],16726:[],16924:["docs_en_components_faq-build-other_mdx"],17100:[],17190:[],17290:[],17331:[],17361:["docs_en_components_faq-build-product_mdx"],17816:[],17817:["docs_zh_guide_faq_storybook_mdx"],17832:[],17912:[],18055:[],18595:[],18673:[],19008:["docs_en_api_config_dev_md"],19054:[],19905:["docs_zh_api_config_build-config_mdx"],20150:[],20250:[],20308:[],20449:[],20551:[],2056:[],20590:[],20678:[],20758:[],20976:[],21382:[],21397:[],21774:[],21829:[],21893:[],22071:["docs_en_guide_advance_external-dependency_mdx"],22101:[],2212:[],22124:[],22151:[],2225:[],22291:["docs_zh_guide_basic_use-micro-generator_md"],22430:[],2250:[],22947:[],23037:[],23095:[],23112:[],23148:[],23172:[],23279:[],23759:[],24198:[],24359:[],24667:[],24786:[],25437:["docs_en_guide_advance_copy_md"],25483:[],25945:["docs_zh_api_config_testing_md"],26201:[],26281:[],26367:[],2637:[],26444:[],2663:[],26693:[],26723:[],26825:[],27151:[],27267:[],2733:[],27505:[],27610:[],27677:[],27732:[],27844:[],28049:[],28117:[],28263:[],28268:[],28547:[],28840:[],28846:[],29203:[],29391:[],29491:["docs_zh_guide_intro_why-module-engineering-solution_md"],29608:[],29645:[],29874:[],30005:["docs_en_components_faq-build-exception_mdx"],30075:[],30108:[],30223:["docs_zh_guide_faq_index_md"],30251:[],30354:[],30732:[],3101:["docs_en_plugins_official-list_plugin-babel_md"],3105:[],3123:[],31250:[],31360:[],3141:["docs_zh_guide_best-practices_use-tailwindcss_mdx"],31601:[],31874:[],31958:[],32046:[],3247:[],32538:["docs_zh_guide_advance_in-depth-about-build_md"],32560:[],32694:[],32908:[],32910:[],33232:[],33379:[],33588:[],33633:["docs_zh_plugins_guide_plugin-object_mdx"],33786:[],33947:["docs_zh_api_plugin-api_plugin-hooks_md"],34165:[],34189:[],34243:[],34700:[],34724:[],34799:[],35179:[],35289:[],35393:[],35574:[],35605:[],35803:[],35944:[],36034:[],36333:[],36448:[],36797:[],36850:["docs_zh_plugins_official-list_plugin-polyfill_md"],36889:[],36900:["docs_en_api_config_plugins_md"],37137:[],37359:[],37430:[],38058:[],38091:[],38113:[],38279:["docs_en_guide_basic_command-preview_md"],38472:[],3860:[],38861:["docs_zh_plugins_official-list_plugin-banner_md"],39040:[],39108:[],39198:[],39235:[],39605:[],39802:[],39879:["docs_zh_guide_basic_using-storybook_mdx"],4012:["docs_en_api_config_build-config_mdx"],41472:[],41541:[],41561:["docs_en_api_config_build-preset_mdx"],41567:[],42271:[],42283:[],42292:[],42368:[],42428:["docs_zh_plugins_official-list_plugin-import_mdx"],42483:[],42731:[],42882:[],43179:[],43290:[],43351:["docs_zh_components_faq-test_mdx"],43492:["docs_zh_guide_basic_publish-your-project_md"],44491:[],44802:[],44855:[],45141:[],45213:[],45317:[],45457:[],4586:["docs_en_guide_intro_welcome_md"],45914:[],45995:[],46256:[],46285:[],46485:[],46680:[],4669:[],46800:[],4697:[],46997:[],47166:[],47319:[],47425:[],47746:[],47750:[],47752:["docs_en_guide_basic_before-getting-started_md"],47812:[],47874:[],47887:[],47966:[],48087:[],48350:[],48388:["docs_zh_components_faq-build-exception_mdx"],48395:[],48947:[],49139:[],49317:[],49545:[],49581:["docs_zh_plugins_official-list_plugin-babel_md"],49597:[],4962:["docs_en_guide_best-practices_use-tailwindcss_mdx"],49689:[],49828:[],49930:[],5011:[],50409:[],50440:["docs_en_guide_intro_why-module-engineering-solution_md"],50598:[],50775:[],50811:[],50918:[],50967:[],51012:[],5134:[],51346:[],51563:[],51791:[],52256:[],52534:[],53159:[],53325:[],5340:[],53472:[],53481:[],53600:[],53713:[],54008:[],54011:[],54070:[],54233:[],54555:[],5474:[],54905:[],54947:[],55190:[],55671:["docs_en_guide_advance_in-depth-about-dev-command_md"],55962:[],55980:[],56022:[],56145:[],56231:[],56747:[],56856:[],57298:["docs_en_plugins_official-list_plugin-banner_md"],58050:[],58598:[],5872:[],58795:[],58991:["docs_en_index_md"],59142:[],59195:[],59513:[],59770:[],5978:[],59798:["docs_en_components_faq-storybook_mdx"],59823:[],59882:[],59934:[],60241:[],60343:[],60455:[],60499:[],60564:[],61034:[],61117:[],61137:["docs_en_plugins_guide_getting-started_mdx"],61313:[],61391:["docs_en_components_faq-test_mdx"],61769:["docs_en_guide_basic_modify-output-product_md"],61785:[],61820:[],61839:[],61919:[],61976:[],62178:[],62191:[],62263:[],62450:[],62573:[],63159:[],63193:["docs_en_guide_advance_build-umd_mdx"],63373:[],63604:[],63897:[],63970:["docs_zh_guide_advance_build-umd_mdx"],64211:["docs_en_plugins_guide_plugin-object_mdx"],64314:[],64442:[],64846:[],64934:[],64977:[],6498:[],65167:[],65845:[],6601:[],66605:[],67121:["docs_zh_guide_basic_command-preview_md"],67218:["docs_zh_guide_advance_in-depth-about-dev-command_md"],67363:[],67404:[],67417:[],67429:[],67991:[],68279:[],68427:[],68537:[],68815:["docs_en_plugins_official-list_plugin-import_mdx"],69129:[],69424:[],69561:[],69668:[],69870:[],70220:[],70555:[],70863:[],7093:[],70985:["docs_en_guide_faq_build_mdx"],71152:[],71347:[],71527:[],71765:[],71853:["docs_zh_components_faq-build-product_mdx"],71870:[],71932:["docs_en_guide_faq_test_mdx"],72296:[],72572:["docs_en_guide_best-practices_components_mdx"],72758:[],73017:[],73027:[],73218:[],7342:[],73450:[],73514:[],73653:[],7369:["docs_en_guide_basic_using-storybook_mdx"],73789:[],73960:[],73987:[],74180:["docs_zh_guide_basic_before-getting-started_md"],74381:[],7472:[],74923:["docs_en_plugins_official-list_overview_md"],75191:[],75271:[],75367:[],75639:[],757:[],75796:[],76550:[],76596:[],76716:[],76966:["docs_zh_guide_basic_modify-output-product_md"],77075:[],77175:[],77247:[],77732:["docs_en_guide_faq_index_md"],77843:["docs_zh_components_faq-storybook_mdx"],7797:[],78153:[],78171:[],7830:[],7833:[],7836:[],78838:["docs_zh_guide_best-practices_components_mdx"],78844:[],79561:[],79712:[],80051:[],80209:[],80260:[],80522:["docs_zh_components_faq-build-other_mdx"],80613:[],80723:["docs_zh_guide_basic_test-your-project_mdx"],80748:[],80749:[],80785:[],80866:[],80955:[],81125:[],8130:[],81680:[],82431:[],82739:[],82863:[],82873:["docs_en_guide_faq_storybook_mdx"],82970:[],83363:["docs_zh_guide_intro_getting-started_md"],83457:[],83542:["docs_en_api_config_testing_md"],83746:[],83821:[],83834:[],84386:[],8442:[],84623:[],84641:[],84642:[],84716:[],84755:[],8495:[],84984:["docs_en_guide_basic_test-your-project_mdx"],85015:[],85028:[],85221:[],85349:[],8572:[],85826:[],85894:[],85936:[],8607:[],86252:["docs_en_guide_intro_getting-started_md"],86587:["docs_zh_api_config_plugins_md"],86668:[],87442:[],87564:["docs_zh_index_md"],8773:[],87894:[],8793:[],87932:["docs_en_api_plugin-api_plugin-hooks_md"],88254:["docs_zh_guide_intro_welcome_md"],88628:[],88655:[],89053:[],89280:[],89455:[],89514:["docs_zh_api_index_md"],89707:["docs_en_components_register-esbuild-plugin_mdx"],89943:[],89967:[],90312:[],90323:[],90388:[],90415:["docs_en_guide_advance_in-depth-about-build_md"],9044:[],90544:[],90573:[],90683:[],90922:["docs_zh_guide_advance_asset_mdx"],91032:[],91237:[],91259:[],913:[],91328:[],91345:[],91544:[],91618:["docs_zh_guide_advance_copy_md"],91862:[],91940:[],92077:[],92128:[],92505:["docs_en_guide_basic_use-micro-generator_md"],92581:[],92646:[],92945:[],93231:[],93395:[],93689:["docs_zh_plugins_guide_getting-started_mdx"],93696:[],93810:[],93871:[],93876:["docs_en_plugins_guide_setup-function_mdx"],93907:[],93965:[],9425:[],94369:[],94558:[],94602:["docs_en_plugins_official-list_plugin-node-polyfill_md"],94787:[],94958:[],95028:[],95060:[],95213:["docs_en_guide_basic_publish-your-project_md"],95230:["docs_zh_components_register-esbuild-plugin_mdx"],9538:[],95588:[],95603:[],95737:[],95907:[],96072:[],96266:[],96349:[],96357:[],96558:[],9669:[],96826:[],96858:[],9700:[],9733:[],97359:[],97415:[],97615:["docs_zh_plugins_official-list_plugin-node-polyfill_md"],97699:[],97729:[],97766:[],97919:[],98217:[],98226:[],98326:[],98566:["docs_zh_plugins_guide_setup-function_mdx"],9875:["docs_zh_guide_faq_test_mdx"],99179:[],99408:[],99553:[],9968:[],99765:[]},p.el=function(s){var d=_[s];return void 0===d?Promise.resolve():d.length>1?Promise.all(d.map(p.e)):p.e(d[0])},p.f={},p.e=function(_){return Promise.all(Object.keys(p.f).reduce((function(s,d){return p.f[d](_,s),s}),[]))},p.p="/",p.u=function(_){return{"docs_en_api_config_build-config_mdx":"static/js/async/docs_en_api_config_build-config_mdx.ef7efd96.js","docs_en_api_config_build-preset_mdx":"static/js/async/docs_en_api_config_build-preset_mdx.a06ef8da.js",docs_en_api_config_dev_md:"static/js/async/docs_en_api_config_dev_md.93879bbf.js",docs_en_api_config_plugins_md:"static/js/async/docs_en_api_config_plugins_md.27aa7365.js",docs_en_api_config_testing_md:"static/js/async/docs_en_api_config_testing_md.8f763a48.js",docs_en_api_index_md:"static/js/async/docs_en_api_index_md.6902c7ff.js","docs_en_api_plugin-api_plugin-hooks_md":"static/js/async/docs_en_api_plugin-api_plugin-hooks_md.c7662d62.js","docs_en_components_faq-build-exception_mdx":"static/js/async/docs_en_components_faq-build-exception_mdx.e2a56454.js","docs_en_components_faq-build-other_mdx":"static/js/async/docs_en_components_faq-build-other_mdx.9f97e287.js","docs_en_components_faq-build-product_mdx":"static/js/async/docs_en_components_faq-build-product_mdx.ad1e6e35.js","docs_en_components_faq-storybook_mdx":"static/js/async/docs_en_components_faq-storybook_mdx.bb1d7a85.js","docs_en_components_faq-test_mdx":"static/js/async/docs_en_components_faq-test_mdx.c13d4ee1.js","docs_en_components_register-esbuild-plugin_mdx":"static/js/async/docs_en_components_register-esbuild-plugin_mdx.a9e5a519.js",docs_en_guide_advance_asset_mdx:"static/js/async/docs_en_guide_advance_asset_mdx.ed73ab90.js","docs_en_guide_advance_build-umd_mdx":"static/js/async/docs_en_guide_advance_build-umd_mdx.33566435.js",docs_en_guide_advance_copy_md:"static/js/async/docs_en_guide_advance_copy_md.e52d99d1.js","docs_en_guide_advance_external-dependency_mdx":"static/js/async/docs_en_guide_advance_external-dependency_mdx.35f6d2ba.js","docs_en_guide_advance_in-depth-about-build_md":"static/js/async/docs_en_guide_advance_in-depth-about-build_md.27eca40e.js","docs_en_guide_advance_in-depth-about-dev-command_md":"static/js/async/docs_en_guide_advance_in-depth-about-dev-command_md.bf847e04.js","docs_en_guide_basic_before-getting-started_md":"static/js/async/docs_en_guide_basic_before-getting-started_md.a8b9446b.js","docs_en_guide_basic_command-preview_md":"static/js/async/docs_en_guide_basic_command-preview_md.5ab14c36.js","docs_en_guide_basic_modify-output-product_md":"static/js/async/docs_en_guide_basic_modify-output-product_md.daa3dfd1.js","docs_en_guide_basic_publish-your-project_md":"static/js/async/docs_en_guide_basic_publish-your-project_md.88c2b932.js","docs_en_guide_basic_test-your-project_mdx":"static/js/async/docs_en_guide_basic_test-your-project_mdx.c0465cdc.js","docs_en_guide_basic_use-micro-generator_md":"static/js/async/docs_en_guide_basic_use-micro-generator_md.92ac8be3.js","docs_en_guide_basic_using-storybook_mdx":"static/js/async/docs_en_guide_basic_using-storybook_mdx.b6281c41.js","docs_en_guide_best-practices_components_mdx":"static/js/async/docs_en_guide_best-practices_components_mdx.fe0cc689.js","docs_en_guide_best-practices_use-tailwindcss_mdx":"static/js/async/docs_en_guide_best-practices_use-tailwindcss_mdx.9b5c1ce4.js",docs_en_guide_faq_build_mdx:"static/js/async/docs_en_guide_faq_build_mdx.14759132.js",docs_en_guide_faq_index_md:"static/js/async/docs_en_guide_faq_index_md.37604327.js",docs_en_guide_faq_storybook_mdx:"static/js/async/docs_en_guide_faq_storybook_mdx.f6f77260.js",docs_en_guide_faq_test_mdx:"static/js/async/docs_en_guide_faq_test_mdx.fb6f52b8.js","docs_en_guide_intro_getting-started_md":"static/js/async/docs_en_guide_intro_getting-started_md.b1d1797f.js",docs_en_guide_intro_welcome_md:"static/js/async/docs_en_guide_intro_welcome_md.dd51d7bc.js","docs_en_guide_intro_why-module-engineering-solution_md":"static/js/async/docs_en_guide_intro_why-module-engineering-solution_md.35b2cfa1.js",docs_en_index_md:"static/js/async/docs_en_index_md.4b4819a5.js","docs_en_plugins_guide_getting-started_mdx":"static/js/async/docs_en_plugins_guide_getting-started_mdx.026d29f8.js","docs_en_plugins_guide_plugin-object_mdx":"static/js/async/docs_en_plugins_guide_plugin-object_mdx.1ea03bf0.js","docs_en_plugins_guide_setup-function_mdx":"static/js/async/docs_en_plugins_guide_setup-function_mdx.4fc35840.js","docs_en_plugins_official-list_overview_md":"static/js/async/docs_en_plugins_official-list_overview_md.9e33225d.js","docs_en_plugins_official-list_plugin-babel_md":"static/js/async/docs_en_plugins_official-list_plugin-babel_md.044f62f3.js","docs_en_plugins_official-list_plugin-banner_md":"static/js/async/docs_en_plugins_official-list_plugin-banner_md.c1307144.js","docs_en_plugins_official-list_plugin-import_mdx":"static/js/async/docs_en_plugins_official-list_plugin-import_mdx.5684c93c.js","docs_en_plugins_official-list_plugin-node-polyfill_md":"static/js/async/docs_en_plugins_official-list_plugin-node-polyfill_md.f8bf24dd.js","docs_en_plugins_official-list_plugin-polyfill_md":"static/js/async/docs_en_plugins_official-list_plugin-polyfill_md.9067ec69.js","docs_zh_api_config_build-config_mdx":"static/js/async/docs_zh_api_config_build-config_mdx.9869a42c.js","docs_zh_api_config_build-preset_mdx":"static/js/async/docs_zh_api_config_build-preset_mdx.e374611b.js",docs_zh_api_config_dev_md:"static/js/async/docs_zh_api_config_dev_md.37e67856.js",docs_zh_api_config_plugins_md:"static/js/async/docs_zh_api_config_plugins_md.e10db4cf.js",docs_zh_api_config_testing_md:"static/js/async/docs_zh_api_config_testing_md.d7bc0509.js",docs_zh_api_index_md:"static/js/async/docs_zh_api_index_md.7c95593b.js","docs_zh_api_plugin-api_plugin-hooks_md":"static/js/async/docs_zh_api_plugin-api_plugin-hooks_md.fc51e72b.js","docs_zh_components_faq-build-exception_mdx":"static/js/async/docs_zh_components_faq-build-exception_mdx.195c5ab3.js","docs_zh_components_faq-build-other_mdx":"static/js/async/docs_zh_components_faq-build-other_mdx.073308bf.js","docs_zh_components_faq-build-product_mdx":"static/js/async/docs_zh_components_faq-build-product_mdx.e9042070.js","docs_zh_components_faq-storybook_mdx":"static/js/async/docs_zh_components_faq-storybook_mdx.ababb99d.js","docs_zh_components_faq-test_mdx":"static/js/async/docs_zh_components_faq-test_mdx.89561690.js","docs_zh_components_register-esbuild-plugin_mdx":"static/js/async/docs_zh_components_register-esbuild-plugin_mdx.e8b776a7.js",docs_zh_guide_advance_asset_mdx:"static/js/async/docs_zh_guide_advance_asset_mdx.0cdccc10.js","docs_zh_guide_advance_build-umd_mdx":"static/js/async/docs_zh_guide_advance_build-umd_mdx.abec2dcf.js",docs_zh_guide_advance_copy_md:"static/js/async/docs_zh_guide_advance_copy_md.9d2d54bf.js","docs_zh_guide_advance_external-dependency_mdx":"static/js/async/docs_zh_guide_advance_external-dependency_mdx.e3feea88.js","docs_zh_guide_advance_in-depth-about-build_md":"static/js/async/docs_zh_guide_advance_in-depth-about-build_md.5810d078.js","docs_zh_guide_advance_in-depth-about-dev-command_md":"static/js/async/docs_zh_guide_advance_in-depth-about-dev-command_md.d8adbab7.js","docs_zh_guide_basic_before-getting-started_md":"static/js/async/docs_zh_guide_basic_before-getting-started_md.2ec32ffe.js","docs_zh_guide_basic_command-preview_md":"static/js/async/docs_zh_guide_basic_command-preview_md.715d3758.js","docs_zh_guide_basic_modify-output-product_md":"static/js/async/docs_zh_guide_basic_modify-output-product_md.7b7caf33.js","docs_zh_guide_basic_publish-your-project_md":"static/js/async/docs_zh_guide_basic_publish-your-project_md.0fa728b9.js","docs_zh_guide_basic_test-your-project_mdx":"static/js/async/docs_zh_guide_basic_test-your-project_mdx.709437a6.js","docs_zh_guide_basic_use-micro-generator_md":"static/js/async/docs_zh_guide_basic_use-micro-generator_md.982f1cf0.js","docs_zh_guide_basic_using-storybook_mdx":"static/js/async/docs_zh_guide_basic_using-storybook_mdx.ee4aba48.js","docs_zh_guide_best-practices_components_mdx":"static/js/async/docs_zh_guide_best-practices_components_mdx.b8523332.js","docs_zh_guide_best-practices_use-tailwindcss_mdx":"static/js/async/docs_zh_guide_best-practices_use-tailwindcss_mdx.1bde0aec.js",docs_zh_guide_faq_build_mdx:"static/js/async/docs_zh_guide_faq_build_mdx.e3aec2eb.js",docs_zh_guide_faq_index_md:"static/js/async/docs_zh_guide_faq_index_md.ac669ddf.js",docs_zh_guide_faq_storybook_mdx:"static/js/async/docs_zh_guide_faq_storybook_mdx.ea548490.js",docs_zh_guide_faq_test_mdx:"static/js/async/docs_zh_guide_faq_test_mdx.58a3b3c0.js","docs_zh_guide_intro_getting-started_md":"static/js/async/docs_zh_guide_intro_getting-started_md.86dd8665.js",docs_zh_guide_intro_welcome_md:"static/js/async/docs_zh_guide_intro_welcome_md.0ebfbc8c.js","docs_zh_guide_intro_why-module-engineering-solution_md":"static/js/async/docs_zh_guide_intro_why-module-engineering-solution_md.8a31ff03.js",docs_zh_index_md:"static/js/async/docs_zh_index_md.16104fa2.js","docs_zh_plugins_guide_getting-started_mdx":"static/js/async/docs_zh_plugins_guide_getting-started_mdx.9aeec920.js","docs_zh_plugins_guide_plugin-object_mdx":"static/js/async/docs_zh_plugins_guide_plugin-object_mdx.c6243ae1.js","docs_zh_plugins_guide_setup-function_mdx":"static/js/async/docs_zh_plugins_guide_setup-function_mdx.9ac7ac77.js","docs_zh_plugins_official-list_overview_md":"static/js/async/docs_zh_plugins_official-list_overview_md.92a73dee.js","docs_zh_plugins_official-list_plugin-babel_md":"static/js/async/docs_zh_plugins_official-list_plugin-babel_md.8faa928f.js","docs_zh_plugins_official-list_plugin-banner_md":"static/js/async/docs_zh_plugins_official-list_plugin-banner_md.ea6eb2de.js","docs_zh_plugins_official-list_plugin-import_mdx":"static/js/async/docs_zh_plugins_official-list_plugin-import_mdx.11a29fe6.js","docs_zh_plugins_official-list_plugin-node-polyfill_md":"static/js/async/docs_zh_plugins_official-list_plugin-node-polyfill_md.9ea38918.js","docs_zh_plugins_official-list_plugin-polyfill_md":"static/js/async/docs_zh_plugins_official-list_plugin-polyfill_md.004facf6.js"}[_]},p.k=function(_){return{"docs_en_api_config_build-config_mdx":"static/css/async/docs_en_api_config_build-config_mdx.d9ac876f.css","docs_en_api_config_build-preset_mdx":"static/css/async/docs_en_api_config_build-preset_mdx.d9ac876f.css",docs_en_api_config_dev_md:"static/css/async/docs_en_api_config_dev_md.d9ac876f.css",docs_en_api_config_plugins_md:"static/css/async/docs_en_api_config_plugins_md.d9ac876f.css",docs_en_api_config_testing_md:"static/css/async/docs_en_api_config_testing_md.d9ac876f.css",docs_en_api_index_md:"static/css/async/docs_en_api_index_md.d9ac876f.css","docs_en_api_plugin-api_plugin-hooks_md":"static/css/async/docs_en_api_plugin-api_plugin-hooks_md.d9ac876f.css","docs_en_components_faq-build-exception_mdx":"static/css/async/docs_en_components_faq-build-exception_mdx.d9ac876f.css","docs_en_components_faq-build-other_mdx":"static/css/async/docs_en_components_faq-build-other_mdx.d9ac876f.css","docs_en_components_faq-build-product_mdx":"static/css/async/docs_en_components_faq-build-product_mdx.d9ac876f.css","docs_en_components_faq-storybook_mdx":"static/css/async/docs_en_components_faq-storybook_mdx.d9ac876f.css","docs_en_components_faq-test_mdx":"static/css/async/docs_en_components_faq-test_mdx.d9ac876f.css","docs_en_components_register-esbuild-plugin_mdx":"static/css/async/docs_en_components_register-esbuild-plugin_mdx.d9ac876f.css",docs_en_guide_advance_asset_mdx:"static/css/async/docs_en_guide_advance_asset_mdx.d9ac876f.css","docs_en_guide_advance_build-umd_mdx":"static/css/async/docs_en_guide_advance_build-umd_mdx.d9ac876f.css",docs_en_guide_advance_copy_md:"static/css/async/docs_en_guide_advance_copy_md.d9ac876f.css","docs_en_guide_advance_external-dependency_mdx":"static/css/async/docs_en_guide_advance_external-dependency_mdx.d9ac876f.css","docs_en_guide_advance_in-depth-about-build_md":"static/css/async/docs_en_guide_advance_in-depth-about-build_md.d9ac876f.css","docs_en_guide_advance_in-depth-about-dev-command_md":"static/css/async/docs_en_guide_advance_in-depth-about-dev-command_md.d9ac876f.css","docs_en_guide_basic_before-getting-started_md":"static/css/async/docs_en_guide_basic_before-getting-started_md.d9ac876f.css","docs_en_guide_basic_command-preview_md":"static/css/async/docs_en_guide_basic_command-preview_md.d9ac876f.css","docs_en_guide_basic_modify-output-product_md":"static/css/async/docs_en_guide_basic_modify-output-product_md.d9ac876f.css","docs_en_guide_basic_publish-your-project_md":"static/css/async/docs_en_guide_basic_publish-your-project_md.d9ac876f.css","docs_en_guide_basic_test-your-project_mdx":"static/css/async/docs_en_guide_basic_test-your-project_mdx.d9ac876f.css","docs_en_guide_basic_use-micro-generator_md":"static/css/async/docs_en_guide_basic_use-micro-generator_md.d9ac876f.css","docs_en_guide_basic_using-storybook_mdx":"static/css/async/docs_en_guide_basic_using-storybook_mdx.d9ac876f.css","docs_en_guide_best-practices_components_mdx":"static/css/async/docs_en_guide_best-practices_components_mdx.d9ac876f.css","docs_en_guide_best-practices_use-tailwindcss_mdx":"static/css/async/docs_en_guide_best-practices_use-tailwindcss_mdx.d9ac876f.css",docs_en_guide_faq_build_mdx:"static/css/async/docs_en_guide_faq_build_mdx.d9ac876f.css",docs_en_guide_faq_index_md:"static/css/async/docs_en_guide_faq_index_md.d9ac876f.css",docs_en_guide_faq_storybook_mdx:"static/css/async/docs_en_guide_faq_storybook_mdx.d9ac876f.css",docs_en_guide_faq_test_mdx:"static/css/async/docs_en_guide_faq_test_mdx.d9ac876f.css","docs_en_guide_intro_getting-started_md":"static/css/async/docs_en_guide_intro_getting-started_md.d9ac876f.css",docs_en_guide_intro_welcome_md:"static/css/async/docs_en_guide_intro_welcome_md.d9ac876f.css","docs_en_guide_intro_why-module-engineering-solution_md":"static/css/async/docs_en_guide_intro_why-module-engineering-solution_md.d9ac876f.css",docs_en_index_md:"static/css/async/docs_en_index_md.d9ac876f.css","docs_en_plugins_guide_getting-started_mdx":"static/css/async/docs_en_plugins_guide_getting-started_mdx.d9ac876f.css","docs_en_plugins_guide_plugin-object_mdx":"static/css/async/docs_en_plugins_guide_plugin-object_mdx.d9ac876f.css","docs_en_plugins_guide_setup-function_mdx":"static/css/async/docs_en_plugins_guide_setup-function_mdx.d9ac876f.css","docs_en_plugins_official-list_overview_md":"static/css/async/docs_en_plugins_official-list_overview_md.d9ac876f.css","docs_en_plugins_official-list_plugin-babel_md":"static/css/async/docs_en_plugins_official-list_plugin-babel_md.d9ac876f.css","docs_en_plugins_official-list_plugin-banner_md":"static/css/async/docs_en_plugins_official-list_plugin-banner_md.d9ac876f.css","docs_en_plugins_official-list_plugin-import_mdx":"static/css/async/docs_en_plugins_official-list_plugin-import_mdx.d9ac876f.css","docs_en_plugins_official-list_plugin-node-polyfill_md":"static/css/async/docs_en_plugins_official-list_plugin-node-polyfill_md.d9ac876f.css","docs_en_plugins_official-list_plugin-polyfill_md":"static/css/async/docs_en_plugins_official-list_plugin-polyfill_md.d9ac876f.css","docs_zh_api_config_build-config_mdx":"static/css/async/docs_zh_api_config_build-config_mdx.d9ac876f.css","docs_zh_api_config_build-preset_mdx":"static/css/async/docs_zh_api_config_build-preset_mdx.d9ac876f.css",docs_zh_api_config_dev_md:"static/css/async/docs_zh_api_config_dev_md.d9ac876f.css",docs_zh_api_config_plugins_md:"static/css/async/docs_zh_api_config_plugins_md.d9ac876f.css",docs_zh_api_config_testing_md:"static/css/async/docs_zh_api_config_testing_md.d9ac876f.css",docs_zh_api_index_md:"static/css/async/docs_zh_api_index_md.d9ac876f.css","docs_zh_api_plugin-api_plugin-hooks_md":"static/css/async/docs_zh_api_plugin-api_plugin-hooks_md.d9ac876f.css","docs_zh_components_faq-build-exception_mdx":"static/css/async/docs_zh_components_faq-build-exception_mdx.d9ac876f.css","docs_zh_components_faq-build-other_mdx":"static/css/async/docs_zh_components_faq-build-other_mdx.d9ac876f.css","docs_zh_components_faq-build-product_mdx":"static/css/async/docs_zh_components_faq-build-product_mdx.d9ac876f.css","docs_zh_components_faq-storybook_mdx":"static/css/async/docs_zh_components_faq-storybook_mdx.d9ac876f.css","docs_zh_components_faq-test_mdx":"static/css/async/docs_zh_components_faq-test_mdx.d9ac876f.css","docs_zh_components_register-esbuild-plugin_mdx":"static/css/async/docs_zh_components_register-esbuild-plugin_mdx.d9ac876f.css",docs_zh_guide_advance_asset_mdx:"static/css/async/docs_zh_guide_advance_asset_mdx.d9ac876f.css","docs_zh_guide_advance_build-umd_mdx":"static/css/async/docs_zh_guide_advance_build-umd_mdx.d9ac876f.css",docs_zh_guide_advance_copy_md:"static/css/async/docs_zh_guide_advance_copy_md.d9ac876f.css","docs_zh_guide_advance_external-dependency_mdx":"static/css/async/docs_zh_guide_advance_external-dependency_mdx.d9ac876f.css","docs_zh_guide_advance_in-depth-about-build_md":"static/css/async/docs_zh_guide_advance_in-depth-about-build_md.d9ac876f.css","docs_zh_guide_advance_in-depth-about-dev-command_md":"static/css/async/docs_zh_guide_advance_in-depth-about-dev-command_md.d9ac876f.css","docs_zh_guide_basic_before-getting-started_md":"static/css/async/docs_zh_guide_basic_before-getting-started_md.d9ac876f.css","docs_zh_guide_basic_command-preview_md":"static/css/async/docs_zh_guide_basic_command-preview_md.d9ac876f.css","docs_zh_guide_basic_modify-output-product_md":"static/css/async/docs_zh_guide_basic_modify-output-product_md.d9ac876f.css","docs_zh_guide_basic_publish-your-project_md":"static/css/async/docs_zh_guide_basic_publish-your-project_md.d9ac876f.css","docs_zh_guide_basic_test-your-project_mdx":"static/css/async/docs_zh_guide_basic_test-your-project_mdx.d9ac876f.css","docs_zh_guide_basic_use-micro-generator_md":"static/css/async/docs_zh_guide_basic_use-micro-generator_md.d9ac876f.css","docs_zh_guide_basic_using-storybook_mdx":"static/css/async/docs_zh_guide_basic_using-storybook_mdx.d9ac876f.css","docs_zh_guide_best-practices_components_mdx":"static/css/async/docs_zh_guide_best-practices_components_mdx.d9ac876f.css","docs_zh_guide_best-practices_use-tailwindcss_mdx":"static/css/async/docs_zh_guide_best-practices_use-tailwindcss_mdx.d9ac876f.css",docs_zh_guide_faq_build_mdx:"static/css/async/docs_zh_guide_faq_build_mdx.d9ac876f.css",docs_zh_guide_faq_index_md:"static/css/async/docs_zh_guide_faq_index_md.d9ac876f.css",docs_zh_guide_faq_storybook_mdx:"static/css/async/docs_zh_guide_faq_storybook_mdx.d9ac876f.css",docs_zh_guide_faq_test_mdx:"static/css/async/docs_zh_guide_faq_test_mdx.d9ac876f.css","docs_zh_guide_intro_getting-started_md":"static/css/async/docs_zh_guide_intro_getting-started_md.d9ac876f.css",docs_zh_guide_intro_welcome_md:"static/css/async/docs_zh_guide_intro_welcome_md.d9ac876f.css","docs_zh_guide_intro_why-module-engineering-solution_md":"static/css/async/docs_zh_guide_intro_why-module-engineering-solution_md.d9ac876f.css",docs_zh_index_md:"static/css/async/docs_zh_index_md.d9ac876f.css","docs_zh_plugins_guide_getting-started_mdx":"static/css/async/docs_zh_plugins_guide_getting-started_mdx.d9ac876f.css","docs_zh_plugins_guide_plugin-object_mdx":"static/css/async/docs_zh_plugins_guide_plugin-object_mdx.d9ac876f.css","docs_zh_plugins_guide_setup-function_mdx":"static/css/async/docs_zh_plugins_guide_setup-function_mdx.d9ac876f.css","docs_zh_plugins_official-list_overview_md":"static/css/async/docs_zh_plugins_official-list_overview_md.d9ac876f.css","docs_zh_plugins_official-list_plugin-babel_md":"static/css/async/docs_zh_plugins_official-list_plugin-babel_md.d9ac876f.css","docs_zh_plugins_official-list_plugin-banner_md":"static/css/async/docs_zh_plugins_official-list_plugin-banner_md.d9ac876f.css","docs_zh_plugins_official-list_plugin-import_mdx":"static/css/async/docs_zh_plugins_official-list_plugin-import_mdx.d9ac876f.css","docs_zh_plugins_official-list_plugin-node-polyfill_md":"static/css/async/docs_zh_plugins_official-list_plugin-node-polyfill_md.d9ac876f.css","docs_zh_plugins_official-list_plugin-polyfill_md":"static/css/async/docs_zh_plugins_official-list_plugin-polyfill_md.d9ac876f.css"}[_]},s={},p.l=function(_,d,c,i){if(s[_])s[_].push(d);else{if(void 0!==c)for(var e,n,o=document.getElementsByTagName("script"),t=0;t<o.length;t++){var a=o[t];if(a.getAttribute("src")==_){e=a;break}}!e&&(n=!0,(e=document.createElement("script")).charset="utf-8",e.timeout=120,e.src=_),s[_]=[d];var u=function(d,c){e.onerror=e.onload=null,clearTimeout(m);var i=s[_];if(delete s[_],e.parentNode&&e.parentNode.removeChild(e),i&&i.forEach((function(_){return _(c)})),d)return d(c)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:e}),12e4);e.onerror=u.bind(null,e.onerror),e.onload=u.bind(null,e.onload),n&&document.head.appendChild(e)}},p.o=function(_,s){return Object.prototype.hasOwnProperty.call(_,s)},d=[],p.O=function(_,s,c,i){if(!s){var e=1/0;for(a=0;a<d.length;a++){s=d[a][0],c=d[a][1],i=d[a][2];for(var n=!0,o=0;o<s.length;o++)e>=i&&Object.keys(p.O).every((function(_){return p.O[_](s[o])}))?s.splice(o--,1):(n=!1,i<e&&(e=i));if(n){d.splice(a--,1);var t=c();void 0!==t&&(_=t)}}return _}i=i||0;for(var a=d.length;a>0&&d[a-1][2]>i;a--)d[a]=d[a-1];d[a]=[s,c,i]},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(_){if("object"==typeof window)return window}}(),p.d=function(_,s){for(var d in s)p.o(s,d)&&!p.o(_,d)&&Object.defineProperty(_,d,{enumerable:!0,get:s[d]})},p.r=function(_){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},p.n=function(_){return _&&_.__esModule?_.default:_},i=Object.getPrototypeOf?function(_){return Object.getPrototypeOf(_)}:function(_){return _.__proto__},p.t=function(_,s){if(1&s&&(_=this(_)),8&s||"object"==typeof _&&_&&(4&s&&_.__esModule||16&s&&"function"==typeof _.then))return _;var d=Object.create(null);p.r(d);var e={};c=c||[null,i({}),i([]),i(i)];for(var n=2&s&&_;"object"==typeof n&&!~c.indexOf(n);n=i(n))Object.getOwnPropertyNames(n).forEach((function(s){e[s]=function(){return _[s]}}));return e.default=function(){return _},p.d(d,e),d},p.nmd=function(_){return _.paths=[],!_.children&&(_.children=[]),_},e={"vendors~node_modules_pnpm_scheduler_0_23_0_node_modules_scheduler_index_js~node_modules_pnpm_~dec92f":0},n="webpack",o="data-webpack-loading",t=function(_,s,d,c){var i,e,t="chunk-"+_;if(!c){for(var a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var m=a[u],g=m.getAttribute("href")||m.href;if(g&&!g.startsWith(p.p)&&(g=p.p+(g.startsWith("/")?g.slice(1):g)),"stylesheet"==m.rel&&(g&&g.startsWith(s)||m.getAttribute("data-webpack")==n+":"+t)){i=m;break}}if(!d)return i}!i&&(e=!0,(i=document.createElement("link")).setAttribute("data-webpack",n+":"+t),i.setAttribute(o,1),i.rel="stylesheet",i.href=s);var l=function(_,s){if(i.onerror=i.onload=null,i.removeAttribute(o),clearTimeout(f),s&&"load"!=s.type&&i.parentNode.removeChild(i),d(s),_)return _(s)};if(i.getAttribute(o)){var f=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload)}else l(void 0,{type:"load",target:i});return c?c.parentNode.insertBefore(i,c):e&&document.head.appendChild(i),i},p.f.css=function(_,s){var d=p.o(e,_)?e[_]:void 0;if(0!==d)if(d)s.push(d[2]);else if([].indexOf(_)>-1){var c=new Promise((function(s,c){d=e[_]=[s,c]}));s.push(d[2]=c);var i=p.p+p.k(_),n=Error();t(_,i,(function(s){if(p.o(e,_)&&(0!==(d=e[_])&&(e[_]=void 0),d))if("load"!==s.type){var c=s&&s.type,i=s&&s.target&&s.target.src;n.message="Loading css chunk "+_+" failed.\n("+c+": "+i+")",n.name="ChunkLoadError",n.type=c,n.request=i,d[1](n)}else d[0]()}))}else e[_]=0},a={"builder-runtime":0},p.f.j=function(_,s){var d=p.o(a,_)?a[_]:void 0;if(0!==d)if(d)s.push(d[2]);else if(_){var c=new Promise((function(s,c){d=a[_]=[s,c]}));s.push(d[2]=c);var i=p.p+p.u(_),e=Error();p.l(i,(function(s){if(p.o(a,_)&&(0!==(d=a[_])&&(a[_]=void 0),d)){var c=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;e.message="Loading chunk "+_+" failed.\n("+c+": "+i+")",e.name="ChunkLoadError",e.type=c,e.request=i,d[1](e)}}),"chunk-"+_,_)}else a[_]=0},p.O.j=function(_){return 0===a[_]},u=function(_,s){var d,c,i=s[0],e=s[1],n=s[2],o=0;if(i.some((function(_){return 0!==a[_]}))){for(d in e)p.o(e,d)&&(p.m[d]=e[d]);if(n)var t=n(p)}for(_&&_(s);o<i.length;o++)c=i[o],p.o(a,c)&&a[c]&&a[c][0](),a[c]=0;return p.O(t)},(m=self.webpackChunk_modern_js_module_tools_docs=self.webpackChunk_modern_js_module_tools_docs||[]).forEach(u.bind(null,0)),m.push=u.bind(null,m.push.bind(m))}()</script><script defer="defer" src="/static/js/lib-react.37e47266.js"></script><script defer="defer" src="/static/js/lib-polyfill.3d32e00f.js"></script><script defer="defer" src="/static/js/lib-lodash.637d6daf.js"></script><script defer="defer" src="/static/js/lib-router.ec1dbe12.js"></script><script defer="defer" src="/static/js/vendors~node_modules_pnpm_scheduler_0_23_0_node_modules_scheduler_index_js~node_modules_pnpm_~dec92f.f854ae03.js"></script><script defer="defer" src="/static/js/main.e6f8e1d0.js"></script><link href="/static/css/vendors~node_modules_pnpm_scheduler_0_23_0_node_modules_scheduler_index_js~node_modules_pnpm_~dec92f.2d24fb50.css" rel="stylesheet"></head><body ><div id="root"><div><header class="top-0 left-0 md:fixed w-full" style="z-index:var(--rp-z-index-nav);background:var(--rp-c-bg)"><div class="navContainer_47ac2 rspress-nav px-6"><div class="container_47ac2 flex justify-between items-center h-full"><div class="undefined"><a href="/module-tools/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><span>Module Tools</span></a></div><div class="undefined flex flex-1 justify-end items-center"><div class="leftNav_47ac2"><div class="menu h-14"></div></div><div class="rightNav_47ac2"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="navSearchButton_f619e"><button><svg width="18" height="24" viewBox="0 0 32 32" hight="18"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg><p class="searchWord_f619e">Search Docs</p><div><span>⌘</span><span>K</span></div></button></div><div class="mobileNavSearchButton_f619e"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg></div></div><div class="menu h-14"><a class="link_b3367  cursor-pointer" target="" href="/module-tools/guide/intro/welcome.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex">指南</div></a><a class="link_b3367  cursor-pointer" target="" href="/module-tools/api/index.html"><div class="singleItem_47ac2 activeItem_47ac2 text-sm font-medium mx-1.5 px-3 py-2 flex">API</div></a><a class="link_b3367  cursor-pointer" target="" href="/module-tools/plugins/guide/getting-started.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex">插件</div></a><div class="mx-3 last:mr-0"><div class="relative flex-center h-14"><button class="nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px">v2.33.1</span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:2rem;background:var(--rp-c-bg)"><div><div class="font-medium my-1"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/solutions/module-tools/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="link_b3367 "><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>更新日志</span></div></div></a></div></div><div><div class="font-medium my-1"><a href="https://modernjs.dev/en/community/contributing-guide.html" target="_blank" rel="noopener noreferrer" class="link_b3367 "><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>贡献指南</span></div></div></a></div></div></div></div></div></div></div><div class="flex-center flex-row"><div class="translation menu-item_47ac2 flex text-sm font-bold items-center px-3 py-2"><div><div class="relative flex-center h-14"><button class="nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px"><svg width="18" height="18" viewBox="0 0 32 32" style="with:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:2rem;background:var(--rp-c-bg)"><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">简体中文</span></div></div><div><div class="font-medium my-1"><a class="link_b3367  cursor-pointer" target="" href="/module-tools/en/api/config/build-config.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"></path></svg></div></div></div><div class="social-links menu-item_8cbd0 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/solutions/module-tools" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_8cbd0"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div></div><div class="mobileNavMenu_47ac2"><div class="navScreen_8624f " id="navScreen"><div class="container_8624f"><div class="navMenu_8624f"><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/module-tools/guide/intro/welcome.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex">指南</div></a></div><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/module-tools/api/index.html"><div class="singleItem_47ac2 activeItem_47ac2 text-sm font-medium mx-1.5 px-3 py-2 flex">API</div></a></div><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/module-tools/plugins/guide/getting-started.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex">插件</div></a></div><div class="navMenuItem_8624f w-full"><div class="mx-3 last:mr-0"><div class=" navScreenMenuGroup_de8a5 relative"><button class="button_de8a5"><span class="buttonSpan_de8a5">v2.33.1</span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_de8a5 "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_de8a5"><div><div class="py-1 font-medium"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/solutions/module-tools/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="link_b3367 "><div><div class="flex justify-center"><span>更新日志</span></div></div></a></div></div><div><div class="py-1 font-medium"><a href="https://modernjs.dev/en/community/contributing-guide.html" target="_blank" rel="noopener noreferrer" class="link_b3367 "><div><div class="flex justify-center"><span>贡献指南</span></div></div></a></div></div></div></div></div></div></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_8624f flex justify-center"></div><div class="undefined flex text-sm font-bold justify-center"><div class="mx-1.5 my-1"><div class=" navScreenMenuGroup_de8a5 relative"><button class="button_de8a5"><span class="buttonSpan_de8a5"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_de8a5 "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_de8a5"><div><div class="p-1"><span class="text-brand">简体中文</span></div></div><div><div class="py-1 font-medium"><a class="link_b3367  cursor-pointer" target="" href="/module-tools/en.html"><div><div class="flex justify-center"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="social-links menu-item_8cbd0 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/solutions/module-tools" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_8cbd0"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div></div></div><button class=" navHamburger_2498a text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div></header><section><div class="docLayout_feeda pt-0"><div class="localNav_dce60"><button class="menu_dce60 flex-center"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button></div><aside class="sidebar_74484 rspress-sidebar "><div class="mt-1 sidebarContent_74484"><div class="rspress-scrollbar" style="max-height:calc(100vh - var(--rp-nav-height) - 8px);overflow:scroll"><nav class="pb-6"><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/module-tools/api/index.html"><div class="menuItem_74484 mt-1 py-1.5 px-2 rounded-xl font-medium flex" style="font-size:14px;margin-left:0;color:var(--rp-c-text-1)">概览</div></a><section class="mt-1 block" style="margin-left:0"><div style="cursor:pointer" class="flex justify-between items-center rounded-xl menuItem_74484"><h2 class="py-1 px-2 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px">配置项</h2><div class="collapseContainer_74484 p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/module-tools/api/config/build-config.html"><div class="menuItemActive_74484 mt-1 py-1.5 px-2 rounded-xl font-medium flex" style="font-size:13px;margin-left:20px">buildConfig</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/module-tools/api/config/build-preset.html"><div class="menuItem_74484 mt-1 py-1.5 px-2 rounded-xl font-medium flex" style="font-size:13px;margin-left:20px">buildPreset</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/module-tools/api/config/dev.html"><div class="menuItem_74484 mt-1 py-1.5 px-2 rounded-xl font-medium flex" style="font-size:13px;margin-left:20px">dev</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/module-tools/api/config/plugins.html"><div class="menuItem_74484 mt-1 py-1.5 px-2 rounded-xl font-medium flex" style="font-size:13px;margin-left:20px">plugins</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/module-tools/api/config/testing.html"><div class="menuItem_74484 mt-1 py-1.5 px-2 rounded-xl font-medium flex" style="font-size:13px;margin-left:20px">testing</div></a></div></div></div></section><section class="mt-1 block" style="margin-left:0"><div style="cursor:pointer" class="flex justify-between items-center rounded-xl menuItem_74484"><h2 class="py-1 px-2 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px">Plugin API</h2><div class="collapseContainer_74484 p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/module-tools/api/plugin-api/plugin-hooks.html"><div class="menuItem_74484 mt-1 py-1.5 px-2 rounded-xl font-medium flex" style="font-size:13px;margin-left:20px">Plugin Hooks</div></a></div></div></div></section></nav></div></div></aside><div class="content_feeda rspress-doc-container flex flex-shrink-0"><div class="w-full"><div class="rspress-doc"><!--$--><h1 id="buildconfig" class="text-3xl mb-10 leading-10 tracking-tight title_f1ea0">buildConfig<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#buildconfig">#</a></h1>
<p class="my-4 leading-7"><code>buildConfig</code> 是一个用来描述如何编译、生成构建产物的配置项，它包含了构建的所有配置。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>object | object[]</code></li>
</ul>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content"><p class="my-4 leading-7">在开始使用 <code>buildConfig</code> 之前，请先阅读以下文档来了解其作用：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="/module-tools/guide/basic/modify-output-product.html" class="link_f1ea0 undefined">修改输出产物</a></li>
<li class="[&amp;:not(:first-child)]:mt-2"><a href="/module-tools/guide/advance/in-depth-about-build.html" class="link_f1ea0 undefined">深入理解构建</a></li>
</ul>
</div></div>
<h2 id="alias" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">alias<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#alias">#</a></h2>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>Record&lt;string, string&gt; | Function</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>{&#x27;@&#x27;: &#x27;src&#x27;,}</code></li>
</ul>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content"><p class="my-4 leading-7">对于 TypeScript 项目，只需要在 <code>tsconfig.json</code> 中配置 <a href="https://www.typescriptlang.org/tsconfig#paths" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">compilerOptions.paths</a>, Module Tools 会自动识别 <code>tsconfig.json</code> 里的别名，因此不需要额外配置 <code>alias</code> 字段。
</p></div></div>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">alias</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token string-property" style="color:var(--code-token-parameter)">&#x27;@common&#x27;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./src/common&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">以上配置完成后，如果在代码中引用 <code>@common/Foo.tsx</code>, 则会映射到 <code>&lt;project&gt;/src/common/Foo.tsx</code> 路径上。</p>
<p class="my-4 leading-7"><code>alias</code> 的值定义为函数时，可以接受预设的 alias 对象，并对其进行修改。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token function-variable" style="color:var(--code-token-function)">alias</span><span class="token operator">:</span><span> </span><span class="token parameter">alias</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      alias</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&#x27;@common&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./src/common&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">也可以在函数中返回一个新对象作为最终结果，新对象会覆盖预设的 alias 对象。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token function-variable" style="color:var(--code-token-function)">alias</span><span class="token operator">:</span><span> </span><span class="token parameter">alias</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token string-property" style="color:var(--code-token-parameter)">&#x27;@common&#x27;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./src/common&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="asset" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">asset<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#asset">#</a></h2>
<p class="my-4 leading-7">包含静态资源相关的配置。</p>
<h2 id="assetpath" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">asset.path<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#assetpath">#</a></h2>
<p class="my-4 leading-7">静态资源输出路径，会基于 <a href="/module-tools/api/config/build-config.html#outDir" class="link_f1ea0 undefined">outDir</a> 进行输出。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>assets</code></li>
</ul>
<h2 id="assetlimit" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">asset.limit<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#assetlimit">#</a></h2>
<p class="my-4 leading-7">用于设置静态资源被自动内联为 base64 的体积阈值。</p>
<p class="my-4 leading-7">Module Tools 在进行打包时，默认会内联体积小于 10KB 的图片、字体、媒体等资源，将它们通过 Base64 编码，并内联到产物中，不再会发送独立的 HTTP 请求。</p>
<p class="my-4 leading-7">你可以通过修改 <code>limit</code> 参数来调整这个阈值。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>number</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>10 * 1024</code></li>
</ul>
<p class="my-4 leading-7">例如，将 <code>limit</code> 设置为 <code>0</code> 来避免资源内联：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">asset</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">limit</span><span class="token operator">:</span><span> </span><span class="token number">0</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="assetpublicpath" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">asset.publicPath<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#assetpublicpath">#</a></h2>
<p class="my-4 leading-7">打包时给未内联资源的 CDN 前缀。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>undefined</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">asset</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">publicPath</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;https://xxx/&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">此时，所有静态资源都会添加 <code>https://xxx/</code> 前缀。</p>
<h2 id="assetsvgr" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">asset.svgr<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#assetsvgr">#</a></h2>
<p class="my-4 leading-7">打包时将 SVG 作为一个 React 组件处理，options 参考 <a href="https://react-svgr.com/docs/options/" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">svgr</a>，另外还支持了 <code>include</code> 和 <code>exclude</code> 两个配置项，用于匹配需要处理的 SVG 文件。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean | object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>false</code></li>
</ul>
<p class="my-4 leading-7">开启 svgr 功能后，可以使用默认导出的方式将 SVG 当做组件使用。</p>
<div class="language-js"><div class="rspress-code-title">index.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// true</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> Logo </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./logo.svg&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token operator">&lt;</span><span>Logo </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="modern-directive warning"><div class="modern-directive-title">WARNING</div><div class="modern-directive-content">
<p class="my-4 leading-7">目前不支持下面的用法：</p>
<div class="language-js"><div class="rspress-code-title">index.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> ReactComponent </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./logo.svg&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
</div></div>
<p class="my-4 leading-7">当开启功能后，可以通过在 <code>modern-app-env.d.ts</code> 文件中增加类型定义，修改使用 SVG 的类型：</p>
<div class="language-ts"><div class="rspress-code-title">modern-app-env.d.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">declare</span><span> </span><span class="token" style="color:var(--code-token-keyword)">module</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;*.svg&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-keyword)">const</span><span> src</span><span class="token operator">:</span><span> React</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>FunctionComponent</span><span class="token operator">&lt;</span><span>React</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>SVGProps</span><span class="token operator">&lt;</span><span>SVGSVGElement</span><span class="token operator">&gt;&gt;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> src</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">/// &lt;reference types=&#x27;@modern-js/module-tools/types&#x27; /&gt;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="assetsvgrinclude" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">asset.svgr.include<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#assetsvgrinclude">#</a></h2>
<p class="my-4 leading-7">设定匹配的 SVG 文件</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string | RegExp | (string | RegExp)[]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>/\.svg$/</code></li>
</ul>
<h2 id="assetsvgrexclude" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">asset.svgr.exclude<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#assetsvgrexclude">#</a></h2>
<p class="my-4 leading-7">设定不匹配的 SVG 文件</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string | RegExp | (string | RegExp)[]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>undefined</code></li>
</ul>
<h2 id="autoexternal" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">autoExternal<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#autoexternal">#</a></h2>
<p class="my-4 leading-7">自动外置项目的 <code>&quot;dependencies&quot;</code> 和 <code>&quot;peerDependencies&quot;</code>，不会将其打包到最终的 bundle 产物中。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean | object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>true</code></li>
</ul>
<p class="my-4 leading-7">当我们希望关闭对于第三方依赖的默认处理行为时候，可以通过以下方式来实现：</p>
<div class="language-ts"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    autoExternal</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">这样对于 <code>&quot;dependencies&quot;</code> 和 <code>&quot;peerDependencies&quot;</code> 下面的依赖都会进行打包处理。如果只想要关闭其中某个下面的依赖处理，则可以使用
<code>buildConfig.autoExternal</code> 的对象形式：</p>
<div class="language-ts"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    autoExternal</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      dependencies</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      peerDependencies</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="autoexternaldependencies" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">autoExternal.dependencies<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#autoexternaldependencies">#</a></h2>
<p class="my-4 leading-7">是否需要外置项目的 <code>&quot;dependencies&quot;</code> 依赖。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>true</code></li>
</ul>
<h2 id="autoexternalpeerdependencies" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">autoExternal.peerDependencies<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#autoexternalpeerdependencies">#</a></h2>
<p class="my-4 leading-7">是否需要外置项目的 <code>&quot;peerDependencies&quot;</code> 依赖。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>true</code></li>
</ul>
<h2 id="buildtype" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">buildType<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#buildtype">#</a></h2>
<p class="my-4 leading-7">构建类型，<code>bundle</code> 会打包你的代码，<code>bundleless</code> 只做代码的转换。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>&#x27;bundle&#x27; | &#x27;bundleless&#x27;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>&#x27;bundle&#x27;</code></li>
</ul>
<h2 id="copy" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">copy<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#copy">#</a></h2>
<p class="my-4 leading-7">将文件或目录拷贝到指定位置。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>object</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">copy</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">patterns</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> </span><span class="token literal-property" style="color:var(--code-token-parameter)">from</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./src/assets&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token literal-property" style="color:var(--code-token-parameter)">to</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="copypatterns" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">copy.patterns<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#copypatterns">#</a></h2>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>CopyPattern[]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>[]</code></li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">interface</span><span> </span><span class="token class-name">CopyPattern</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  from</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-symbol)">string</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  to</span><span class="token operator">?</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-symbol)">string</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  context</span><span class="token operator">?</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-symbol)">string</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  globOptions</span><span class="token operator">?</span><span class="token operator">:</span><span> globby</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>GlobbyOptions</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="copyoptions" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">copy.options<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#copyoptions">#</a></h2>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token class-name">Options</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  concurrency</span><span class="token operator">?</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-symbol)">number</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  enableCopySync</span><span class="token operator">?</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-symbol)">boolean</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7">默认值： <code>{ concurrency: 100, enableCopySync: false }</code></p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><code>concurrency</code>: 指定并行执行多少个复制任务。</p>
</li>
<li class="[&amp;:not(:first-child)]:mt-2">
<p class="my-4 leading-7"><code>enableCopySync</code>: 使用 <a href="https://github.com/jprichardson/node-fs-extra/blob/master/lib/copy/copy-sync.js" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined"><code>fs.copySync</code></a>，默认情况下 <a href="https://github.com/jprichardson/node-fs-extra/blob/master/lib/copy/copy.js" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined"><code>fs.copy</code></a>。</p>
</li>
</ul>
<h2 id="define" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">define<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#define">#</a></h2>
<p class="my-4 leading-7">定义全局变量，会被注入到代码中</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>Record&lt;string, string&gt;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>{}</code></li>
</ul>
<p class="my-4 leading-7">由于 <code>define</code> 功能是由全局文本替换实现的，所以需要保证全局变量值为字符串，更为安全的做法是将每个全局变量的值转化为字符串，使用 <code>JSON.stringify</code> 进行转换，如下所示：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">define</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-constant)">VERSION</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-constant)">JSON</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">stringify</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;1.0&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content"><p class="my-4 leading-7">为了防止全局替换替换过度，建议使用时遵循以下两个原则：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">全局常量使用大写</li>
<li class="[&amp;:not(:first-child)]:mt-2">自定义全局常量前缀后缀，确保独一无二</li>
</ul>
</div></div>
<!-- -->
<h2 id="dts" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">dts<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#dts">#</a></h2>
<p class="my-4 leading-7">类型文件生成的相关配置，默认情况会生成。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>false | object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：</li>
</ul>
<div class="language-js"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">abortOnError</span><span class="token operator">:</span><span> </span><span class="token boolean">true</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">distPath</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">only</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">tsconfigPath</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./tsconfig.json&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="dtsabortonerror" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">dts.abortOnError<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#dtsabortonerror">#</a></h2>
<p class="my-4 leading-7">用于控制在出现类型错误的时候，是否允许构建成功。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>true</code></li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">默认情况下，在出现类型错误的时候会导致构建失败</strong>。将 <code>abortOnError</code> 设置为 <code>false</code> 后，即使代码中出现了类型问题，构建依然会成功：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">dts</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">abortOnError</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="modern-directive warning"><div class="modern-directive-title">WARNING</div><div class="modern-directive-content"><p class="my-4 leading-7">当关闭该配置后，无法保证类型文件能正常生成，且不保证内容正确。在 <code>buildType: &#x27;bundle&#x27;</code> 时，即打包模式下，类型文件一定不会生成。
</p></div></div>
<h2 id="dtsdistpath" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">dts.distPath<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#dtsdistpath">#</a></h2>
<p class="my-4 leading-7">类型文件的输出路径，基于 <a href="/module-tools/api/config/build-config.html#outDir" class="link_f1ea0 undefined">outDir</a> 进行输出。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>./</code></li>
</ul>
<p class="my-4 leading-7">比如输出到 <code>outDir</code> 下面的 <code>types</code> 目录：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">dts</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">distPath</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./types&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="dtsonly" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">dts.only<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#dtsonly">#</a></h2>
<p class="my-4 leading-7">是否在构建时只生成类型文件，不生成 JavaScript 产物文件。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>false</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">dts</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">only</span><span class="token operator">:</span><span> </span><span class="token boolean">true</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="dtsrespectexternal" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">dts.respectExternal<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#dtsrespectexternal">#</a></h2>
<p class="my-4 leading-7">当设为 <code>false</code> 时，不会打包任何三方包类型，设为 <code>true</code> 时，会根据 <a href="#externals" class="link_f1ea0 undefined">externals</a> 来决定是否需要打包三方类型。</p>
<p class="my-4 leading-7">在对类型文件进行打包时，构建工具还未对 export 进行分析，因此当你引用的任何一个三方包出现类型错误时，都可能会中断当前的构建流程，这会导致构建流程不可控，因此我们可以通过这个配置来避免该问题。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>true</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">dts</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">respectExternal</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="dtstsconfigpath" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">dts.tsconfigPath<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#dtstsconfigpath">#</a></h2>
<p class="my-4 leading-7">TypeScript 配置文件的路径。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>./tsconfig.json</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">dts</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">tsconfigPath</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./other-tsconfig.json&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="esbuildoptions" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">esbuildOptions<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#esbuildoptions">#</a></h2>
<p class="my-4 leading-7">用于修改底层的 <a href="https://esbuild.github.io/api/" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">esbuild 配置</a>。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>Function</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>c =&gt; c</code></li>
</ul>
<p class="my-4 leading-7">例如，我们需要修改生成文件的后缀：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token function-variable" style="color:var(--code-token-function)">esbuildOptions</span><span class="token operator">:</span><span> </span><span class="token parameter">options</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      options</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>outExtension </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> </span><span class="token string-property" style="color:var(--code-token-parameter)">&#x27;.js&#x27;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;.mjs&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> options</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">例如，注册一个 esbuild 插件：</p>
<!-- -->
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> myEsbuildPlugin </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./myEsbuildPlugin&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token function-variable" style="color:var(--code-token-function)">esbuildOptions</span><span class="token operator">:</span><span> </span><span class="token parameter">options</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      options</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>plugins </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>myEsbuildPlugin</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token operator">...</span><span>options</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>plugins</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> options</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在增加 esbuild 插件时，请注意你需要将插件加在 plugins 数组的头部，因为 Modern.js Module 内部也是通过一个 esbuild 插件介入到整个构建流程中去的，因此需要将自定义插件优先注册。</p>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content"><p class="my-4 leading-7">我们在原本 esbuild 构建的基础上做了许多扩展，因此使用此配置需要注意以下几点：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">优先使用 Modern.js Module 提供的配置，例如 esbuild 并不支持 <code>target: &#x27;es5&#x27;</code>，但我们内部使用 SWC 支持了此场景，此时通过 <code>esbuildOptions</code> 设置<code>target: &#x27;es5&#x27;</code>会报错。</li>
<li class="[&amp;:not(:first-child)]:mt-2">目前我们内部使用 <code>enhanced-resolve</code> 替代了 esbuild 的 resolve 解析算法，所以修改 esbuild resolve 相关配置无效，计划在未来会切换回来。</li>
</ol>
</div></div>
<h2 id="externalhelpers" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">externalHelpers<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#externalhelpers">#</a></h2>
<p class="my-4 leading-7">默认情况下，输出的 JS 代码可能会依赖一些辅助函数来支持目标环境或者输出格式，这些辅助函数会被内联在需要它的文件中。</p>
<p class="my-4 leading-7">当在使用 SWC Transform 进行代码转换的时候，可以启动 <code>externalHelpers</code> 配置，将内联的辅助函数转换为从外部模块 <code>@swc/helpers</code> 导入这些辅助函数。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>false</code></li>
</ul>
<p class="my-4 leading-7">下面是使用该配置前后的产物变化比较。</p>
<p class="my-4 leading-7">开启前：</p>
<div class="language-js"><div class="rspress-code-title">./dist/index.js</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 辅助函数</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-function)">asyncGeneratorStep</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token parameter">gen</span><span class="token parameter" style="color:var(--code-token-punctuation)">,</span><span class="token parameter"> resolve</span><span class="token parameter" style="color:var(--code-token-punctuation)">,</span><span class="token parameter"> reject</span><span class="token parameter" style="color:var(--code-token-punctuation)">,</span><span class="token parameter"> _next</span><span class="token parameter" style="color:var(--code-token-punctuation)">,</span><span class="token parameter"> _throw</span><span class="token parameter" style="color:var(--code-token-punctuation)">,</span><span class="token parameter"> key</span><span class="token parameter" style="color:var(--code-token-punctuation)">,</span><span class="token parameter"> arg</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-comment)">// ...</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// 辅助函数</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-function)">_async_to_generator</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token parameter">fn</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> </span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">// use asyncGeneratorStep</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">// ...</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// 你的代码</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">var</span><span> </span><span class="token function-variable" style="color:var(--code-token-function)">yourCode</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-comment)">// use _async_to_generator</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">开启后：</p>
<div class="language-js"><div class="rspress-code-title">./dist/index.js</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 从 @swc/helpers 导入的辅助函数</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> _ </span><span class="token" style="color:var(--code-token-keyword)">as</span><span> _async_to_generator </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;@swc/helpers/_/_async_to_generator&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// 你的代码</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">var</span><span> </span><span class="token function-variable" style="color:var(--code-token-function)">yourCode</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-comment)">// use _async_to_generator</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="externals" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">externals<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#externals">#</a></h2>
<p class="my-4 leading-7">用于在打包时排除一些外部依赖，避免将这些依赖打包到最终的 bundle 中。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token class-name">Externals</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-symbol)">string</span><span> </span><span class="token operator">|</span><span> RegExp</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>[]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">构建类型：<code>仅支持 buildType: &#x27;bundle&#x27;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">示例：</li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">// 避免打包 React</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">externals</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&#x27;react&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="format" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">format<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#format">#</a></h2>
<p class="my-4 leading-7">用于设置 JavaScript 产物输出的格式，其中 <code>iife</code> 和 <code>umd</code> 只在 <code>buildType</code> 为 <code>bundle</code> 时生效。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>&#x27;esm&#x27; | &#x27;cjs&#x27; | &#x27;iife&#x27; | &#x27;umd&#x27;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>cjs</code></li>
</ul>
<h3 id="format-esm" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">format: esm<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#format-esm">#</a></h3>
<p class="my-4 leading-7">esm 代表 &quot;ECMAScript 模块&quot;，它需要运行环境支持 import 和 export 语法。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">示例：</li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">format</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;esm&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h3 id="format-cjs" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">format: cjs<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#format-cjs">#</a></h3>
<p class="my-4 leading-7">cjs 代表 &quot;CommonJS&quot;，它需要运行环境支持 exports、require 和 module 语法，通常为 Node.js 环境。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">示例：</li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">format</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;cjs&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h3 id="format-iife" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">format: iife<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#format-iife">#</a></h3>
<p class="my-4 leading-7">iife 代表 &quot;立即调用函数表达式&quot;，它将代码包裹在函数表达式中，确保代码中的任何变量不会意外地与全局范围中的变量冲突，通常在浏览器环境中运行。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">示例：</li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">format</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;iife&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h3 id="format-umd" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">format: umd<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#format-umd">#</a></h3>
<p class="my-4 leading-7">umd 代表 &quot;Universal Module Definition&quot;，用于在不同环境（浏览器、Node.js 等）中运行。umd 格式的模块可以在多种环境下使用，既可以作为全局变量访问，也可以通过模块加载器（如 RequireJS）进行模块化加载。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">示例：</li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">format</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;umd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="input" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">input<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#input">#</a></h2>
<p class="my-4 leading-7">指定构建的入口文件，数组形式可以指定目录。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token class-name">Input</span><span> </span><span class="token operator">=</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-symbol)">string</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>name</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-symbol)">string</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-symbol)">string</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>bundle</code> 模式下默认为 <code>[&#x27;src/index.ts&#x27;]</code>，<code>bundleless</code> 模式下默认为 <code>[&#x27;src&#x27;]</code></li>
</ul>
<p class="my-4 leading-7"><strong class="font-semibold">数组用法：</strong></p>
<p class="my-4 leading-7">在 <code>bundle</code> 模式下，下面的配置会以 <code>src/index.ts</code> 和 <code>src/index2.ts</code> 为入口分别进行构建。<code>bundle</code> 模式不支持配置 <code>input</code> 为目录。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildType</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bundle&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">input</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&#x27;src/index.ts&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;src/index2.ts&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在 <code>bundleless</code> 模式下，下面的配置会同时处理 <code>src/a</code> 目录下的文件和 <code>src/index.ts</code> 文件。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildType</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bundleless&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">input</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&#x27;src/a&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;src/index.ts&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在 <code>bundleless</code> 模式下，数组模式还支持使用 <code>!</code> 来过滤部分文件：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildType</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bundleless&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">input</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&#x27;src&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;!src/*.spec.ts&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">上面的配置将打包 <code>src</code> 目录下的文件，同时会过滤以 <code>spec.ts</code> 为后缀的文件。这在测试文件与源码文件在同一个根目录下的情况会很有用。</p>
<p class="my-4 leading-7"><strong class="font-semibold">对象用法：</strong></p>
<p class="my-4 leading-7">当在 bundle 模式下需要修改产物的输出文件名称的时候，可以使用对象形式进行配置。</p>
<p class="my-4 leading-7"><strong class="font-semibold">对象的 Key 是产物的文件名称，Value 是源码的文件路径。</strong></p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">format</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;esm&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">input</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token string-property" style="color:var(--code-token-parameter)">&#x27;index.esm&#x27;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./src/index.ts&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="jsx" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">jsx<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#jsx">#</a></h2>
<p class="my-4 leading-7">指定 JSX 的编译方式，默认支持 React 17 及更高版本，自动注入 JSX 运行时代码。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>automatic | transform</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>automatic</code></li>
</ul>
<p class="my-4 leading-7">如果你需要支持 React 16，则可以设置 <code>jsx</code> 为 <code>transform</code>：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">jsx</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;transform&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content"><p class="my-4 leading-7">关于 JSX Transform 的更多说明，可以参考以下链接：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">React Blog - Introducing the New JSX Transform</a>.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://esbuild.github.io/api/#jsx" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">esbuild - JSX</a>.</li>
</ul>
</div></div>
<h2 id="metafile" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">metafile<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#metafile">#</a></h2>
<p class="my-4 leading-7">这个选项用于构建分析，开启该选项后，esbuild 会以 JSON 格式生成有关构建的一些元数据。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>false</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">构建类型：<code>仅支持 buildType: &#x27;bundle&#x27;</code></li>
</ul>
<p class="my-4 leading-7">开启 <code>metafile</code> 生成：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildType</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bundle&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">metafile</span><span class="token operator">:</span><span> </span><span class="token boolean">true</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在执行 build 构建后，产物目录下会生成 <code>metafile-[xxx].json</code> 文件，你可以通过 <a href="https://esbuild.github.io/analyze/" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">esbuild analyze</a> 和 <a href="https://bundle-buddy.com/esbuild" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">bundle-buddy</a> 等工具进行可视化分析。</p>
<h2 id="minify" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">minify<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#minify">#</a></h2>
<p class="my-4 leading-7">使用 esbuild 或者 terser 压缩代码，也可以传入 <a href="https://github.com/terser/terser#minify-options" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">terserOptions</a>。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>&#x27;terser&#x27; | &#x27;esbuild&#x27; | false | object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>false</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">minify</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">compress</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">drop_console</span><span class="token operator">:</span><span> </span><span class="token boolean">true</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="outdir" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">outDir<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#outdir">#</a></h2>
<p class="my-4 leading-7">指定构建的输出目录。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>./dist</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">outDir</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./dist/esm&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="platform" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">platform<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#platform">#</a></h2>
<p class="my-4 leading-7">默认生成用于 Node.js 环境下的代码，你也可以指定为 <code>browser</code>，会生成用于浏览器环境的代码。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>&#x27;browser&#x27; | &#x27;node&#x27;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>&#x27;node&#x27;</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">platform</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;browser&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="redirect" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">redirect<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#redirect">#</a></h2>
<p class="my-4 leading-7">在 <code>buildType: &#x27;bundleless&#x27;</code> 构建模式下，会对引用路径进行重定向，确保指向了正确的产物，例如：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><code>import &#x27;./index.less&#x27;</code> 会被改写成 <code>import &#x27;./index.css&#x27;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>import icon from &#x27;./close.svg&#x27;</code> 会被改写成 <code>import icon from &#x27;../asset/close.svg&#x27;</code>（依实际情况而定）</li>
</ul>
<p class="my-4 leading-7">在某些场景下，你可能不需要这些功能，那么可以通过此配置关闭它，关闭后，其引用路径将不会发生改变。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">redirect</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">alias</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 关闭对别名路径的修改</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 关闭对样式文件路径的修改</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">asset</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 关闭对资源文件路径的修改</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="sideeffects" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">sideEffects<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#sideeffects">#</a></h2>
<p class="my-4 leading-7">配置模块的副作用</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>RegExg[] | (filePath: string, isExternal: boolean) =&gt; boolean | boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>undefined</code></li>
</ul>
<p class="my-4 leading-7">通常情况下，我们通过 package.json 的 <code>&quot;sideEffects&quot;</code> 字段来配置模块的副作用，但是在某些情况下，三方包的 package.json 是不可靠的。
例如我们引用了一个三方包的样式文件。</p>
<div class="language-js"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;other-package/dist/index.css&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">但是这个三方包的 package.json 里并没有将样式文件配置到 <code>&quot;sideEffects&quot;</code> 里。</p>
<div class="language-json"><div class="rspress-code-title">other-package/package.json</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;sideEffects&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&quot;dist/index.js&quot;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">同时你又设置了 <a href="#styleinject" class="link_f1ea0 undefined">style.inject</a> 为 <code>true</code>，在控制台可以看到类似的警告信息：</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">[</span><span>LIBUILD:ESBUILD_WARN</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> Ignoring this </span><span class="token" style="color:var(--code-token-function)">import</span><span> because </span><span class="token" style="color:var(--code-token-string)">&quot;other-package/dist/index.css&quot;</span><span> was marked as having no side effects</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">这时候就可以使用这个配置项，手动配置模块的<code>&quot;sideEffects&quot;</code>，配置支持正则和函数形式。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">sideEffects</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token regex-delimiter" style="color:var(--code-token-keyword)">/</span><span class="token regex-source language-regex" style="color:var(--code-token-keyword)">\.css$</span><span class="token regex-delimiter" style="color:var(--code-token-keyword)">/</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">// or</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">// sideEffects: (filePath, isExternal) =&gt; /\.css$/.test(filePath),</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content"><p class="my-4 leading-7">添加此配置后，打包时将不会再读取 package.json 里的 <code>&quot;sideEffects&quot;</code> 字段。
</p></div></div>
<h2 id="sourcedir" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">sourceDir<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#sourcedir">#</a></h2>
<p class="my-4 leading-7">指定构建的源码目录,默认为 <code>src</code>，用于在 <code>bundleless</code> 构建时基于源码目录结构生成对应的产物目录。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>src</code></li>
</ul>
<h2 id="sourcemap" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">sourceMap<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#sourcemap">#</a></h2>
<p class="my-4 leading-7">控制 sourceMap 如何生成。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean | &#x27;inline&#x27; | &#x27;external&#x27;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>false</code></li>
</ul>
<h2 id="sourcetype" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">sourceType<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#sourcetype">#</a></h2>
<p class="my-4 leading-7">设置源码的格式。默认情况下，会将源码作为 EsModule 进行处理。当源码使用的是 CommonJS 的时候，需要设置 <code>commonjs</code>。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>&#x27;commonjs&#x27; | &#x27;module&#x27;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>&#x27;module&#x27;</code></li>
</ul>
<h2 id="splitting" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">splitting<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#splitting">#</a></h2>
<p class="my-4 leading-7">是否开启代码分割。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>false</code></li>
</ul>
<h2 id="style" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#style">#</a></h2>
<p class="my-4 leading-7">配置样式相关的配置。</p>
<h2 id="styleless" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.less<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#styleless">#</a></h2>
<p class="my-4 leading-7">less 相关配置。</p>
<h2 id="stylelesslessoptions" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.less.lessOptions<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylelesslessoptions">#</a></h2>
<p class="my-4 leading-7">详细配置参考 <a href="https://less.bootcss.com/usage/#less-options" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">less</a>。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>{ javascriptEnabled: true }</code></li>
</ul>
<h2 id="stylelessadditionaldata" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.less.additionalData<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylelessadditionaldata">#</a></h2>
<p class="my-4 leading-7">在入口文件起始添加 <code>Less</code> 代码。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>undefined</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">less</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">additionalData</span><span class="token operator">:</span><span> </span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token template-string" style="color:var(--code-token-string)">@base-color: #c6538c;</span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="stylelessimplementation" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.less.implementation<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylelessimplementation">#</a></h2>
<p class="my-4 leading-7">配置 <code>Less</code> 使用的实现库，在不指定的情况下，使用的内置版本是 <code>4.1.3</code>。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string | object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>undefined</code></li>
</ul>
<p class="my-4 leading-7">设置 <code>object</code> 类型时，可以指定 <code>Less</code> 的实现库。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">less</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">implementation</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-function)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;less&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7"><code>string</code> 类型时，指定 <code>Less</code> 的实现库的路径</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">less</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">implementation</span><span class="token operator">:</span><span> require</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">resolve</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;less&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="sass" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">sass<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#sass">#</a></h2>
<p class="my-4 leading-7">Sass 相关配置。</p>
<h2 id="stylesasssassoptions" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.sass.sassOptions<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylesasssassoptions">#</a></h2>
<p class="my-4 leading-7">详细配置参考 <a href="https://github.com/sass/node-sass#options" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">node-sass</a></p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>{}</code></li>
</ul>
<h2 id="stylesassadditionaldata" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.sass.additionalData<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylesassadditionaldata">#</a></h2>
<p class="my-4 leading-7">在入口文件起始添加 <code>Sass</code> 代码。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string | Function</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>undefined</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">sass</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">additionalData</span><span class="token operator">:</span><span> </span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token template-string" style="color:var(--code-token-string)">$base-color: #c6538c;
</span></span><span style="display:block;padding:0 1.25rem"><span class="token template-string" style="color:var(--code-token-string)">          $border-dark: rgba($base-color, 0.88);</span><span class="token template-string template-punctuation" style="color:var(--code-token-string)">`</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="stylesassimplementation" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.sass.implementation<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylesassimplementation">#</a></h2>
<p class="my-4 leading-7">配置 <code>Sass</code> 使用的实现库，在不指定的情况下，使用的内置版本是 <code>1.5.4</code>。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string | object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>undefined</code></li>
</ul>
<p class="my-4 leading-7">设置为 <code>object</code> 类型时，可以指定 <code>Sass</code> 的实现库。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">sass</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">implementation</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-function)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;sass&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7"><code>string</code> 类型时，指定 <code>Sass</code> 的实现库的路径</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">sass</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">implementation</span><span class="token operator">:</span><span> require</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">resolve</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;sass&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="stylepostcss" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.postcss<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylepostcss">#</a></h2>
<p class="my-4 leading-7">用于配置 PostCSS 的选项，传入的值会与默认配置通过 <code>Object.assign</code> 合并。注意 <code>Object.assign</code> 是浅拷贝，因此会完全覆盖内置的 plugins 数组。</p>
<p class="my-4 leading-7">详细配置请查看 <a href="https://github.com/postcss/postcss#options" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">PostCSS</a>。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token class-name">PostcssOptions</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  processOptions</span><span class="token operator">?</span><span class="token operator">:</span><span> ProcessOptions</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  plugins</span><span class="token operator">?</span><span class="token operator">:</span><span> AcceptedPlugin</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">默认值：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">const</span><span> defaultConfig </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  plugins</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">// 以下插件默认启用</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;postcss-flexbugs-fixes&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;postcss-media-minmax&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;postcss-nesting&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-comment)">// 以下插件仅在 target 为 `es5` 时启用</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;postcss-custom-properties&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;postcss-initial&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;postcss-page-break&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-keyword)">require</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;postcss-font-variant&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">示例：</li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">postcss</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">plugins</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>yourPostCSSPlugin</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="styleinject" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.inject<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#styleinject">#</a></h2>
<p class="my-4 leading-7">配置打包模式下是否将 CSS 样式插入到 JavaScript 代码中。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>false</code></li>
</ul>
<p class="my-4 leading-7">将 <code>inject</code> 设置为 <code>true</code> 来开启此功能：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">inject</span><span class="token operator">:</span><span> </span><span class="token boolean">true</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">开启后，你会看到源码中引用的 CSS 代码被包含在了打包后的 JS 产物中。</p>
<p class="my-4 leading-7">例如，你在源码里写了 <code>import &#x27;./index.scss&#x27;</code>，那么在产物中你会看到以下代码：</p>
<div class="language-js"><div class="rspress-code-title">dist/index.js</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// node_modules/style-inject/dist/style-inject.es.js</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">function</span><span> </span><span class="token" style="color:var(--code-token-function)">styleInject</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token parameter">css</span><span class="token parameter" style="color:var(--code-token-punctuation)">,</span><span class="token parameter"> ref</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-comment)">// ...</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">var</span><span> style_inject_es_default </span><span class="token operator">=</span><span> styleInject</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// src/index.scss</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">var</span><span> css_248z </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;.body {\n  color: black;\n}&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-function)">style_inject_es_default</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>css_248z</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content">
<p class="my-4 leading-7">开启 <code>inject</code> 后，你需要注意以下几点：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">CSS 文件中的 <code>@import</code> 不会被处理。如果你的 CSS 文件中有 <code>@import</code> ，那么你需要在 JS 文件中手动引入 CSS 文件（less,scss 文件不需要，因为它们会有预处理）。</li>
<li class="[&amp;:not(:first-child)]:mt-2">需要考虑 <code>sideEffects</code> 的影响。默认情况下，我们的构建器会认为 CSS 是有副作用的，如果你的项目中或者三方包的 package.json 设置了 <code>sideEffects</code> 字段并且没有包含此 CSS 文件，那么你将会得到一个警告：</li>
</ul>
<div class="language-shell"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-shell" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">[</span><span>LIBUILD:ESBUILD_WARN</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span> Ignoring this </span><span class="token" style="color:var(--code-token-function)">import</span><span> because </span><span class="token" style="color:var(--code-token-string)">&quot;src/index.scss&quot;</span><span> was marked as having no side effects by plugin </span><span class="token" style="color:var(--code-token-string)">&quot;libuild:adapter&quot;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">此时可以通过配置 <a href="#sideeffects" class="link_f1ea0 undefined">sideEffects</a> 来解决。</p>
</div></div>
<h2 id="styleautomodules" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.autoModules<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#styleautomodules">#</a></h2>
<p class="my-4 leading-7">根据文件名自动启用 CSS Modules。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>boolean | RegExp</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>true</code></li>
</ul>
<p class="my-4 leading-7"><code>true</code> : 为以 <code>.module.css</code> <code>.module.less</code> <code>.module.scss</code> <code>.module.sass</code> 文件名结尾的样式文件启用 CSS Modules。</p>
<p class="my-4 leading-7"><code>false</code> : 禁用 CSS Modules.</p>
<p class="my-4 leading-7"><code>RegExp</code> : 为匹配正则条件的所有文件启用 CSS Modules.</p>
<h2 id="stylemodules" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.modules<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#stylemodules">#</a></h2>
<p class="my-4 leading-7">CSS Modules 配置。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>object</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>{}</code></li>
</ul>
<p class="my-4 leading-7">一个常用的配置是 <code>localsConvention</code>，它可以改变 CSS Modules 的类名生成规则。</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token literal-property" style="color:var(--code-token-parameter)">modules</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">localsConvention</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;camelCaseOnly&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">对于以下样式：</p>
<div class="language-css"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-css" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token selector">.box-title</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">color</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> red</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">你可以使用 <code>styles.boxTitle</code> 来访问。</p>
<p class="my-4 leading-7">详细配置查看 <a href="https://github.com/madyankin/postcss-modules#usage" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">postcss-modules</a></p>
<h2 id="styletailwindcss" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">style.tailwindcss<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#styletailwindcss">#</a></h2>
<p class="my-4 leading-7">用于修改 <a href="https://tailwindcss.com/docs/configuration" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">Tailwind CSS</a> 的配置项。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>object | Function</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：</li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">const</span><span> tailwind </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">content</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-string)">&#x27;./src/**/*.{js,jsx,ts,tsx}&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-string)">&#x27;./config/html/**/*.{html,ejs,hbs}&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-string)">&#x27;./storybook/**/*&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h3 id="启用-tailwind-css" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">启用 Tailwind CSS<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#启用-tailwind-css">#</a></h3>
<p class="my-4 leading-7">在使用 <code>style.tailwindcss</code> 之前，你需要启用 Module Tools 的 Tailwind CSS 插件。</p>
<p class="my-4 leading-7">请阅读<a href="/module-tools/guide/best-practices/use-tailwindcss.html" class="link_f1ea0 undefined">「使用 Tailwind CSS」</a> 章节来了解开启方式。</p>
<h3 id="类型" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">类型<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#类型">#</a></h3>
<p class="my-4 leading-7">值为 <code>object</code> 类型时，与默认配置通过 <code>Object.assign</code> 合并。</p>
<p class="my-4 leading-7">值为 <code>Function</code> 类型时，函数返回的对象与默认配置通过 <code>Object.assign</code> 合并。</p>
<p class="my-4 leading-7">其他的使用方式和 Tailwind CSS 一致: <a href="https://tailwindcss.com/docs/configuration" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">快速传送门</a>。</p>
<h3 id="注意事项" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">注意事项<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#注意事项">#</a></h3>
<p class="my-4 leading-7">注意：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">如果你同时使用了 <code>tailwind.config.{ts,js}</code> 文件和 <code>tools.tailwindcss</code> 选项，那么 <code>tools.tailwindcss</code> 定义的配置会优先生效，并覆盖 <code>tailwind.config.{ts,js}</code> 中定义的内容。</li>
<li class="[&amp;:not(:first-child)]:mt-2">如果你同时使用了 <code>designSystem</code> 配置项，那么 Tailwind CSS 的 <code>theme</code> 配置将会被 <code>designSystem</code> 的值所覆盖。</li>
</ul>
<p class="my-4 leading-7">其他配置的使用方式与 Tailwind CSS 官方用法一致，请参考 <a href="https://tailwindcss.com/docs/configuration" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">tailwindcss - Configuration</a>。</p>
<h2 id="target" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">target<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#target">#</a></h2>
<p class="my-4 leading-7"><code>target</code> 用于为生成的 JavaScript 代码设置目标环境。它让 Module Tools 将目标环境无法识别的 JavaScript 语法转换为在这些环境中可用的低版本 JavaScript 语法。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token class-name">Target</span><span> </span><span class="token operator">=</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es5&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es6&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2015&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2016&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2017&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2018&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2019&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2020&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2021&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es2022&#x27;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token operator">|</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;esnext&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>&#x27;es6&#x27;</code></li>
</ul>
<p class="my-4 leading-7">例如，将代码编译到 <code>es5</code> 语法：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">target</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es5&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="transformimport" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">transformImport<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#transformimport">#</a></h2>
<p class="my-4 leading-7">提供与 babel-plugin-import 等价的能力和配置，基于 SWC 实现。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>object[]</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>[]</code></li>
</ul>
<p class="my-4 leading-7">数组元素为一个 babel-plugin-import 的配置对象。配置对象可以参考 <a href="https://github.com/umijs/babel-plugin-import#options" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">options</a>。</p>
<p class="my-4 leading-7">使用示例：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">transformImport</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-comment)">// babel-plugin-import 的 options 配置</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;foo&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token literal-property" style="color:var(--code-token-parameter)">style</span><span class="token operator">:</span><span> </span><span class="token boolean">true</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">参考<a href="/module-tools/plugins/official-list/plugin-import.html#注意事项" class="link_f1ea0 undefined">「Import 插件——注意事项」</a></p>
<h2 id="transformlodash" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">transformLodash<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#transformlodash">#</a></h2>
<p class="my-4 leading-7">是否模块化 <a href="https://www.npmjs.com/package/lodash" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">lodash</a> 的导入，删除未使用的 lodash 模块，从而减少 lodash 代码体积。这项优化基于 <a href="https://www.npmjs.com/package/babel-plugin-lodash" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">babel-plugin-lodash</a> 和 <a href="https://github.com/web-infra-dev/swc-plugins/tree/main/crates/plugin_lodash" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">swc-plugin-lodash</a> 实现。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型：<code>boolean</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值：<code>true</code></li>
</ul>
<p class="my-4 leading-7">该选项默认开启，Module Tools 会自动将 lodash 的代码引用指向子路径。</p>
<p class="my-4 leading-7">比如：</p>
<div class="language-ts"><div class="rspress-code-title">input.js</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> _ </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> add </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash/fp&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">const</span><span> addOne </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-function)">add</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token number">1</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>_</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">map</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">1</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">2</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">3</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> addOne</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">转换后的代码：</p>
<div class="language-ts"><div class="rspress-code-title">output.js</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> _add </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash/fp/add&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> _map </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash/map&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">const</span><span> addOne </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-function)">_add</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token number">1</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-function)">_map</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token number">1</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">2</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">3</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> addOne</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">然而有时候 lodash 的 import 转换可能会生成不符合预期的代码，此时你可以手动关闭这项优化：</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">transformLodash</span><span class="token operator">:</span><span> </span><span class="token boolean">false</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<h2 id="umdglobals" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">umdGlobals<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#umdglobals">#</a></h2>
<p class="my-4 leading-7">指定 UMD 产物外部导入的全局变量。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>Record&lt;string, string&gt;</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>{}</code></li>
</ul>
<div class="language-ts"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    umdGlobals</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      react</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;React&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token string-property" style="color:var(--code-token-parameter)">&#x27;react-dom&#x27;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;ReactDOM&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">此时，<code>react</code> 和 <code>react-dom</code> 会被看做是外部导入的全局变量，不会被打包进 UMD 产物中，而是通过 <code>global.React</code> 和 <code>global.ReactDOM</code> 的方式进行访问。</p>
<h2 id="umdmodulename" class="mt-14 mb-6 text-2xl tracking-tight title_f1ea0">umdModuleName<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#umdmodulename">#</a></h2>
<p class="my-4 leading-7">指定 UMD 产物的模块名。</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">类型： <code>string | Function</code></li>
<li class="[&amp;:not(:first-child)]:mt-2">默认值： <code>name =&gt; name</code></li>
</ul>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">format</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;umd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">umdModuleName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;myLib&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">此时 UMD 产物会去挂载到 <code>global.myLib</code> 上。</p>
<div class="modern-directive tip"><div class="modern-directive-title">TIP</div><div class="modern-directive-content">
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">需要遵守 UMD 规范，UMD 产物的模块名不能和全局变量名冲突。</li>
<li class="[&amp;:not(:first-child)]:mt-2">模块名会被转换为驼峰命名，如 <code>my-lib</code> 会被转换为 <code>myLib</code>，可参考<a href="https://github.com/babel/babel/blob/main/packages/babel-types/src/converters/toIdentifier.ts" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">toIdentifier</a>。</li>
</ul>
</div></div>
<p class="my-4 leading-7">同时函数形式可以接收一个参数，为当前打包文件的输出路径</p>
<div class="language-js"><div class="rspress-code-title">modern.config.ts</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-function)">defineConfig</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">buildConfig</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token literal-property" style="color:var(--code-token-parameter)">format</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;umd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token function-variable" style="color:var(--code-token-function)">umdModuleName</span><span class="token operator">:</span><span> </span><span class="token parameter">path</span><span> </span><span class="token operator">=&gt;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-keyword)">if</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>path</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">includes</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;index&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;myLib&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">else</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-keyword)">return</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;myLib2&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div><!--/$--><div><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/document/module-doc/docs/zh/api/config/build-config.mdx" target="_blank" class="editLink_eea9e"><svg width="18" height="18" viewBox="0 0 32 32" class="h-5.5 mr-2 inline-block" style="vertical-align:-5px"><path fill="currentColor" d="M2 26h28v2H2zM25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10 3.6 3.6-10 10H6z"></path></svg>Edit this page on GitHub</a></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_33e00 flex flex-col"><a class="link_b3367 pager-link_33e00 cursor-pointer" target="" href="/module-tools/api/index.html"><span class="desc_33e00">上一页</span><span class="title_33e00">概览</span></a></div><div class="next_33e00 flex flex-col"><a class="link_b3367 pager-link_33e00 next_33e00 cursor-pointer" target="" href="/module-tools/api/config/build-preset.html"><span class="desc_33e00">下一页</span><span class="title_33e00">buildPreset</span></a></div></div></footer></div></div></div><div class="aside-container_feeda" style="max-height:calc(100vh - (var(--rp-nav-height) + 32px));overflow:scroll"><div><div class="flex flex-col"><div class="&lt;lg:hidden"><div id="aside-container" class="relative pl-4 text-sm font-medium"><div class="leading-7 block text-sm font-semibold">目录</div><nav class="mt-1"><ul class="relative"><li><a href="#alias" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">alias</a></li><li><a href="#asset" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">asset</a></li><li><a href="#assetpath" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">asset.path</a></li><li><a href="#assetlimit" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">asset.limit</a></li><li><a href="#assetpublicpath" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">asset.publicPath</a></li><li><a href="#assetsvgr" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">asset.svgr</a></li><li><a href="#assetsvgrinclude" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">asset.svgr.include</a></li><li><a href="#assetsvgrexclude" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">asset.svgr.exclude</a></li><li><a href="#autoexternal" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">autoExternal</a></li><li><a href="#autoexternaldependencies" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">autoExternal.dependencies</a></li><li><a href="#autoexternalpeerdependencies" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">autoExternal.peerDependencies</a></li><li><a href="#buildtype" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">buildType</a></li><li><a href="#copy" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">copy</a></li><li><a href="#copypatterns" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">copy.patterns</a></li><li><a href="#copyoptions" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">copy.options</a></li><li><a href="#define" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">define</a></li><li><a href="#dts" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">dts</a></li><li><a href="#dtsabortonerror" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">dts.abortOnError</a></li><li><a href="#dtsdistpath" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">dts.distPath</a></li><li><a href="#dtsonly" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">dts.only</a></li><li><a href="#dtsrespectexternal" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">dts.respectExternal</a></li><li><a href="#dtstsconfigpath" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">dts.tsconfigPath</a></li><li><a href="#esbuildoptions" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">esbuildOptions</a></li><li><a href="#externalhelpers" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">externalHelpers</a></li><li><a href="#externals" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">externals</a></li><li><a href="#format" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">format</a></li><li><a href="#format-esm" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:normal">format: esm</a></li><li><a href="#format-cjs" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:normal">format: cjs</a></li><li><a href="#format-iife" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:normal">format: iife</a></li><li><a href="#format-umd" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:normal">format: umd</a></li><li><a href="#input" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">input</a></li><li><a href="#jsx" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">jsx</a></li><li><a href="#metafile" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">metafile</a></li><li><a href="#minify" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">minify</a></li><li><a href="#outdir" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">outDir</a></li><li><a href="#platform" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">platform</a></li><li><a href="#redirect" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">redirect</a></li><li><a href="#sideeffects" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">sideEffects</a></li><li><a href="#sourcedir" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">sourceDir</a></li><li><a href="#sourcemap" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">sourceMap</a></li><li><a href="#sourcetype" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">sourceType</a></li><li><a href="#splitting" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">splitting</a></li><li><a href="#style" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style</a></li><li><a href="#styleless" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.less</a></li><li><a href="#stylelesslessoptions" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.less.lessOptions</a></li><li><a href="#stylelessadditionaldata" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.less.additionalData</a></li><li><a href="#stylelessimplementation" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.less.implementation</a></li><li><a href="#sass" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">sass</a></li><li><a href="#stylesasssassoptions" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.sass.sassOptions</a></li><li><a href="#stylesassadditionaldata" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.sass.additionalData</a></li><li><a href="#stylesassimplementation" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.sass.implementation</a></li><li><a href="#stylepostcss" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.postcss</a></li><li><a href="#styleinject" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.inject</a></li><li><a href="#styleautomodules" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.autoModules</a></li><li><a href="#stylemodules" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.modules</a></li><li><a href="#styletailwindcss" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">style.tailwindcss</a></li><li><a href="#启用-tailwind-css" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:normal">启用 Tailwind CSS</a></li><li><a href="#类型" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:normal">类型</a></li><li><a href="#注意事项" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:normal">注意事项</a></li><li><a href="#target" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">target</a></li><li><a href="#transformimport" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">transformImport</a></li><li><a href="#transformlodash" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">transformLodash</a></li><li><a href="#umdglobals" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">umdGlobals</a></li><li><a href="#umdmodulename" class="leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:semibold">umdModuleName</a></li></ul></nav></div></div></div></div></div></div></div></section></div></div><div id="search-container"></div></body></html>