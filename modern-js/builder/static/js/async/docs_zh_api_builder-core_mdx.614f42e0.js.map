{"version":3,"file":"static/js/async/docs_zh_api_builder-core_mdx.614f42e0.js","sources":["./docs/zh/api/builder-core.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fapi%2Fbuilder-core.mdx\"] = {\"toc\":[{\"text\":\"createBuilder\",\"id\":\"createbuilder\",\"depth\":2},{\"text\":\"builderWebpackProvider\",\"id\":\"builderwebpackprovider\",\"depth\":3},{\"text\":\"builderRspackProvider\",\"id\":\"builderrspackprovider\",\"depth\":3},{\"text\":\"options\",\"id\":\"options\",\"depth\":3},{\"text\":\"mergeBuilderConfig\",\"id\":\"mergebuilderconfig\",\"depth\":2},{\"text\":\"webpack\",\"id\":\"webpack\",\"depth\":2},{\"text\":\"HtmlWebpackPlugin\",\"id\":\"htmlwebpackplugin\",\"depth\":2}],\"title\":\"Builder Core\",\"frontmatter\":{\"extractApiHeaders\":[2]}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        h2: \"h2\",\n        code: \"code\",\n        h3: \"h3\",\n        pre: \"pre\",\n        ul: \"ul\",\n        li: \"li\",\n        strong: \"strong\",\n        blockquote: \"blockquote\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"builder-core\">{\"Builder Core\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#builder-core\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"本章节描述了 Builder 提供的一些核心方法。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"createbuilder\">{\"createBuilder\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#createbuilder\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"创建一个 Builder 实例对象。\"}</_components.p>{\"\\n\"}<_components.p>{\"使用该方法时，需要搭配 \"}<_components.code>{\"@modern-js/builder-webpack-provider\"}</_components.code>{\" 或 \"}<_components.code>{\"@modern-js/builder-rspack-provider\"}</_components.code>{\" 使用，Provider 基于特定 bundler 实现了对应的构建能力。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"builderwebpackprovider\">{\"builderWebpackProvider\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#builderwebpackprovider\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"当传入 \"}<_components.code>{\"builderWebpackProvider\"}</_components.code>{\" 时，Builder 会使用 webpack 作为 bundler 进行构建。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import { createBuilder } from '@modern-js/builder';\\nimport { builderWebpackProvider } from '@modern-js/builder-webpack-provider';\\n\\nconst provider = builderWebpackProvider({\\n  builderConfig: {\\n    // some configs\\n  },\\n});\\n\\nconst builder = await createBuilder(provider, {\\n  // some options\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"builderrspackprovider\">{\"builderRspackProvider\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#builderrspackprovider\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"当传入 \"}<_components.code>{\"builderRspackProvider\"}</_components.code>{\" 时，Builder 会使用 Rspack 作为 bundler 进行构建。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import { createBuilder } from '@modern-js/builder';\\nimport { builderRspackProvider } from '@modern-js/builder-rspack-provider';\\n\\nconst provider = builderRspackProvider({\\n  builderConfig: {\\n    // some configs\\n  },\\n});\\n\\nconst builder = await createBuilder(provider, {\\n  // some options\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"options\">{\"options\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#options\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p><_components.code>{\"createBuilder\"}</_components.code>{\" 的第二个参数是一个配置对象，你可以传入以下选项：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"type BuilderEntry = Record<string, string | string[]>;\\n\\ntype BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\\n\\ntype CreateBuilderOptions = {\\n  cwd?: string;\\n  entry?: BuilderEntry;\\n  target?: BuilderTarget | BuilderTarget[];\\n  framework?: string;\\n  configPath?: string | null;\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"各个选项的作用：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.code>{\"cwd\"}</_components.code>{\": 当前执行构建的根路径，默认值为 \"}<_components.code>{\"process.cwd()\"}</_components.code></_components.li>{\"\\n\"}<_components.li><_components.code>{\"entry\"}</_components.code>{\": 构建入口对象\"}</_components.li>{\"\\n\"}<_components.li><_components.code>{\"target\"}</_components.code>{\": 构建产物类型，默认值为 \"}<_components.code>{\"['web']\"}</_components.code>{\"，详见 \"}<_components.a href=\"/guide/basic/build-target\">{\"构建产物类型\"}</_components.a>{\" 章节。\"}</_components.li>{\"\\n\"}<_components.li><_components.code>{\"framework\"}</_components.code>{\": 框架的英文名称，唯一标识符，默认值为 \"}<_components.code>{\"'modern.js'\"}</_components.code></_components.li>{\"\\n\"}<_components.li><_components.code>{\"configPath\"}</_components.code>{\": 框架配置文件的路径（绝对路径），该参数影响构建缓存更新\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"mergebuilderconfig\">{\"mergeBuilderConfig\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#mergebuilderconfig\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"合并多份 Builder 配置对象，并返回一个合并后的新对象。\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"类型\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"function mergeBuilderConfig(...configs: BuilderConfig[]): BuilderConfig;\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"Example\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import { mergeBuilderConfig } from '@modern-js/builder';\\n\\nconst config1 = {\\n  dev: {\\n    https: false,\\n  },\\n};\\nconst config2 = {\\n  dev: {\\n    https: true,\\n  },\\n};\\n\\nconst mergedConfig = mergeBuilderConfig(config1, config2);\\n\\nconsole.log(mergedConfig); // { dev: { https: true } }\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.blockquote>{\"\\n\"}<_components.p>{\"该方法不会修改传入的 config 对象。\"}</_components.p>{\"\\n\"}</_components.blockquote>{\"\\n\"}<_components.h2 id=\"webpack\">{\"webpack\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#webpack\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"webpack 对象，用于消费 webpack 内置插件或类型定义。\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"Example\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import webpack from '@modern-js/builder-webpack-provider/webpack';\\n\\nnew webpack.DefinePlugin();\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.blockquote>{\"\\n\"}<_components.p>{'大部分场景下，推荐从 Builder 中引用 webpack 对象，而不是手动安装一份 \"webpack\" 依赖，这样可以避免出现多实例问题。'}</_components.p>{\"\\n\"}</_components.blockquote>{\"\\n\"}<_components.h2 id=\"htmlwebpackplugin\">{\"HtmlWebpackPlugin\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#htmlwebpackplugin\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"HtmlWebpackPlugin 对象，通常用于实现 HtmlWebpackPlugin 的自定义插件。\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"Example\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import HtmlWebpackPlugin from '@modern-js/builder-webpack-provider/html-webpack-plugin';\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.blockquote>{\"\\n\"}<_components.p>{'大部分场景下，推荐从 Builder 中引用 HtmlWebpackPlugin 对象，而不是手动安装一份 \"html-webpack-plugin\" 依赖，这样可以避免出现多实例问题。'}</_components.p>{\"\\n\"}</_components.blockquote></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","h2","code","h3","pre","ul","li","strong","blockquote","components","id","className","href","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}