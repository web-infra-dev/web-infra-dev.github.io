{"version":3,"file":"static/js/async/docs_zh_guide_basic_build-target_md.be0bd482.js","sources":["./docs/zh/guide/basic/build-target.md"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguide%2Fbasic%2Fbuild-target.md\"] = {\"toc\":[{\"text\":\"默认产物\",\"id\":\"默认产物\",\"depth\":2},{\"text\":\"可选类型\",\"id\":\"可选类型\",\"depth\":2},{\"text\":\"并行构建\",\"id\":\"并行构建\",\"depth\":2},{\"text\":\"Node 产物\",\"id\":\"node-产物\",\"depth\":2},{\"text\":\"Web Worker 产物\",\"id\":\"web-worker-产物\",\"depth\":2},{\"text\":\"Modern Web 产物\",\"id\":\"modern-web-产物\",\"depth\":2}],\"title\":\"构建产物类型\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        code: \"code\",\n        h2: \"h2\",\n        strong: \"strong\",\n        ul: \"ul\",\n        li: \"li\",\n        pre: \"pre\",\n        div: \"div\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"构建产物类型\">{\"构建产物类型\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#构建产物类型\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"Builder 支持多种构建产物类型，分别适用于不同的目标运行环境。在设置正确的产物类型后，Builder 会针对该环境优化打包结果，在构建过程中启用一些对应的插件或者配置。\"}</_components.p>{\"\\n\"}<_components.p>{\"你可以通过 \"}<_components.a href=\"/api/builder-core#createbuilder\">{\"createBuilder\"}</_components.a>{\" 方法的 \"}<_components.code>{\"target\"}</_components.code>{\" 参数来设置产物类型。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"默认产物\">{\"默认产物\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#默认产物\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"默认情况下，\"}<_components.code>{\"target\"}</_components.code>{\" 会被设置为 \"}<_components.code>{\"'web'\"}</_components.code>{\"，并构建出\"}<_components.strong>{\"运行在浏览器环境里的产物\"}</_components.strong>{\"。\"}</_components.p>{\"\\n\"}<_components.p>{\"同时，Builder 会读取项目中的 \"}<_components.a href=\"https://github.com/browserslist/browserslist\" target=\"_blank\" rel=\"noopener noreferrer\">{\"Browserslist 配置\"}</_components.a>{\"，以确定需要兼容的浏览器范围。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"可选类型\">{\"可选类型\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#可选类型\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"除了 \"}<_components.code>{\"'web'\"}</_components.code>{\" 外，你还可以将 \"}<_components.code>{\"target\"}</_components.code>{\" 设置为以下值：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.code>{\"'node'\"}</_components.code>{\": 构建出运行在 Node.js 环境的产物，通常用于 SSR 等场景。\"}</_components.li>{\"\\n\"}<_components.li><_components.code>{\"'web-worker'\"}</_components.code>{\"：构建出运行在 Web Worker 里的产物。\"}</_components.li>{\"\\n\"}<_components.li><_components.code>{\"'modern-web'\"}</_components.code>{\"：构建出运行在现代浏览器里的产物。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"比如构建出适用于 Node.js 环境的产物：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"const builder = await createBuilder(provider, {\\n  target: 'node',\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"并行构建\">{\"并行构建\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#并行构建\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"当 target 为包含多个值的数组时，Builder 会并行构建，并生成多份不同的产物。\"}</_components.p>{\"\\n\"}<_components.p>{\"比如同时构建浏览器产物和 SSR 产物：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"const builder = await createBuilder(provider, {\\n  target: ['web', 'node'],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"node-产物\">{\"Node 产物\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#node-产物\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"指运行在 Node.js 环境的产物，通常用于 SSR 等场景。\"}</_components.p>{\"\\n\"}<_components.p>{\"当 \"}<_components.code>{\"target\"}</_components.code>{\" 设置为 \"}<_components.code>{\"'node'\"}</_components.code>{\" 时，Builder 会进行以下处理：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"不会生成 HTML 文件，与 HTML 相关的逻辑也不会执行，因为 Node.js 环境不需要 HTML。\"}</_components.li>{\"\\n\"}<_components.li>{\"不会打包或抽取 CSS 代码，但产物中会包含 CSS Modules 的 id 信息。\"}</_components.li>{\"\\n\"}<_components.li>{\"不会开启默认的拆包策略，但 dynamic import 依然可以生效。\"}</_components.li>{\"\\n\"}<_components.li>{\"不会开启热更新相关的能力。\"}</_components.li>{\"\\n\"}<_components.li>{\"将 Browserslist 的默认值调整为 \"}<_components.code>{\"['node >= 14']\"}</_components.code>{\"。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.div className=\"modern-directive tip\"><_components.div className=\"modern-directive-title\">{\"TIP\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"如果触发了并行构建，比如同时构建 web 产物和 node 产物，那么上述处理不会影响 web 产物，web 产物所需的 HTML、CSS 等文件依然会正确生成。\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.h2 id=\"web-worker-产物\">{\"Web Worker 产物\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#web-worker-产物\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"指运行在 \"}<_components.a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API\" target=\"_blank\" rel=\"noopener noreferrer\">{\"Web Worker\"}</_components.a>{\" 环境的产物。\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive tip\"><_components.div className=\"modern-directive-title\">{\"Web Worker\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"Web Workers 是一种 JavaScript API，它允许网页在后台线程中执行脚本，与主线程（网页）分离。这意味着，您可以使用 Web Workers 来执行计算密集型或长时间运行的任务，而无需阻塞主线程，进而影响网页的性能。\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.p>{\"当 \"}<_components.code>{\"target\"}</_components.code>{\" 设置为 \"}<_components.code>{\"'web-worker'\"}</_components.code>{\" 时，Builder 会进行以下处理：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"不会生成 HTML 文件，与 HTML 相关的逻辑也不会执行，因为 Web Worker 环境不需要 HTML。\"}</_components.li>{\"\\n\"}<_components.li>{\"不会打包或抽取 CSS 代码，但产物中会包含 CSS Modules 的 id 信息。\"}</_components.li>{\"\\n\"}<_components.li>{\"不会开启默认的拆包策略，\"}<_components.strong>{\"并且 dynamic import 也不会生效\"}</_components.strong>{\"，因为 Web Worker 仅运行支持单个 JavaScript 文件。\"}</_components.li>{\"\\n\"}<_components.li>{\"不会开启热更新相关的能力。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"modern-web-产物\">{\"Modern Web 产物\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modern-web-产物\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"指运行在现代浏览器环境的产物。\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive tip\"><_components.div className=\"modern-directive-title\">{\"什么是现代浏览器?\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"现代浏览器是我们的一个约定用语，指支持 \"}<_components.a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules\" target=\"_blank\" rel=\"noopener noreferrer\">{\"原生 ES Modules\"}</_components.a>{\" 的浏览器。\\n\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.p>{\"当 \"}<_components.code>{\"target\"}</_components.code>{\" 设置为 \"}<_components.code>{\"'modern-web'\"}</_components.code>{\" 时，Builder 会进行以下处理：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"将 Browserslist 的默认值调整为：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-js\">{\"const browserslist = [\\n  'chrome >= 61',\\n  'edge >= 16',\\n  'firefox >= 60',\\n  'safari >= 11',\\n  'ios_saf >= 11',\\n];\\n\"}</_components.code></_components.pre></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","code","h2","strong","ul","li","pre","div","components","id","className","href","target","rel","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}