{"version":3,"file":"static/js/async/docs_zh_guide_basic_builder-cli_mdx.da68e97d.js","sources":["./docs/zh/guide/basic/builder-cli.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguide%2Fbasic%2Fbuilder-cli.mdx\"] = {\"toc\":[{\"text\":\"安装\",\"id\":\"安装\",\"depth\":2},{\"text\":\"命令\",\"id\":\"命令\",\"depth\":2},{\"text\":\"builder dev\",\"id\":\"builder-dev\",\"depth\":3},{\"text\":\"builder build\",\"id\":\"builder-build\",\"depth\":3},{\"text\":\"builder serve\",\"id\":\"builder-serve\",\"depth\":3},{\"text\":\"配置\",\"id\":\"配置\",\"depth\":2},{\"text\":\"构建入口\",\"id\":\"构建入口\",\"depth\":2},{\"text\":\"注册插件\",\"id\":\"注册插件\",\"depth\":2}],\"title\":\"使用 Builder CLI\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        ul: \"ul\",\n        li: \"li\",\n        h2: \"h2\",\n        code: \"code\",\n        pre: \"pre\",\n        h3: \"h3\",\n        strong: \"strong\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"使用-builder-cli\">{\"使用 Builder CLI\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#使用-builder-cli\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"Modern.js Builder 提供了一个轻量的 CLI 工具，包含 dev、build 等基础命令，它主要用于构建非 React 项目。\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"对于 React 项目，我们建议直接使用 Modern.js 框架，参考 \"}<_components.a href=\"https://modernjs.dev/guides/get-started/quick-start.html\" target=\"_blank\" rel=\"noopener noreferrer\">{\"Modern.js - 快速上手\"}</_components.a>{\"。\"}</_components.li>{\"\\n\"}<_components.li>{\"对于非 React 项目，比如开发一个 Vue 项目，那么你可以使用 Builder CLI 工具来构建你的项目。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"安装\">{\"安装\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#安装\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"你需要安装两个包，其中：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.code>{\"@modern-js/builder-cli\"}</_components.code>{\" 为 Builder 的 CLI 工具，提供基础的 CLI 命令，并会自动加载当前项目中安装的 Provider。\"}</_components.li>{\"\\n\"}<_components.li><_components.code>{\"@modern-js/builder-webpack-provider\"}</_components.code>{\" 或 \"}<_components.code>{\"@modern-js/builder-rspack-provider\"}</_components.code>{\"，它们是 Builder 的 Provider，提供基于 webpack 或 Rspack 的构建能力。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"# 使用 webpack 打包\\npnpm add @modern-js/builder-cli @modern-js/builder-webpack-provider -D\\n\\n# 使用 Rspack 打包\\npnpm add @modern-js/builder-cli @modern-js/builder-rspack-provider -D\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"命令\">{\"命令\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#命令\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Builder CLI 提供了以下命令，可以帮助你快速启动开发服务器、构建生产环境代码等。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"builder-dev\">{\"builder dev\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#builder-dev\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p><_components.code>{\"builder dev\"}</_components.code>{\" 命令用于启动一个本地开发服务器，对源代码进行开发环境编译。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"Usage: builder dev [options]\\n\\nOptions:\\n  -h, --help            display help for command\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"builder-build\">{\"builder build\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#builder-build\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p><_components.code>{\"builder build\"}</_components.code>{\" 命令默认会在 \"}<_components.code>{\"dist/\"}</_components.code>{\" 目录下构建出可用于生产环境的产物。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"Usage: builder build [options]\\n\\nOptions:\\n  -h, --help            display help for command\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"builder-serve\">{\"builder serve\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#builder-serve\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p><_components.code>{\"builder serve\"}</_components.code>{\" 命令用于在本地预览生产环境构建的产物, 注意你需要提前执行 \"}<_components.code>{\"builder build\"}</_components.code>{\" 命令构建出对应产物。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"Usage: builder serve [options]\\n\\nOptions:\\n  -h, --help            display help for command\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"配置\">{\"配置\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#配置\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Builder CLI 默认会读取项目根目录下的 \"}<_components.code>{\"builder.config.ts\"}</_components.code>{\" 配置文件，你可以在配置文件中使用 Builder 提供的\"}<_components.a href=\"/api/index\">{\"所有配置项\"}</_components.a>{\"。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"builder.config.ts\"'>{\"import { defineConfig } from '@modern-js/builder-cli';\\n\\nexport default defineConfig({\\n  output: {\\n    disableTsChecker: true,\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"当你使用 Rspack 作为打包工具时，由于 webpack 和 Rspack 的配置类型存在一些差异，需要为 defineConfig 指定 \"}<_components.code>{\"<'rspack'>\"}</_components.code>{\" 泛型：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-diff\" meta='title=\"builder.config.ts\"'>{\"- export default defineConfig({\\n+ export default defineConfig<'rspack'>({\\n  // ...\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"构建入口\">{\"构建入口\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#构建入口\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Builder CLI 默认会使用 \"}<_components.code>{\"src/index.(js|ts|jsx|tsx)\"}</_components.code>{\" 作为构建入口，你可以使用 \"}<_components.code>{\"source.entries\"}</_components.code>{\" 配置项来修改构建入口。\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"类型：\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"type Entries = Record<string, string>;\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"默认值：\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"const defaultEntry = {\\n  index: 'src/index.(js|ts|jsx|tsx)',\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"示例：\"}</_components.strong></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"builder.config.ts\"'>{\"import { defineConfig } from '@modern-js/builder-cli';\\n\\nexport default defineConfig({\\n  source: {\\n    entries: {\\n      foo: './src/pages/foo/index.ts',\\n      bar: './src/pages/bar/index.ts',\\n    },\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"注册插件\">{\"注册插件\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#注册插件\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"你可以在 \"}<_components.code>{\"builder.config.ts\"}</_components.code>{\" 中使用 \"}<_components.code>{\"builderPlugins\"}</_components.code>{\" 选项来注册 Builder 插件。\"}</_components.p>{\"\\n\"}<_components.p>{\"比如注册 Vue 插件：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"builder.config.ts\"'>{\"import { defineConfig } from '@modern-js/builder-cli';\\nimport { builderPluginVue } from '@modern-js/builder-plugin-vue';\\n\\nexport default defineConfig({\\n  builderPlugins: [builderPluginVue()],\\n});\\n\"}</_components.code></_components.pre></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","ul","li","h2","code","pre","h3","strong","components","id","className","href","target","rel","meta","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}