"use strict";(self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).push([["6110"],{9142:function(e,n,s){s.r(n),s.d(n,{default:function(){return c}});var r=s(9980),d=s(9580);function i(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",h3:"h3",div:"div",h4:"h4",blockquote:"blockquote",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,d.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"tools-config",children:["Tools Config",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tools-config",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"\u672C\u7AE0\u8282\u63CF\u8FF0\u4E86 Builder \u4E2D\u4E0E\u5E95\u5C42\u5DE5\u5177\u6709\u5173\u7684\u914D\u7F6E\u3002"}),"\n",(0,r.jsxs)(n.h2,{id:"toolsautoprefixer",children:["tools.autoprefixer",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsautoprefixer",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{\n  flexbox: 'no-2009',\n  // browserslist \u53D6\u51B3\u4E8E\u9879\u76EE\u4E2D\u7684 browserslist \u914D\u7F6E\n  // \u4EE5\u53CA `output.overrideBrowserslist`(\u4F18\u5148\u7EA7\u66F4\u9AD8) \u914D\u7F6E\n  overrideBrowserslist: browserslist,\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.autoprefixer"})," \u53EF\u4EE5\u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"})," \u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.autoprefixer"})," \u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 Object.assign \u5408\u5E76\u3002\u6BD4\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    autoprefixer: {\n      flexbox: 'no-2009',\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.autoprefixer"})," \u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u503C\u4F5C\u4E3A\u6700\u7EC8\u7ED3\u679C\u3002\u6BD4\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    autoprefixer(config) {\n      // \u4FEE\u6539 flexbox \u7684\u914D\u7F6E\n      config.flexbox = 'no-2009';\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolsbabel",children:["tools.babel",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsbabel",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.babel"})," \u53EF\u4EE5\u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/babel/babel-loader",target:"_blank",rel:"noopener noreferrer",children:"babel-loader"})," \u7684\u914D\u7F6E\u9879\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"\u4F7F\u7528\u573A\u666F",children:["\u4F7F\u7528\u573A\u666F",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528\u573A\u666F",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u8BF7\u7559\u610F ",(0,r.jsx)(n.code,{children:"tools.babel"})," \u5728\u4EE5\u4E0B\u4F7F\u7528\u573A\u666F\u4E2D\u7684\u5C40\u9650\u6027\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Rspack \u573A\u666F\uFF1A\u5728\u4F7F\u7528 Rspack \u4F5C\u4E3A\u6253\u5305\u5DE5\u5177\u65F6\uFF0C\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"tools.babel"})," \u914D\u7F6E\u9879\u5C06\u4F1A\u660E\u663E\u62D6\u6162 Rspack \u6784\u5EFA\u901F\u5EA6\u3002\u56E0\u4E3A Rspack \u9ED8\u8BA4\u4F7F\u7528\u7684\u662F SWC \u7F16\u8BD1\uFF0C\u914D\u7F6E Babel \u4F1A\u5BFC\u81F4\u4EE3\u7801\u9700\u8981\u88AB\u7F16\u8BD1\u4E24\u6B21\uFF0C\u4EA7\u751F\u4E86\u989D\u5916\u7684\u7F16\u8BD1\u5F00\u9500\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["webpack + SWC \u573A\u666F\uFF1A\u5728\u4F7F\u7528 webpack \u4F5C\u4E3A\u6253\u5305\u5DE5\u5177\u65F6\uFF0C\u5982\u679C\u4F60\u4F7F\u7528\u4E86 Builder \u7684 SWC \u63D2\u4EF6\u8FDB\u884C\u4EE3\u7801\u7F16\u8BD1\uFF0C\u90A3\u4E48 ",(0,r.jsx)(n.code,{children:"tools.babel"})," \u9009\u9879\u5C06\u4E0D\u4F1A\u751F\u6548\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-1",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-1",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.babel"})," \u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4 Babel \u914D\u7F6E\u4F1A\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\u4F5C\u4E3A\u6700\u7EC8\u7684 ",(0,r.jsx)(n.code,{children:"babel-loader"})," \u914D\u7F6E\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config) {\n      // \u6DFB\u52A0\u4E00\u4E2A\u63D2\u4EF6\uFF0C\u6BD4\u5982\u914D\u7F6E\u67D0\u4E2A\u7EC4\u4EF6\u5E93\u7684\u6309\u9700\u5F15\u5165\n      config.plugins.push([\n        'babel-plugin-import',\n        {\n          libraryName: 'xxx-components',\n          libraryDirectory: 'es',\n          style: true,\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.babel"})," \u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u63D0\u4F9B\u4E86\u4E00\u4E9B\u65B9\u4FBF\u7684\u5DE5\u5177\u51FD\u6570\uFF0C\u8BF7\u7EE7\u7EED\u9605\u8BFB\u4E0B\u65B9\u6587\u6863\u3002"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["\u4EE5\u4E0A\u793A\u4F8B\u4EC5\u4F5C\u4E3A\u53C2\u8003\uFF0C\u901A\u5E38\u6765\u8BF4\uFF0C\u4F60\u4E0D\u9700\u8981\u624B\u52A8\u914D\u7F6E ",(0,r.jsx)(n.code,{children:"babel-plugin-import"}),"\uFF0C\u56E0\u4E3A Builder \u5DF2\u7ECF\u63D0\u4F9B\u4E86\u66F4\u901A\u7528\u7684 ",(0,r.jsx)(n.code,{children:"source.transformImport"})," \u914D\u7F6E\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-1",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-1",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.babel"})," \u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"Object.assign"})," \u6D45\u5408\u5E76\u3002"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive caution",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"CAUTION"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Object.assign"})," \u662F\u6D45\u62F7\u8D1D\uFF0C\u4F1A\u5B8C\u5168\u8986\u76D6\u5185\u7F6E\u7684 ",(0,r.jsx)(n.code,{children:"presets"})," \u6216 ",(0,r.jsx)(n.code,{children:"plugins"})," \u6570\u7EC4\uFF0C\u5BFC\u81F4\u5185\u7F6E\u7684 presets \u6216 plugins \u5931\u6548\uFF0C\u8BF7\u5728\u660E\u786E\u5F71\u54CD\u9762\u7684\u60C5\u51B5\u4E0B\u518D\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u3002\n"]})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel: {\n      plugins: [\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ],\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u51FD\u6570",children:["\u5DE5\u5177\u51FD\u6570",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u51FD\u6570",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.babel"})," \u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u53EF\u7528\u7684\u5DE5\u5177\u51FD\u6570\u5982\u4E0B:"]}),"\n",(0,r.jsxs)(n.h4,{id:"addplugins",children:["addPlugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addplugins",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(plugins: BabelPlugin[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6DFB\u52A0\u82E5\u5E72\u4E2A Babel \u63D2\u4EF6\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"addpresets",children:["addPresets",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addpresets",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(presets: BabelPlugin[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6DFB\u52A0\u82E5\u5E72\u4E2A Babel \u9884\u8BBE\u914D\u7F6E (\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u4E0D\u9700\u8981\u589E\u52A0\u9884\u8BBE)\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addPresets }) {\n      addPresets(['@babel/preset-env']);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"removeplugins",children:["removePlugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugins",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(plugins: string | string[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u79FB\u9664 Babel \u63D2\u4EF6\uFF0C\u4F20\u5165\u9700\u8981\u79FB\u9664\u7684\u63D2\u4EF6\u540D\u79F0\u5373\u53EF\uFF0C\u4F60\u53EF\u4EE5\u4F20\u5165\u5355\u4E2A\u5B57\u7B26\u4E32\uFF0C\u4E5F\u53EF\u4EE5\u4F20\u5165\u4E00\u4E2A\u5B57\u7B26\u4E32\u6570\u7EC4\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { removePlugins }) {\n      removePlugins('babel-plugin-import');\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"removepresets",children:["removePresets",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removepresets",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(presets: string | string[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u79FB\u9664 Babel \u9884\u8BBE\u914D\u7F6E\uFF0C\u4F20\u5165\u9700\u8981\u79FB\u9664\u7684\u9884\u8BBE\u540D\u79F0\u5373\u53EF\uFF0C\u4F60\u53EF\u4EE5\u4F20\u5165\u5355\u4E2A\u5B57\u7B26\u4E32\uFF0C\u4E5F\u53EF\u4EE5\u4F20\u5165\u4E00\u4E2A\u5B57\u7B26\u4E32\u6570\u7EC4\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { removePresets }) {\n      removePresets('@babel/preset-env');\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"modifypresetenvoptions",children:["modifyPresetEnvOptions",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifypresetenvoptions",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(options: PresetEnvOptions) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-env",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-env"})," \u7684\u914D\u7F6E\u9879\uFF0C\u4F20\u5165\u7684\u914D\u7F6E\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u8FDB\u884C\u6D45\u5C42\u5408\u5E76\uFF0C\u6BD4\u5982:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'export default {\n  tools: {\n    babel(config, { modifyPresetEnvOptions }) {\n      modifyPresetEnvOptions({\n        targets: "last 2 versions",\n      });\n    },\n  },\n};\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'export default {\n  tools: {\n    babel(config, { modifyPresetEnvOptions }) {\n      modifyPresetEnvOptions({\n        targets: {\n          chrome: "58",\n          ie: "11"\n        }\n      });\n    },\n  },\n};\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"modifypresetreactoptions",children:["modifyPresetReactOptions",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifypresetreactoptions",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(options: PresetReactOptions) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-react",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-react"})," \u7684\u914D\u7F6E\u9879\uFF0C\u4F20\u5165\u7684\u914D\u7F6E\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u8FDB\u884C\u6D45\u5C42\u5408\u5E76\uFF0C\u6BD4\u5982:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { modifyPresetReactOptions }) {\n      modifyPresetReactOptions({\n        pragma: 'React.createElement',\n      });\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"addincludes",children:["addIncludes",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addincludes",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/source/include.html",target:"_blank",rel:"noopener noreferrer",children:"source.include"})," \u4EE3\u66FF\uFF0C\u4E24\u8005\u529F\u80FD\u5B8C\u5168\u4E00\u81F4\u3002"]}),"\n",(0,r.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/source/exclude.html",target:"_blank",rel:"noopener noreferrer",children:"source.exclude"})," \u4EE3\u66FF\uFF0C\u4E24\u8005\u529F\u80FD\u5B8C\u5168\u4E00\u81F4\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"\u8C03\u8BD5-babel-\u914D\u7F6E",children:["\u8C03\u8BD5 Babel \u914D\u7F6E",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8C03\u8BD5-babel-\u914D\u7F6E",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53\u4F60\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.babel"})," \u4FEE\u6539 ",(0,r.jsx)(n.code,{children:"babel-loader"})," \u914D\u7F6E\u540E\uFF0C\u53EF\u4EE5\u5728 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/builder/guide/debug/debug-mode.html",target:"_blank",rel:"noopener noreferrer",children:"Builder \u8C03\u8BD5\u6A21\u5F0F"})," \u4E0B\u67E5\u770B\u6700\u7EC8\u751F\u6210\u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u9996\u5148\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"DEBUG=builder"})," \u53C2\u6570\u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u8C03\u8BD5\u5F00\u53D1\u73AF\u5883\nDEBUG=builder pnpm dev\n\n# \u8C03\u8BD5\u751F\u4EA7\u73AF\u5883\nDEBUG=builder pnpm build\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u7136\u540E\u6253\u5F00\u751F\u6210\u7684 ",(0,r.jsx)(n.code,{children:"(webpack|rspack).config.web.js"}),"\uFF0C\u641C\u7D22 ",(0,r.jsx)(n.code,{children:"babel-loader"})," \u5173\u952E\u8BCD\uFF0C\u5373\u53EF\u770B\u5230\u5B8C\u6574\u7684 ",(0,r.jsx)(n.code,{children:"babel-loader"})," \u914D\u7F6E\u5185\u5BB9\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"toolsbundlerchain",children:["tools.bundlerChain",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsbundlerchain",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Function | undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.bundlerChain"})," \u6765\u4FEE\u6539\u9ED8\u8BA4\u7684 webpack \u548C Rspack \u914D\u7F6E\uFF0C\u5B83\u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Function"})," \u7C7B\u578B\uFF0C\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A ",(0,r.jsx)(n.code,{children:"bundler-chain"})," \u5BF9\u8C61\u5B9E\u4F8B\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u5B9E\u4F8B\u6765\u4FEE\u6539 webpack \u548C Rspack \u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A\u4E00\u4E2A\u5DE5\u5177\u96C6\u5408\uFF0C\u5305\u62EC",(0,r.jsx)(n.code,{children:"env"}),"\u3001",(0,r.jsx)(n.code,{children:"isProd"}),"\u3001",(0,r.jsx)(n.code,{children:"CHAIN_ID"})," \u7B49\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"\u4EC0\u4E48\u662F BundlerChain"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:["\n",(0,r.jsx)(n.p,{children:"Bundler chain \u662F webpack chain \u7684\u5B50\u96C6\uFF0C\u5176\u4E2D\u5305\u542B\u4E00\u90E8\u5206 webpack chain API\uFF0C\u4F60\u53EF\u4EE5\u7528\u5B83\u6765\u540C\u65F6\u4FEE\u6539 webpack \u548C Rspack \u7684\u914D\u7F6E\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 bundler chain \u4FEE\u6539\u7684\u914D\u7F6E\uFF0C\u5728 webpack \u548C Rspack \u6784\u5EFA\u65F6\u5747\u53EF\u751F\u6548\u3002\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0Cbundler chain \u53EA\u652F\u6301\u4FEE\u6539 webpack \u548C Rspack \u95F4\u65E0\u5DEE\u5F02\u90E8\u5206\u7684\u914D\u7F6E\u3002\u5982\uFF0C\u4FEE\u6539 devtool \u914D\u7F6E\u9879(webpack \u548C Rspack \u7684 devtool \u5C5E\u6027\u503C\u7C7B\u578B\u76F8\u540C)\uFF0C\u6216\u6DFB\u52A0\u4E00\u4E2A",(0,r.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/plugin-compat.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack \u517C\u5BB9"}),"\u7684 webpack \u63D2\u4EF6\u3002"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.bundlerChain"})," \u7684\u6267\u884C\u65F6\u673A\u65E9\u4E8E tools.webpackChain / tools.webpack / tools.rspack\uFF0C\u56E0\u6B64\u4F1A\u88AB\u5176\u4ED6\u51E0\u4E2A\u914D\u7F6E\u4E2D\u7684\u4FEE\u6539\u6240\u8986\u76D6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u66F4\u591A\u4FE1\u606F\u53EF\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://rsbuild.dev/zh/config/tools/bundler-chain",target:"_blank",rel:"noopener noreferrer",children:"Rsbuild#tools.bundlerChain"})]}),"\n",(0,r.jsxs)(n.h2,{id:"toolscssextract",children:["tools.cssExtract",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolscssextract",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  // Loader \u914D\u7F6E\n  loaderOptions: {},\n  // Plugin \u914D\u7F6E\n  pluginOptions: {\n    // cssPath \u9ED8\u8BA4\u4E3A static/css, cssFilename \u9ED8\u8BA4\u4E3A [name].[contenthash:8].css\n    filename: `${cssPath}/${cssFilename}`,\n    chunkFilename: `${cssPath}/async/${cssFilename}`,\n    ignoreOrder: true,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.cssExtract"})," \u53EF\u4EE5\u66F4\u6539 ",(0,r.jsx)(n.a,{href:"https://www.rspack.dev/zh/plugins/rspack/css-extract-rspack-plugin",target:"_blank",rel:"noopener noreferrer",children:"CssExtractRspackPlugin"})," \u6216 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"})," \u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u8BE6\u7EC6\u7528\u6CD5\u53EF\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://rsbuild.dev/zh/config/tools/css-extract",target:"_blank",rel:"noopener noreferrer",children:"Rsbuild - tools.cssExtract"}),"\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"toolscssloader",children:["tools.cssLoader",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolscssloader",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.cssLoader"})," \u53EF\u4EE5\u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-loader",target:"_blank",rel:"noopener noreferrer",children:"css-loader"})," \u7684\u914D\u7F6E\u9879\u3002\u9ED8\u8BA4\u914D\u7F6E\u5982\u4E0B:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{\n  modules: {\n    auto: true,\n    exportLocalsConvention: 'camelCase',\n    localIdentName: config.output.cssModuleLocalIdentName,\n    // isServer \u8868\u793A node (SSR) \u6784\u5EFA\n    // isWebWorker \u8868\u793A web worker \u6784\u5EFA\n    exportOnlyLocals: isServer || isWebWorker,\n  },\n  // \u9ED8\u8BA4\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u542F\u7528 CSS \u7684 Source Map\n  sourceMap: isDev,\n  // importLoaders \u5728\u7F16\u8BD1 css \u6587\u4EF6\u65F6\u4E3A `1`\uFF0C\u5728\u7F16\u8BD1 sass/less \u6587\u4EF6\u65F6\u4E3A `2`\n  importLoaders: 1 || 2,\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8BE6\u7EC6\u7528\u6CD5\u53EF\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://rsbuild.dev/zh/config/tools/css-loader",target:"_blank",rel:"noopener noreferrer",children:"Rsbuild - tools.cssLoader"}),"\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"toolsdevserver",children:["tools.devServer",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsdevserver",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.devServer"})," \u53EF\u4EE5\u4FEE\u6539\u5F00\u53D1\u73AF\u5883\u670D\u52A1\u5668\u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["Modern.js \u4E2D\u5E76\u6CA1\u6709\u76F4\u63A5\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://webpack.js.org/api/webpack-dev-server/",target:"_blank",rel:"noopener noreferrer",children:"webpack-dev-server"})," \u6216 ",(0,r.jsx)(n.a,{href:"https://www.rspack.dev/guide/dev-server.html",target:"_blank",rel:"noopener noreferrer",children:"@rspack/dev-server"}),", \u800C\u662F\u57FA\u4E8E ",(0,r.jsx)(n.a,{href:"https://github.com/webpack/webpack-dev-middleware",target:"_blank",rel:"noopener noreferrer",children:"webpack-dev-middleware"})," \u5B9E\u73B0 DevServer\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.h3,{id:"\u9009\u9879",children:["\u9009\u9879",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u9009\u9879",children:"#"})]}),"\n",(0,r.jsxs)(n.h4,{id:"after",children:["after",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#after",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/setup-middlewares",target:"_blank",rel:"noopener noreferrer",children:"dev.setupMiddlewares"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Array"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6DFB\u52A0\u81EA\u5B9A\u4E49\u4E2D\u95F4\u4EF6\uFF0C\u5728\u6240\u6709\u5F00\u53D1\u73AF\u5883\u4E2D\u95F4\u4EF6\u540E\u6267\u884C\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      after: [\n        async (req, res, next) => {\n          console.log('after dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"webpack-dev-server"})," \u4F7F\u7528 Express \u4F5C\u4E3A\u670D\u52A1\u7AEF\u6846\u67B6\u3002Modern.js \u4E2D\u6CA1\u6709\u4F7F\u7528\u4EFB\u4F55\u6846\u67B6\uFF0C\u4E0A\u8FF0\u4E2D\u95F4\u4EF6\u4E2D ",(0,r.jsx)(n.code,{children:"req"})," \u548C ",(0,r.jsx)(n.code,{children:"res"})," \u90FD\u662F Node \u539F\u751F\u5BF9\u8C61\uFF0C\u56E0\u6B64 ",(0,r.jsx)(n.code,{children:"webpack-dev-server"})," \u7684 Express \u4E2D\u95F4\u4EF6\u4E0D\u4E00\u5B9A\u80FD\u76F4\u63A5\u5728 Modern.js \u4E2D\u4F7F\u7528\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679C\u8981\u8FC1\u79FB ",(0,r.jsx)(n.code,{children:"webpack-dev-server"})," \u4E2D\u4F7F\u7528\u7684 Express \u4E2D\u95F4\u4EF6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\uFF0C\u5C06 Express app \u4F5C\u4E3A\u4E2D\u95F4\u4EF6\u4F20\u5165\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"import expressMiddleware from 'my-express-middleware';\nimport express from 'express';\n\n// \u521D\u59CB\u5316 Express app\nconst app = express();\napp.use(expressMiddleware);\n\nexport default {\n  tools: {\n    devServer: {\n      after: [app],\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"before",children:["before",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#before",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/setup-middlewares",target:"_blank",rel:"noopener noreferrer",children:"dev.setupMiddlewares"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Array"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6DFB\u52A0\u81EA\u5B9A\u4E49\u4E2D\u95F4\u4EF6\uFF0C\u5728\u6240\u6709\u5F00\u53D1\u73AF\u5883\u4E2D\u95F4\u4EF6\u524D\u6267\u884C\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      before: [\n        async (req, res, next) => {\n          console.log('before dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"client",children:["client",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#client",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/client",target:"_blank",rel:"noopener noreferrer",children:"dev.client"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"{\n    /** \u6307\u5B9A\u534F\u8BAE\u540D\u79F0 */\n    protocol?: string;\n    /** \u4E8B\u4EF6\u6D41\u8DEF\u5F84 */\n    path?: string;\n    /** \u6307\u5B9A\u76D1\u542C\u8BF7\u6C42\u7684\u7AEF\u53E3\u53F7 */\n    port?: string;\n    /** \u6307\u5B9A\u8981\u4F7F\u7528\u7684 host */\n    host?: string;\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultConfig = {\n  path: '/webpack-hmr',\n  // By default it is set to the port number of the dev server\n  port: '',\n  // By default it is set to \"location.hostname\"\n  host: '',\n  // By default it is set to \"location.protocol === 'https:' ? 'wss' : 'ws'\"\"\n  protocol: '',\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5BF9\u5E94 HMR \u5BA2\u6237\u7AEF\u7684\u914D\u7F6E\uFF0C\u901A\u5E38\u7528\u4E8E\u8BBE\u7F6E HMR \u5BF9\u5E94\u7684 WebSocket URL\u3002"}),"\n",(0,r.jsxs)(n.h4,{id:"compress",children:["compress",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compress",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u662F\u5426\u5BF9\u9759\u6001\u8D44\u6E90\u542F\u7528 gzip \u538B\u7F29\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u9700\u8981\u7981\u7528 gzip \u538B\u7F29\uFF0C\u53EF\u4EE5\u5C06 ",(0,r.jsx)(n.code,{children:"compress"})," \u8BBE\u7F6E\u4E3A ",(0,r.jsx)(n.code,{children:"false"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      compress: false,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"devmiddleware",children:["devMiddleware",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devmiddleware",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/write-to-disk",target:"_blank",rel:"noopener noreferrer",children:"dev.writeToDisk"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{\n  writeToDisk: boolean | ((filename: string) => boolean);\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{\n  writeToDisk: (file: string) => !file.includes('.hot-update.'),\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["devMiddleware \u914D\u7F6E\u9879\u3002\u5F53\u524D\u914D\u7F6E\u662F ",(0,r.jsx)(n.a,{href:"https://github.com/webpack/webpack-dev-middleware",target:"_blank",rel:"noopener noreferrer",children:"webpack-dev-middleware"})," \u914D\u7F6E\u9879\u7684\u5B50\u96C6."]}),"\n",(0,r.jsxs)(n.h4,{id:"headers",children:["headers",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#headers",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Record<string, string>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u54CD\u5E94\u5934\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      headers: {\n        'X-Custom-Foo': 'bar',\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"historyapifallback",children:["historyApiFallback",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#historyapifallback",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean | ConnectHistoryApiFallbackOptions"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u9700\u8981\u5BF9\u4E00\u4E9B 404 \u54CD\u5E94\u6216\u5176\u4ED6\u8BF7\u6C42\u63D0\u4F9B\u66FF\u4EE3\u9875\u9762\u7684\u573A\u666F\uFF0C\u53EF\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"devServer.historyApiFallback"})," \u8FDB\u884C\u8BBE\u7F6E\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      historyApiFallback: true,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u66F4\u591A\u9009\u9879\u548C\u8BE6\u7EC6\u4FE1\u606F\u53EF\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://github.com/bripkens/connect-history-api-fallback",target:"_blank",rel:"noopener noreferrer",children:"connect-history-api-fallback"})," \u6587\u6863\u3002"]}),"\n",(0,r.jsxs)(n.h4,{id:"hot",children:["hot",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hot",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/hmr",target:"_blank",rel:"noopener noreferrer",children:"dev.hmr"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u662F\u5426\u5F00\u542F ",(0,r.jsx)(n.a,{href:"https://webpack.js.org/concepts/hot-module-replacement/",target:"_blank",rel:"noopener noreferrer",children:"Hot Module Replacement"})," \u70ED\u66F4\u65B0\u80FD\u529B\u3002"]}),"\n",(0,r.jsxs)(n.h4,{id:"https",children:["https",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#https",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/https",target:"_blank",rel:"noopener noreferrer",children:"dev.https"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean | { key: string; cert: string }"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CDevServer \u4F1A\u542F\u7528 HTTP \u670D\u52A1\u5668\u3002\u901A\u8FC7\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"devServer.https"})," \u4E3A ",(0,r.jsx)(n.code,{children:"true"})," \u5C06\u5F00\u542F\u5BF9 HTTPS \u7684\u652F\u6301\uFF0C\u540C\u65F6\u4F1A\u7981\u7528 HTTP \u670D\u52A1\u5668\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u4F60\u4E5F\u53EF\u4EE5\u624B\u52A8\u4F20\u5165 HTTPS \u670D\u52A1\u5668\u6240\u9700\u8981\u7684\u8BC1\u4E66\u548C\u5BF9\u5E94\u7684\u79C1\u94A5\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      https: {\n        key: fs.readFileSync('certificates/private.pem'),\n        cert: fs.readFileSync('certificates/public.pem'),\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"livereload",children:["liveReload",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#livereload",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/live-reload",target:"_blank",rel:"noopener noreferrer",children:"dev.liveReload"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5F53\u76D1\u542C\u5230\u6587\u4EF6\u53D8\u5316\u65F6\uFF0CDevServer \u5C06\u4F1A\u5237\u65B0\u9875\u9762\uFF08\u4E3A\u4F7F liveReload \u80FD\u591F\u751F\u6548\uFF0C",(0,r.jsx)(n.code,{children:"devServer.hot"})," \u914D\u7F6E\u9879\u5E94\u5F53\u7981\u7528\uFF09\u3002\u901A\u8FC7\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"devServer.liveReload"})," \u4E3A ",(0,r.jsx)(n.code,{children:"false"})," \u53EF\u4EE5\u5173\u95ED\u8BE5\u884C\u4E3A\u3002"]}),"\n",(0,r.jsxs)(n.h4,{id:"setupmiddlewares",children:["setupMiddlewares",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#setupmiddlewares",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecated"}),"\uFF1A\u8BE5\u914D\u7F6E\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/dev/setup-middlewares",target:"_blank",rel:"noopener noreferrer",children:"dev.setupMiddlewares"})," \u4EE3\u66FF\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"Array<\n  (\n    middlewares: {\n      unshift: (...handlers: RequestHandler[]) => void;\n      push: (...handlers: RequestHandler[]) => void;\n    },\n    server: {\n      sockWrite: (\n        type: string,\n        data?: string | boolean | Record<string, any>,\n      ) => void;\n    },\n  ) => void\n>;\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u63D0\u4F9B\u6267\u884C\u81EA\u5B9A\u4E49\u51FD\u6570\u548C\u5E94\u7528\u81EA\u5B9A\u4E49\u4E2D\u95F4\u4EF6\u7684\u80FD\u529B\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u51E0\u79CD\u4E0D\u540C\u4E2D\u95F4\u4EF6\u4E4B\u95F4\u7684\u6267\u884C\u987A\u5E8F\u662F: ",(0,r.jsx)(n.code,{children:"devServer.before"})," => ",(0,r.jsx)(n.code,{children:"unshift"})," => \u5185\u7F6E\u4E2D\u95F4\u4EF6 => ",(0,r.jsx)(n.code,{children:"push"})," => ",(0,r.jsx)(n.code,{children:"devServer.after"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          middlewares.unshift((req, res, next) => {\n            next();\n          });\n\n          middlewares.push((req, res, next) => {\n            next();\n          });\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u4E9B\u7279\u6B8A\u573A\u666F\u9700\u6C42\u53EF\u80FD\u9700\u8981\u4F7F\u7528\u670D\u52A1\u5668 API\uFF1A"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'sockWrite\u3002\u5141\u8BB8\u5411 hmr \u5BA2\u6237\u7AEF\u4F20\u9012\u4E00\u4E9B\u6D88\u606F\uFF0Chmr \u5BA2\u6237\u7AEF\u5C06\u6839\u636E\u63A5\u6536\u5230\u7684\u6D88\u606F\u7C7B\u578B\u8FDB\u884C\u4E0D\u540C\u7684\u5904\u7406\u3002\u5982\u679C\u4F60\u53D1\u9001\u4E00\u4E2A "content-changed " \u7684\u6D88\u606F\uFF0C\u9875\u9762\u5C06\u4F1A\u91CD\u65B0\u52A0\u8F7D\u3002'}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          // \u6DFB\u52A0\u81EA\u5B9A\u4E49 watcher \u5E76\u5728\u6587\u4EF6\u66F4\u65B0\u65F6\u89E6\u53D1\u9875\u9762\u5237\u65B0\n          watcher.on('change', changed => {\n            server.sockWrite('content-changed');\n          });\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"proxy",children:["proxy",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#proxy",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Record<string, string> | Record<string, ProxyDetail>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4EE3\u7406\u8BF7\u6C42\u5230\u6307\u5B9A\u7684\u670D\u52A1\u4E0A\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': 'http://localhost:3000',\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6B64\u65F6\uFF0C/api/users \u8BF7\u6C42\u5C06\u4F1A\u4EE3\u7406\u5230 ",(0,r.jsx)(n.a,{href:"http://localhost:3000/api/users%E3%80%82",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:3000/api/users\u3002"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u4E0D\u60F3\u4F20\u9012 /api\uFF0C\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"pathRewrite"})," \u91CD\u5199\u8BF7\u6C42\u8DEF\u5F84\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          pathRewrite: { '^/api': '' },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["DevServer Proxy \u57FA\u4E8E ",(0,r.jsx)(n.a,{href:"https://github.com/chimurai/http-proxy-middleware/tree/2.x",target:"_blank",rel:"noopener noreferrer",children:"http-proxy-middleware"})," \u5B9E\u73B0\u3002\u4F60\u53EF\u4EE5\u4F7F\u7528 http-proxy-middleware \u7684\u6240\u6709\u914D\u7F6E\u9879\uFF0C\u5177\u4F53\u53EF\u4EE5\u67E5\u770B\u6587\u6863\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"DevServer Proxy \u5B8C\u6574\u7C7B\u578B\u5B9A\u4E49\u4E3A\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import type { Options as HttpProxyOptions } from 'http-proxy-middleware';\n\ntype Filter = string | string[] | ((pathname: string, req: Request) => boolean);\n\ntype ProxyDetail = HttpProxyOptions & {\n  bypass?: (\n    req: IncomingMessage,\n    res: ServerResponse,\n    proxyOptions: ProxyOptions,\n  ) => string | undefined | null | false;\n  context?: Filter;\n};\n\ntype ProxyOptions =\n  | Record<string, string>\n  | Record<string, ProxyDetail>\n  | ProxyDetail[]\n  | ProxyDetail;\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u9664\u4E86 http-proxy-middleware \u7684\u9009\u9879\u5916\uFF0C\u8FD8\u652F\u6301 bypass \u548C context \u4E24\u4E2A\u914D\u7F6E\u9879\uFF1A"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["bypass\uFF1A\u6839\u636E\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u7ED5\u8FC7\u4EE3\u7406\u3002","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"null"})," \u6216 ",(0,r.jsx)(n.code,{children:"undefined"})," \u4F1A\u7EE7\u7EED\u7528\u4EE3\u7406\u5904\u7406\u8BF7\u6C42\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"false"})," \u4F1A\u8FD4\u56DE 404 \u9519\u8BEF\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u8FD4\u56DE\u4E00\u4E2A\u5177\u4F53\u7684\u670D\u52A1\u8DEF\u5F84\uFF0C\u5C06\u4F1A\u4F7F\u7528\u6B64\u8DEF\u5F84\u66FF\u4EE3\u539F\u8BF7\u6C42\u8DEF\u5F84\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"context\uFF1A\u5982\u679C\u4F60\u60F3\u4EE3\u7406\u591A\u4E2A\u7279\u5B9A\u7684\u8DEF\u5F84\u5230\u540C\u4E00\u4E2A\u76EE\u6807\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 context \u914D\u7F6E\u9879\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// \u81EA\u5B9A\u4E49 bypass \u65B9\u6CD5\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          bypass: function (req, res, proxyOptions) {\n            if (req.headers.accept.indexOf('html') !== -1) {\n              console.log('Skipping proxy for browser request.');\n              return '/index.html';\n            }\n          },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// \u4EE3\u7406\u591A\u4E2A\u8DEF\u5F84\u5230\u540C\u4E00\u4E2A\u76EE\u6807\nexport default {\n  tools: {\n    devServer: {\n      proxy: [\n        {\n          context: ['/auth', '/api'],\n          target: 'http://localhost:3000',\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"watch",children:["watch",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#watch",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u662F\u5426\u76D1\u542C ",(0,r.jsx)(n.code,{children:"mock/"}),"\u3001",(0,r.jsx)(n.code,{children:"server/"}),"\u3001",(0,r.jsx)(n.code,{children:"api/"})," \u7B49\u76EE\u5F55\u7684\u6587\u4EF6\u53D8\u5316\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"toolshtmlplugin",children:["tools.htmlPlugin",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolshtmlplugin",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"false | Object | Function"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultHtmlPluginOptions = {\n  inject, // \u5BF9\u5E94 html.inject \u914D\u7F6E\u9879\n  favicon, // \u5BF9\u5E94 html.favicon \u914D\u7F6E\u9879\n  filename, // \u57FA\u4E8E output.distPath \u548C entryName \u751F\u6210\n  template, // \u9ED8\u8BA4\u4E3A\u5185\u7F6E\u7684 HTML \u6A21\u677F\u8DEF\u5F84\n  templateParameters, // \u5BF9\u5E94 html.templateParameters \u914D\u7F6E\u9879\n  chunks: [entryName],\n  minify: { // \u57FA\u4E8E output.disableMinimize \u751F\u6210\n    removeComments: false,\n    useShortDoctype: true,\n    keepClosingSlash: true,\n    collapseWhitespace: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: true,\n    removeStyleLinkTypeAttributes: true,\n    removeEmptyAttributes: true,\n    minifyJS, // \u57FA\u4E8E output.charset \u548C tools.terser.terserOptions \u751F\u6210\n    minifyCSS: true,\n    minifyURLs: true,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.htmlPlugin"})," \u53EF\u4EE5\u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-webpack-plugin"})," \u6216 ",(0,r.jsx)(n.a,{href:"https://github.com/rspack-contrib/html-rspack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-rspack-plugin"})," \u7684\u914D\u7F6E\u9879\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"\u7981\u7528-html",children:["\u7981\u7528 HTML",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7981\u7528-html",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5C06 ",(0,r.jsx)(n.code,{children:"tools.htmlPlugin"})," \u914D\u7F6E\u4E3A ",(0,r.jsx)(n.code,{children:"false"}),"\uFF0C\u53EF\u4EE5\u7981\u7528\u9ED8\u8BA4\u7684 ",(0,r.jsx)(n.code,{children:"html-webpack-plugin"})," \u63D2\u4EF6\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin: false,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u7981\u7528-js--css-\u538B\u7F29",children:["\u7981\u7528 JS / CSS \u538B\u7F29",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7981\u7528-js--css-\u538B\u7F29",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CBuilder \u4F1A\u5728\u751F\u4EA7\u73AF\u5883\u6784\u5EFA\u65F6\u538B\u7F29 HTML \u5185\u7684 JavaScript / CSS \u4EE3\u7801\uFF0C\u4ECE\u800C\u63D0\u5347\u9875\u9762\u6027\u80FD\u3002\u6B64\u80FD\u529B\u901A\u5E38\u5728\u4F7F\u7528\u81EA\u5B9A\u4E49\u6A21\u7248\u6216\u63D2\u5165\u81EA\u5B9A\u4E49\u811A\u672C\u65F6\u4F1A\u6709\u5E2E\u52A9\u3002\u7136\u800C\uFF0C\u5F53\u5F00\u542F ",(0,r.jsx)(n.code,{children:"output.enableInlineScripts"})," \u6216 ",(0,r.jsx)(n.code,{children:"output.enableInlineStyles"})," \u65F6\uFF0C\u4F1A\u51FA\u73B0\u5BF9 inline JavaScript / CSS \u4EE3\u7801\u91CD\u590D\u538B\u7F29\u7684\u60C5\u51B5\uFF0C\u5BF9\u6784\u5EFA\u6027\u80FD\u4F1A\u6709\u4E00\u5B9A\u5F71\u54CD\u3002\u4F60\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539 ",(0,r.jsx)(n.code,{children:"tools.htmlPlugin.minify"})," \u914D\u7F6E\u9879\u6765\u4FEE\u6539\u9ED8\u8BA4\u7684\u538B\u7F29\u884C\u4E3A\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin: config => {\n      if (typeof config.minify === 'object') {\n        config.minify.minifyJS = false;\n        config.minify.minifyCSS = false;\n      }\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8BE6\u7EC6\u7528\u6CD5\u53EF\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://rsbuild.dev/zh/config/tools/html-plugin",target:"_blank",rel:"noopener noreferrer",children:"Rsbuild - tools.htmlPlugin"}),"\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"toolsless",children:["tools.less",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsless",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  lessOptions: {\n    javascriptEnabled: true,\n  },\n  // \u9ED8\u8BA4\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u542F\u7528 CSS \u7684 Source Map\n  sourceMap: isDev,\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.less"})," \u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/less-loader",target:"_blank",rel:"noopener noreferrer",children:"less-loader"})," \u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-2",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-2",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.less"})," \u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 Object.assign \u8FDB\u884C\u6D45\u5C42\u5408\u5E76\uFF0C\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C",(0,r.jsx)(n.code,{children:"lessOptions"})," \u4F1A\u901A\u8FC7 deepMerge \u8FDB\u884C\u6DF1\u5C42\u5408\u5E76\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less: {\n      lessOptions: {\n        javascriptEnabled: false,\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-2",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-2",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.less"})," \u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u503C\u4F5C\u4E3A\u6700\u7EC8\u7ED3\u679C\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u63D0\u4F9B\u4E86\u4E00\u4E9B\u53EF\u4EE5\u76F4\u63A5\u8C03\u7528\u7684\u5DE5\u5177\u51FD\u6570\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less(config) {\n      // \u4FEE\u6539 lessOptions \u914D\u7F6E\n      config.lessOptions = {\n        javascriptEnabled: false,\n      };\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u4FEE\u6539-less-\u7248\u672C",children:["\u4FEE\u6539 Less \u7248\u672C",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4FEE\u6539-less-\u7248\u672C",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u67D0\u4E9B\u573A\u666F\u4E0B\uFF0C\u5982\u679C\u4F60\u9700\u8981\u4F7F\u7528\u7279\u5B9A\u7684 Less \u7248\u672C\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528 Builder \u5185\u7F6E\u7684 Less v4\uFF0C\u53EF\u4EE5\u5728\u9879\u76EE\u4E2D\u5B89\u88C5\u9700\u8981\u4F7F\u7528\u7684 Less \u7248\u672C\uFF0C\u5E76\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"less-loader"})," \u7684 ",(0,r.jsx)(n.code,{children:"implementation"})," \u9009\u9879\u8BBE\u7F6E\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less: {\n      implementation: require('less'),\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u51FD\u6570-1",children:["\u5DE5\u5177\u51FD\u6570",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u51FD\u6570-1",children:"#"})]}),"\n",(0,r.jsxs)(n.h4,{id:"addexcludes-1",children:["addExcludes",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(excludes: RegExp | RegExp[]) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u7528\u6765\u6307\u5B9A ",(0,r.jsx)(n.code,{children:"less-loader"})," \u4E0D\u7F16\u8BD1\u54EA\u4E9B\u6587\u4EF6\uFF0C\u4F60\u53EF\u4EE5\u4F20\u5165\u4E00\u4E2A\u6216\u591A\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u6765\u5339\u914D less \u6587\u4EF6\u7684\u8DEF\u5F84\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolsminifycss",children:["tools.minifyCss",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsminifycss",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  minimizerOptions: {\n    preset: [\n      'default',\n      {\n        mergeLonghand: false,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u751F\u4EA7\u73AF\u5883\u6784\u5EFA\u65F6\uFF0CBuilder \u4F1A\u901A\u8FC7 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"})," \u5BF9 CSS \u4EE3\u7801\u8FDB\u884C\u538B\u7F29\u4F18\u5316\u3002\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.minifyCss"})," \u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"})," \u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-3",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-3",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.minifyCss"})," \u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"Object.assign"})," \u5408\u5E76\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4F8B\u5982\u4E0B\u9762\u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://cssnano.co/",target:"_blank",rel:"noopener noreferrer",children:"cssnano"})," \u7684 ",(0,r.jsx)(n.code,{children:"preset"})," \u914D\u7F6E\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    minifyCss: {\n      minimizerOptions: {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-3",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-3",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.minifyCss"})," \u914D\u7F6E\u4E3A ",(0,r.jsx)(n.code,{children:"Function"})," \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u503C\u4F5C\u4E3A\u6700\u7EC8\u7ED3\u679C\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n   tools: {\n    minifyCss: options => {\n      options.minimizerOptions = {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    }\n  }\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolspostcss",children:["tools.postcss",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolspostcss",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  postcssOptions: {\n    plugins: [\n      // \u4EE5\u4E0B\u63D2\u4EF6\u9ED8\u8BA4\u542F\u7528\n      require('postcss-nesting'),\n      require('postcss-media-minmax'),\n      require('postcss-flexbugs-fixes'),\n      require('autoprefixer')({\n        flexbox: 'no-2009',\n      }),\n      // \u4EE5\u4E0B\u63D2\u4EF6\u4EC5\u5728\u9700\u8981\u517C\u5BB9\u4F4E\u7248\u672C\u6D4F\u89C8\u5668\u65F6\u542F\u7528\n      require('postcss-custom-properties'),\n      require('postcss-initial'),\n      require('postcss-page-break'),\n      require('postcss-font-variant'),\n    ],\n    // \u9ED8\u8BA4\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u542F\u7528 CSS \u7684 Source Map\n    sourceMap: isDev,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Builder \u9ED8\u8BA4\u96C6\u6210 PostCSS\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.postcss"})," \u5BF9 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/postcss-loader",target:"_blank",rel:"noopener noreferrer",children:"postcss-loader"})," \u8FDB\u884C\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-4",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-4",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"\u503C\u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u5185\u90E8\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\u4E0D\u505A\u8FD4\u56DE\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\u4F5C\u4E3A\u6700\u7EC8\u7ED3\u679C\uFF1B\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A\u4FEE\u6539 postcss-loader \u914D\u7F6E\u7684\u5DE5\u5177\u51FD\u6570\u96C6\u5408\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4F8B\u5982\uFF0C\u9700\u8981\u5728\u539F\u6709\u63D2\u4EF6\u7684\u57FA\u7840\u4E0A\u65B0\u589E\u4E00\u4E2A PostCSS \u63D2\u4EF6\uFF0C\u5728 postcssOptions.plugins \u6570\u7EC4\u4E2D push \u4E00\u4E2A\u65B0\u7684\u63D2\u4EF6\u5373\u53EF\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    postcss: opts => {\n      opts.postcssOptions.plugins.push(require('postcss-px-to-viewport'));\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u9700\u8981\u7ED9 PostCSS \u63D2\u4EF6\u4F20\u9012\u53C2\u6570\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u51FD\u6570\u53C2\u6570\u7684\u5F62\u5F0F\u8FDB\u884C\u4F20\u5165\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.postcss"})," \u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u914D\u7F6E\u5BF9\u8C61\uFF0C\u5E76\u5B8C\u5168\u66FF\u6362\u9ED8\u8BA4\u914D\u7F6E\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: () => {\n      return {\n        postcssOptions: {\n          plugins: [require('postcss-px-to-viewport')],\n        },\n      };\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-4",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-4",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53\u6B64\u503C\u4E3A Object \u7C7B\u578B\u65F6\uFF0C\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"Object.assign"})," \u5408\u5E76\u3002\u6CE8\u610F ",(0,r.jsx)(n.code,{children:"Object.assign"})," \u662F\u6D45\u62F7\u8D1D\uFF0C\u4F1A\u5B8C\u5168\u8986\u76D6\u5185\u7F6E\u7684 ",(0,r.jsx)(n.code,{children:"plugins"})," \u6570\u7EC4\uFF0C\u8BF7\u8C28\u614E\u4F7F\u7528\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: {\n      // \u7531\u4E8E\u4F7F\u7528 `Object.assign` \u5408\u5E76\uFF0C\u56E0\u6B64\u9ED8\u8BA4\u7684 postcssOptions \u4F1A\u88AB\u8986\u76D6\u3002\n      postcssOptions: {\n        plugins: [require('postcss-px-to-viewport')],\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u51FD\u6570-2",children:["\u5DE5\u5177\u51FD\u6570",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u51FD\u6570-2",children:"#"})]}),"\n",(0,r.jsxs)(n.h4,{id:"addplugins-1",children:["addPlugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addplugins-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(plugins: PostCSSPlugin | PostCSSPlugin[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u7528\u4E8E\u6DFB\u52A0\u989D\u5916\u7684 PostCSS \u63D2\u4EF6\uFF0C\u4F60\u53EF\u4EE5\u4F20\u5165\u5355\u4E2A PostCSS \u63D2\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u4F20\u5165 PostCSS \u63D2\u4EF6\u6570\u7EC4\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: (config, { addPlugins }) => {\n      // \u6DFB\u52A0\u4E00\u4E2A\u63D2\u4EF6\n      addPlugins(require('postcss-preset-env'));\n      // \u6279\u91CF\u6DFB\u52A0\u63D2\u4EF6\n      addPlugins([require('postcss-preset-env'), require('postcss-import')]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsx)(n.p,{children:"Builder \u4E2D\u4F7F\u7528\u7684 PostCSS \u7248\u672C\u4E3A v8\uFF0C\u5F53\u4F60\u5F15\u5165\u793E\u533A\u4E2D\u7684 PostCSS \u63D2\u4EF6\u65F6\uFF0C\u8BF7\u6CE8\u610F\u7248\u672C\u662F\u5426\u9002\u914D\uFF0C\u90E8\u5206\u65E7\u7248\u672C\u63D2\u4EF6\u53EF\u80FD\u65E0\u6CD5\u5728 PostCSS v8 \u4E0B\u8FD0\u884C\u3002"})})]}),"\n",(0,r.jsxs)(n.h2,{id:"toolspug",children:["tools.pug",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolspug",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"true | Object | Function | undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u914D\u7F6E ",(0,r.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"})," \u6A21\u677F\u5F15\u64CE\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"boolean-\u7C7B\u578B",children:["Boolean \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-\u7C7B\u578B",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Builder \u9ED8\u8BA4\u4E0D\u542F\u7528 Pug \u6A21\u677F\u5F15\u64CE\uFF0C\u4F60\u53EF\u4EE5\u5C06 ",(0,r.jsx)(n.code,{children:"tools.pug"})," \u8BBE\u7F6E\u4E3A ",(0,r.jsx)(n.code,{children:"true"})," \u6765\u542F\u7528\u5B83\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug: true,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u542F\u7528\u540E\uFF0C\u4F60\u53EF\u4EE5\u5728 ",(0,r.jsx)(n.code,{children:"html.template"})," \u4E2D\u6307\u5B9A\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"index.pug"})," \u4F5C\u4E3A\u6A21\u677F\u6587\u4EF6\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-5",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-5",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.terser"})," \u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u53EF\u4EE5\u914D\u7F6E Pug \u6A21\u677F\u5F15\u64CE\u7684\u9009\u9879\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug: {\n      doctype: 'xml',\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8BE6\u7EC6\u53C2\u6570\u8BF7\u67E5\u770B ",(0,r.jsx)(n.a,{href:"https://pugjs.org/api/reference.html#options",target:"_blank",rel:"noopener noreferrer",children:"Pug API Reference"}),"\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-5",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-5",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.pug"})," \u914D\u7F6E\u4E3A ",(0,r.jsx)(n.code,{children:"Function"})," \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u503C\u4F5C\u4E3A\u6700\u7EC8\u7ED3\u679C\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug(config) {\n      config.doctype = 'xml';\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolssass",children:["tools.sass",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolssass",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  // \u9ED8\u8BA4\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u542F\u7528 CSS \u7684 Source Map\n  sourceMap: isDev,\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.sass"})," \u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/sass-loader",target:"_blank",rel:"noopener noreferrer",children:"sass-loader"})," \u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-6",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-6",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.sass"})," \u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 Object.assign \u8FDB\u884C\u6D45\u5C42\u5408\u5E76\uFF0C\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C",(0,r.jsx)(n.code,{children:"sassOptions"})," \u4F1A\u901A\u8FC7 deepMerge \u8FDB\u884C\u6DF1\u5C42\u5408\u5E76\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass: {\n      sourceMap: true,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-6",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-6",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.sass"})," \u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u503C\u4F5C\u4E3A\u6700\u7EC8\u7ED3\u679C\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u63D0\u4F9B\u4E86\u4E00\u4E9B\u53EF\u4EE5\u76F4\u63A5\u8C03\u7528\u7684\u5DE5\u5177\u51FD\u6570\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass(config) {\n      // \u4FEE\u6539 sourceMap \u914D\u7F6E\n      config.additionalData = async (content, loaderContext) => {\n        // ...\n      };\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u4FEE\u6539-sass-\u7248\u672C",children:["\u4FEE\u6539 Sass \u7248\u672C",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4FEE\u6539-sass-\u7248\u672C",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u67D0\u4E9B\u573A\u666F\u4E0B\uFF0C\u5982\u679C\u4F60\u9700\u8981\u4F7F\u7528\u7279\u5B9A\u7684 Sass \u7248\u672C\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528 Builder \u5185\u7F6E\u7684 Dart Sass v1\uFF0C\u53EF\u4EE5\u5728\u9879\u76EE\u4E2D\u5B89\u88C5\u9700\u8981\u4F7F\u7528\u7684 Sass \u7248\u672C\uFF0C\u5E76\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"sass-loader"})," \u7684 ",(0,r.jsx)(n.code,{children:"implementation"})," \u9009\u9879\u8BBE\u7F6E\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass: {\n      implementation: require('sass'),\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u51FD\u6570-3",children:["\u5DE5\u5177\u51FD\u6570",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u51FD\u6570-3",children:"#"})]}),"\n",(0,r.jsxs)(n.h4,{id:"addexcludes-2",children:["addExcludes",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes-2",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(excludes: RegExp | RegExp[]) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u7528\u6765\u6307\u5B9A ",(0,r.jsx)(n.code,{children:"sass-loader"})," \u4E0D\u7F16\u8BD1\u54EA\u4E9B\u6587\u4EF6\uFF0C\u4F60\u53EF\u4EE5\u4F20\u5165\u4E00\u4E2A\u6216\u591A\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u6765\u5339\u914D sass \u6587\u4EF6\u7684\u8DEF\u5F84\u3002\u4F8B\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolsstyleloader",children:["tools.styleLoader",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsstyleloader",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.styleLoader"})," \u53EF\u4EE5\u8BBE\u7F6E ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/style-loader",target:"_blank",rel:"noopener noreferrer",children:"style-loader"})," \u7684\u914D\u7F6E\u9879\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0CBuilder \u9ED8\u8BA4\u4E0D\u4F1A\u5F00\u542F ",(0,r.jsx)(n.code,{children:"style-loader"}),"\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"output.disableCssExtract"})," \u914D\u7F6E\u9879\u6765\u5F00\u542F\u5B83\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-7",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-7",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"\u5F53\u6B64\u503C\u4E3A Object \u7C7B\u578B\u65F6\uFF0C\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 Object.assign \u5408\u5E76\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styleLoader: {\n      insert: 'head',\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-7",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-7",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"\u5F53\u6B64\u503C\u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\u4F5C\u4E3A\u6700\u7EC8\u914D\u7F6E\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styleLoader: config => {\n      config.insert = 'head';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolsstyledcomponents",children:["tools.styledComponents",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsstyledcomponents",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function | false"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{\n  displayName: true,\n  // \u5728 SSR \u6784\u5EFA\u4E2D isSSR \u4E3A true\n  ssr: isSSR,\n  // \u5728\u751F\u4EA7\u73AF\u5883\u6784\u5EFA\u65F6\u542F\u7528 `pure` \u6765\u4F18\u5316\u5305\u4F53\u79EF\n  pure: isProd,\n  transpileTemplateLiterals: true,\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.a,{href:"https://github.com/styled-components/babel-plugin-styled-components",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-styled-components"})," \u6216\u4F7F\u7528 SWC \u65F6 ",(0,r.jsx)(n.a,{href:"https://github.com/swc-project/plugins/tree/main/packages/styled-components",target:"_blank",rel:"noopener noreferrer",children:"@swc/plugin-styled-components"})," \u7684\u914D\u7F6E\u3002 \u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u5229\u7528 Object.assign \u51FD\u6570\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u5408\u5E76\u3002\u6BD4\u5982:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styledComponents: {\n      pure: false,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Function"})," \u7C7B\u578B\u65F6\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u9ED8\u8BA4\u914D\u7F6E\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u63D0\u4F9B\u4E86\u4E00\u4E9B\u53EF\u4EE5\u76F4\u63A5\u8C03\u7528\u7684\u5DE5\u5177\u51FD\u6570\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styledComponents(config) {\n      // \u4FEE\u6539 pure \u914D\u7F6E\n      config.pure = false;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8BE5\u7279\u6027\u9ED8\u8BA4\u542F\u7528\uFF0C\u4F60\u53EF\u4EE5\u914D\u7F6E ",(0,r.jsx)(n.code,{children:"tools.styledComponents"})," \u4E3A ",(0,r.jsx)(n.code,{children:"false"})," \u6765\u5173\u95ED\u8BE5\u884C\u4E3A\uFF0C\u5173\u95ED\u540E\u53EF\u4EE5\u63D0\u5347\u7F16\u8BD1\u6027\u80FD\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styledComponents: false,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolsterser",children:["tools.terser",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsterser",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultTerserOptions = {\n  terserOptions: {\n    mangle: {\n      safari10: true,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6253\u5305\u5DE5\u5177\uFF1A"})," ",(0,r.jsx)(n.code,{children:"\u4EC5\u652F\u6301 webpack"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u751F\u4EA7\u73AF\u5883\u6784\u5EFA\u65F6\uFF0CBuilder \u4F1A\u901A\u8FC7 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/terser-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"terser-webpack-plugin"})," \u5BF9 JavaScript \u4EE3\u7801\u8FDB\u884C\u538B\u7F29\u4F18\u5316\u3002\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.terser"})," \u4FEE\u6539 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/terser-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"terser-webpack-plugin"})," \u7684\u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-8",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-8",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.terser"})," \u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Object"})," \u7C7B\u578B\u65F6\uFF0C\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"Object.assign"})," \u5408\u5E76\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4F8B\u5982\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"exclude"})," \u6392\u9664\u90E8\u5206\u6587\u4EF6\u7684\u538B\u7F29\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    terser: {\n      exclude: /\\/excludes/,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-8",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-8",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tools.terser"})," \u914D\u7F6E\u4E3A ",(0,r.jsx)(n.code,{children:"Function"})," \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u503C\u4F5C\u4E3A\u6700\u7EC8\u7ED3\u679C\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    terser: opts => {\n      opts.exclude = /\\/excludes/;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"\u7981\u7528\u4EE3\u7801\u538B\u7F29"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u9700\u8981\u7981\u7528\u4EE3\u7801\u538B\u7F29\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisableminimize",target:"_blank",rel:"noopener noreferrer",children:"output.disableMinimize"})," \u914D\u7F6E\u9879\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.h2,{id:"toolstsloader",children:["tools.tsLoader",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolstsloader",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6253\u5305\u5DE5\u5177\uFF1A"})," ",(0,r.jsx)(n.code,{children:"\u4EC5\u652F\u6301 webpack"})]}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"\u4E0D\u518D\u63A8\u8350\u4F7F\u7528 ts-loader"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,r.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/builder/guide/basic/typescript.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8-babel",target:"_blank",rel:"noopener noreferrer",children:"babel-loader"})," \u6216 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/guide/advanced/rspack-start.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack"})," \u8F6C\u8BD1 TypeScript \u4EE3\u7801\u7684\u6027\u80FD\u660E\u663E\u4F18\u4E8E ts-loader \u4E14\u80FD\u591F\u4F7F\u7528\u66F4\u591A\u62D3\u5C55\u80FD\u529B\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u542F\u7528 ts-loader \u65F6\u5C06\u65E0\u6CD5\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/source/transform-import.html",target:"_blank",rel:"noopener noreferrer",children:"source.transformImport"})," \u548C ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/tools/styled-components.html",target:"_blank",rel:"noopener noreferrer",children:"tools.styledComponents"})," \u7B49\u7531 Babel \u548C SWC \u63D0\u4F9B\u652F\u6301\u7684\u80FD\u529B\u3002\n"]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["\u9879\u76EE\u4E2D\u9ED8\u8BA4\u4E0D\u5F00\u542F ts-loader\uFF0C\u5F53 ",(0,r.jsx)(n.code,{children:"tools.tsLoader"})," \u4E0D\u4E3A undefined \u5219\u8868\u793A\u5F00\u542F ts-loader\uFF0C\u540C\u65F6\u7981\u7528 babel-loader \u5BF9 TypeScript \u7684\u7F16\u8BD1\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-9",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-9",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"\u5F53\u6B64\u503C\u4E3A Object \u7C7B\u578B\u65F6\uFF0C\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u901A\u8FC7 Object.assign \u5408\u5E76\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u9ED8\u8BA4\u914D\u7F6E\u5982\u4E0B:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "es5",\n    "module": "ESNext"\n  },\n  "transpileOnly": true,\n  "allowTsInNodeModules": true\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.tsLoader"})," \u914D\u7F6E\u9879\u6765\u8986\u76D6\u9ED8\u8BA4\u914D\u7F6E:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: {\n      allowTsInNodeModules: false,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-9",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-9",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53\u6B64\u503C\u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F5C\u4E3A\u7B2C\u4E00\u53C2\u6570\u4F20\u5165\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\u4F5C\u4E3A\u6700\u7EC8\u914D\u7F6E\uFF1B\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A\u4FEE\u6539 ",(0,r.jsx)(n.code,{children:"ts-loader"})," \u914D\u7F6E\u5DE5\u5177\u51FD\u6570\u96C6\u5408\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: opts => {\n      opts.allowTsInNodeModules = false;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u51FD\u6570-4",children:["\u5DE5\u5177\u51FD\u6570",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u51FD\u6570-4",children:"#"})]}),"\n",(0,r.jsxs)(n.h4,{id:"addincludes-1",children:["addIncludes",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addincludes-1",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/source/include.html",target:"_blank",rel:"noopener noreferrer",children:"source.include"})," \u4EE3\u66FF\uFF0C\u4E24\u8005\u529F\u80FD\u5B8C\u5168\u4E00\u81F4\u3002"]}),"\n",(0,r.jsxs)(n.h4,{id:"addexcludes-3",children:["addExcludes",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes-3",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5DF2\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/configure/app/source/exclude.html",target:"_blank",rel:"noopener noreferrer",children:"source.exclude"})," \u4EE3\u66FF\uFF0C\u4E24\u8005\u529F\u80FD\u5B8C\u5168\u4E00\u81F4\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"toolstschecker",children:["tools.tsChecker",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolstschecker",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  typescript: {\n    // avoid OOM issue\n    memoryLimit: 8192,\n    // use tsconfig of user project\n    configFile: tsconfigPath,\n    // use typescript of user project\n    typescriptPath: require.resolve('typescript'),\n  },\n  issue: {\n    exclude: [\n      { file: '**/*.(spec|test).ts' },\n      { file: '**/node_modules/**/*' },\n    ],\n  },\n  logger: {\n    log() {\n      // do nothing\n      // we only want to display error messages\n    },\n    error(message: string) {\n      console.error(message.replace(/ERROR/g, 'Type Error'));\n    },\n  },\n},\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CBuilder \u4F1A\u5F00\u542F ",(0,r.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"})," \u8FDB\u884C\u7C7B\u578B\u68C0\u67E5\u3002\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"output.disableTsChecker"})," \u914D\u7F6E\u9879\u6765\u5173\u95ED\u7C7B\u578B\u68C0\u67E5\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-10",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-10",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tsChecker"})," \u7684\u503C\u4E3A Object \u7C7B\u578B\u65F6\uFF0C\u4F1A\u4E0E\u9ED8\u8BA4\u914D\u7F6E\u8FDB\u884C\u6DF1\u5C42\u5408\u5E76\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsChecker: {\n      issue: {\n        exclude: [{ file: '**/some-folder/**/*.ts' }],\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-10",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-10",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53 ",(0,r.jsx)(n.code,{children:"tsChecker"})," \u7684\u503C\u4E3A Function \u7C7B\u578B\u65F6\uFF0C\u9ED8\u8BA4\u914D\u7F6E\u4F1A\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u5165\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u914D\u7F6E\u5BF9\u8C61\uFF0C\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\u4F5C\u4E3A\u6700\u7EC8\u914D\u7F6E\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsChecker(options) {\n      (options?.issue?.exclude as unknown[]).push({\n        file: '**/some-folder/**/*.ts',\n      });\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolswebpack",children:["tools.webpack",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpack",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6253\u5305\u5DE5\u5177\uFF1A"})," ",(0,r.jsx)(n.code,{children:"\u4EC5\u652F\u6301 webpack"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.webpack"})," \u9009\u9879\u7528\u4E8E\u914D\u7F6E\u539F\u751F\u7684 ",(0,r.jsx)(n.a,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer",children:"webpack"}),"\u3002"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.bundlerChain"})," \u540C\u6837\u53EF\u4EE5\u4FEE\u6539 webpack \u914D\u7F6E\uFF0C\u5E76\u4E14\u529F\u80FD\u66F4\u52A0\u5F3A\u5927\uFF0C\u5EFA\u8BAE\u4F18\u5148\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"tools.bundlerChain"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-11",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-11",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.webpack"})," \u53EF\u4EE5\u914D\u7F6E\u4E3A\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8FD9\u4E2A\u5BF9\u8C61\u5C06\u4F1A\u548C\u5185\u7F6E\u7684 webpack \u914D\u7F6E\u901A\u8FC7 ",(0,r.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"})," \u8FDB\u884C\u6DF1\u5C42\u5408\u5E76\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6BD4\u5982\u6DFB\u52A0 ",(0,r.jsx)(n.code,{children:"resolve.alias"})," \u914D\u7F6E\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-11",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-11",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.webpack"})," \u4E5F\u53EF\u4EE5\u914D\u7F6E\u4E3A\u4E00\u4E2A\u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u5165\u53C2\u4E3A\u5185\u7F6E\u7684 webpack \u914D\u7F6E\u5BF9\u8C61\uFF0C\u4F60\u53EF\u4EE5\u5BF9\u8FD9\u4E2A\u5BF9\u8C61\u8FDB\u884C\u4FEE\u6539\uFF0C\u7136\u540E\u8FD4\u56DE\u4E00\u4EFD\u65B0\u7684\u914D\u7F6E\u3002\u6BD4\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.webpack"})," \u51FD\u6570\u8FD4\u56DE\u7684\u5BF9\u8C61\u4F1A\u76F4\u63A5\u4F5C\u4E3A\u6700\u7EC8\u4F7F\u7528\u7684 webpack \u914D\u7F6E\uFF0C\u4E0D\u4F1A\u518D\u4E0E\u5185\u7F6E\u7684 webpack \u914D\u7F6E\u8FDB\u884C\u5408\u5E76\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u96C6\u5408",children:["\u5DE5\u5177\u96C6\u5408",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u96C6\u5408",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"\u8FD9\u4E2A\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5305\u542B\u4E86\u4E00\u4E9B\u5DE5\u5177\u51FD\u6570\u548C\u5C5E\u6027\uFF0C\u8BE6\u60C5\u5982\u4E0B\uFF1A"}),"\n",(0,r.jsxs)(n.h4,{id:"env",children:["env",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 env \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u73AF\u5883\u4E3A development\u3001production \u8FD8\u662F test\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 isProd \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u73AF\u5883\u662F\u5426\u4E3A production\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"target",children:["target",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 target \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u662F\u5426\u4E3A ",(0,r.jsx)(n.code,{children:"node"}),"\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.code,{children:"target === 'node'"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u662F\u5426\u4E3A ",(0,r.jsx)(n.code,{children:"web-worker"}),"\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.code,{children:"target === 'web-worker'"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"webpack",children:["webpack",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"typeof import('webpack')"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u4E2A\u53C2\u6570\u4F60\u53EF\u4EE5\u62FF\u5230 webpack \u5B9E\u4F8B\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { webpack }) => {\n      config.plugins.push(new webpack.ProgressPlugin());\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"htmlwebpackplugin",children:["HtmlWebpackPlugin",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"typeof import('html-webpack-plugin')"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u4E2A\u53C2\u6570\u4F60\u53EF\u4EE5\u62FF\u5230 HtmlWebpackPlugin \u5B9E\u4F8B\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"addrules",children:["addRules",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addrules",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(rules: RuleSetRule | RuleSetRule[]) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6DFB\u52A0\u989D\u5916\u7684 ",(0,r.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#modulerules",target:"_blank",rel:"noopener noreferrer",children:"webpack rules"}),"\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u793A\u4F8B\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { addRules }) => {\n      // \u6DFB\u52A0\u5355\u6761\u89C4\u5219\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // \u4EE5\u6570\u7EC4\u5F62\u5F0F\u6DFB\u52A0\u591A\u6761\u89C4\u5219\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"prependplugins",children:["prependPlugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#prependplugins",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5185\u90E8 webpack \u63D2\u4EF6\u6570\u7EC4\u5934\u90E8\u6DFB\u52A0\u989D\u5916\u7684\u63D2\u4EF6\uFF0C\u6570\u7EC4\u5934\u90E8\u7684\u63D2\u4EF6\u4F1A\u4F18\u5148\u6267\u884C\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { prependPlugins, webpack }) => {\n      // \u6DFB\u52A0\u5355\u4E2A\u63D2\u4EF6\n      prependPlugins(\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      );\n\n      // \u4EE5\u6570\u7EC4\u5F62\u5F0F\u6DFB\u52A0\u591A\u4E2A\u63D2\u4EF6\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"appendplugins",children:["appendPlugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#appendplugins",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5185\u90E8 webpack \u63D2\u4EF6\u6570\u7EC4\u5C3E\u90E8\u6DFB\u52A0\u989D\u5916\u7684\u63D2\u4EF6\uFF0C\u6570\u7EC4\u5C3E\u90E8\u7684\u63D2\u4EF6\u4F1A\u5728\u6700\u540E\u6267\u884C\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { appendPlugins, webpack }) => {\n      // \u6DFB\u52A0\u5355\u4E2A\u63D2\u4EF6\n      appendPlugins([\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      ]);\n\n      // \u4EE5\u6570\u7EC4\u5F62\u5F0F\u6DFB\u52A0\u591A\u4E2A\u63D2\u4EF6\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"removeplugin",children:["removePlugin",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugin",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(name: string) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5220\u9664\u5185\u90E8\u7684 webpack \u63D2\u4EF6\uFF0C\u53C2\u6570\u4E3A\u8BE5\u63D2\u4EF6\u7684 ",(0,r.jsx)(n.code,{children:"constructor.name"}),"\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4F8B\u5982\uFF0C\u5220\u9664\u5185\u90E8\u7684 ",(0,r.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { removePlugin }) => {\n      removePlugin('ForkTsCheckerWebpackPlugin');\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"mergeconfig",children:["mergeConfig",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergeconfig",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(...configs: WebpackConfig[]) => WebpackConfig"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u7528\u4E8E\u5408\u5E76\u591A\u4EFD webpack \u914D\u7F6E\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { mergeConfig }) => {\n      return mergeConfig(config, {\n        devtool: 'eval',\n      });\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"toolswebpackchain",children:["tools.webpackChain",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpackchain",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Function | undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6253\u5305\u5DE5\u5177\uFF1A"})," ",(0,r.jsx)(n.code,{children:"\u4EC5\u652F\u6301 webpack"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4F60\u53EF\u4EE5\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"tools.webpackChain"})," \u6765\u4FEE\u6539\u9ED8\u8BA4\u7684 webpack \u914D\u7F6E\uFF0C\u5B83\u7684\u503C\u4E3A ",(0,r.jsx)(n.code,{children:"Function"})," \u7C7B\u578B\uFF0C\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A ",(0,r.jsx)(n.code,{children:"webpack-chain"})," \u5BF9\u8C61\u5B9E\u4F8B\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u5B9E\u4F8B\u6765\u4FEE\u6539\u9ED8\u8BA4\u7684 webpack \u914D\u7F6E\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A\u4E00\u4E2A\u5DE5\u5177\u96C6\u5408\uFF0C\u5305\u62EC",(0,r.jsx)(n.code,{children:"env"}),"\u3001",(0,r.jsx)(n.code,{children:"isProd"}),"\u3001",(0,r.jsx)(n.code,{children:"CHAIN_ID"})," \u7B49\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u76F8\u6BD4\u4E8E ",(0,r.jsx)(n.code,{children:"tools.webpack"}),"\uFF0C",(0,r.jsx)(n.strong,{children:"webpack-chain \u4E0D\u4EC5\u652F\u6301\u94FE\u5F0F\u8C03\u7528\uFF0C\u800C\u4E14\u80FD\u591F\u57FA\u4E8E\u522B\u540D\u6765\u5B9A\u4F4D\u5230\u5185\u7F6E\u7684 Rule \u6216 Plugin\uFF0C\u4ECE\u800C\u5B9E\u73B0\u7CBE\u51C6\u7684\u914D\u7F6E\u4FEE\u6539"}),"\u3002\u6211\u4EEC\u63A8\u8350\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"tools.webpackChain"})," \u6765\u4EE3\u66FF ",(0,r.jsx)(n.code,{children:"tools.webpack"}),"\u3002"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.webpackChain"})," \u7684\u6267\u884C\u65F6\u673A\u65E9\u4E8E tools.webpack\uFF0C\u56E0\u6B64\u4F1A\u88AB ",(0,r.jsx)(n.code,{children:"tools.webpack"})," \u4E2D\u7684\u4FEE\u6539\u6240\u8986\u76D6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u96C6\u5408-1",children:["\u5DE5\u5177\u96C6\u5408",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u96C6\u5408-1",children:"#"})]}),"\n",(0,r.jsxs)(n.h4,{id:"env-1",children:["env",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 env \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u73AF\u5883\u4E3A development\u3001production \u8FD8\u662F test\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"isprod-1",children:["isProd",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 isProd \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u73AF\u5883\u662F\u5426\u4E3A production\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isProd }) => {\n      if (isProd) {\n        chain.devtool('source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"target-1",children:["target",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 target \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"isserver-1",children:["isServer",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u662F\u5426\u4E3A ",(0,r.jsx)(n.code,{children:"node"}),"\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.code,{children:"target === 'node'"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"iswebworker-1",children:["isWebWorker",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u662F\u5426\u4E3A ",(0,r.jsx)(n.code,{children:"web-worker"}),"\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.code,{children:"target === 'web-worker'"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"webpack-1",children:["webpack",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"typeof import('webpack')"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u4E2A\u53C2\u6570\u4F60\u53EF\u4EE5\u62FF\u5230 webpack \u5B9E\u4F8B\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack }) => {\n      chain.plugin('my-progress').use(webpack.ProgressPlugin);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"htmlwebpackplugin-1",children:["HtmlWebpackPlugin",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"typeof import('html-webpack-plugin')"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u4E2A\u53C2\u6570\u4F60\u53EF\u4EE5\u62FF\u5230 HtmlWebpackPlugin \u5B9E\u4F8B\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"chain_id",children:["CHAIN_ID",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_id",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Builder \u4E2D\u9884\u5148\u5B9A\u4E49\u4E86\u4E00\u4E9B\u5E38\u7528\u7684 Chain ID\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E9B ID \u6765\u5B9A\u4F4D\u5230\u5185\u7F6E\u7684 Rule \u6216 Plugin\u3002"}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,r.jsx)(n.p,{children:"\u8BF7\u7559\u610F\uFF0C\u4E0B\u5217\u7684\u4E00\u90E8\u5206 Rule \u6216 Plugin \u5E76\u4E0D\u662F\u9ED8\u8BA4\u5B58\u5728\u7684\uFF0C\u5F53\u4F60\u5F00\u542F\u7279\u5B9A\u914D\u7F6E\u9879\u3001\u6216\u662F\u6CE8\u518C\u67D0\u4E9B\u63D2\u4EF6\u540E\uFF0C\u5B83\u4EEC\u624D\u4F1A\u88AB\u5305\u542B\u5728 webpack \u914D\u7F6E\u4E2D\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u6BD4\u5982\uFF0C",(0,r.jsx)(n.code,{children:"RULE.STYLUS"})," \u4EC5\u5728\u6CE8\u518C\u4E86 Stylus \u63D2\u4EF6\u540E\u624D\u4F1A\u5B58\u5728\u3002\n"]})]})]}),"\n",(0,r.jsxs)(n.h4,{id:"chain_idrule",children:["CHAIN_ID.RULE",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idrule",children:"#"})]}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"ID"}),"\n",(0,r.jsx)(n.th,{children:"\u63CF\u8FF0"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.MJS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"mjs"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.JS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"js"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.TS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"ts"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.CSS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"css"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.LESS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"less"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.SASS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"sass"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.STYLUS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"stylus"})," \u7684\u89C4\u5219\uFF08\u4F9D\u8D56 ",(0,r.jsx)(n.a,{href:"https://rsbuild.dev/zh/plugins/list/plugin-stylus",target:"_blank",rel:"noopener noreferrer",children:"Stylus \u63D2\u4EF6"}),"\uFF09"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.SVG"})}),"\n",(0,r.jsxs)(n.td,{children:["Rule for ",(0,r.jsx)(n.code,{children:"svg"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.PUG"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"pug"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.TOML"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"toml"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.YAML"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"yaml"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.WASM"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"wasm"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.NODE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5904\u7406 ",(0,r.jsx)(n.code,{children:"node"})," \u7684\u89C4\u5219"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.FONT"})}),"\n",(0,r.jsx)(n.td,{children:"\u5904\u7406\u5B57\u4F53\u7684\u89C4\u5219"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.IMAGE"})}),"\n",(0,r.jsx)(n.td,{children:"\u5904\u7406\u56FE\u7247\u7684\u89C4\u5219"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RULE.MEDIA"})}),"\n",(0,r.jsx)(n.td,{children:"\u5904\u7406\u5A92\u4F53\u8D44\u6E90\u7684\u89C4\u5219"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"chain_idone_of",children:["CHAIN_ID.ONE_OF",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idone_of",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"ONE_OF.XXX"})," \u53EF\u4EE5\u5339\u914D\u5230\u89C4\u5219\u6570\u7EC4\u4E2D\u7684\u67D0\u4E00\u7C7B\u89C4\u5219\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"ID"}),"\n",(0,r.jsx)(n.th,{children:"\u63CF\u8FF0"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ONE_OF.SVG"})}),"\n",(0,r.jsx)(n.td,{children:"\u5904\u7406 SVG \u7684\u89C4\u5219\uFF0C\u5728 data URI \u548C\u5355\u72EC\u6587\u4EF6\u4E4B\u95F4\u81EA\u52A8\u9009\u62E9"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ONE_OF.SVG_URL"})}),"\n",(0,r.jsx)(n.td,{children:"\u5904\u7406 SVG \u7684\u89C4\u5219\uFF0C\u8F93\u51FA\u4E3A\u5355\u72EC\u6587\u4EF6"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ONE_OF.SVG_INLINE"})}),"\n",(0,r.jsx)(n.td,{children:"\u5904\u7406 SVG \u7684\u89C4\u5219\uFF0C\u4F5C\u4E3A data URI \u5185\u8054\u5230 bundle \u4E2D"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ONE_OF.SVG_ASSETS"})}),"\n",(0,r.jsx)(n.td,{children:"\u5904\u7406 SVG \u7684\u89C4\u5219\uFF0C\u5728 data URI \u548C\u5355\u72EC\u6587\u4EF6\u4E4B\u95F4\u81EA\u52A8\u9009\u62E9"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"chain_iduse",children:["CHAIN_ID.USE",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_iduse",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"USE.XXX"})," \u53EF\u4EE5\u5339\u914D\u5230\u5BF9\u5E94\u7684 loader\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"ID"}),"\n",(0,r.jsx)(n.th,{children:"\u63CF\u8FF0"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.TS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"ts-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.CSS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"css-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.LESS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"less-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.SASS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"sass-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.STYLUS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"stylus-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.PUG"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"pug-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.VUE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"vue-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.TOML"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"toml-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.YAML"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"yaml-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.NODE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"node-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.URL"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"url-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.SVGR"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"@svgr/webpack"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.BABEL"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"babel-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.STYLE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"style-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.POSTCSS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"postcss-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.CSS_MODULES_TS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"css-modules-typescript-loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.MINI_CSS_EXTRACT"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"mini-css-extract-plugin.loader"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"USE.RESOLVE_URL_LOADER_FOR_SASS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"resolve-url-loader"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"chain_idplugin",children:["CHAIN_ID.PLUGIN",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idplugin",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"PLUGIN.XXX"})," \u53EF\u4EE5\u5339\u914D\u5230\u5BF9\u5E94\u7684 plugin\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"ID"}),"\n",(0,r.jsx)(n.th,{children:"\u63CF\u8FF0"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.HMR"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"HotModuleReplacementPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.COPY"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"CopyWebpackPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.HTML"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"HtmlWebpackPlugin"}),"\uFF0C\u4F7F\u7528\u65F6\u9700\u8981\u62FC\u63A5 entry \u540D\u79F0\uFF1A",(0,r.jsx)(n.code,{children:"${PLUGIN.HTML}-${entryName}"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.DEFINE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"DefinePlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.IGNORE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"IgnorePlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.BANNER"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"BannerPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.PROGRESS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"Webpackbar"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.APP_ICON"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"AppIconPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.MANIFEST"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"WebpackManifestPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.TS_CHECKER"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"ForkTsCheckerWebpackPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.INLINE_HTML"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"InlineChunkHtmlPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.BUNDLE_ANALYZER"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"WebpackBundleAnalyzer"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.MINI_CSS_EXTRACT"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"MiniCssExtractPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.VUE_LOADER_PLUGIN"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"VueLoaderPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.REACT_FAST_REFRESH"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"ReactFastRefreshPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.NODE_POLYFILL_PROVIDE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94\u5904\u7406 node polyfill \u7684 ",(0,r.jsx)(n.code,{children:"ProvidePlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.SUBRESOURCE_INTEGRITY"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"webpack-subresource-integrity"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.ASSETS_RETRY"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 Builder \u4E2D\u7684 webpack \u9759\u6001\u8D44\u6E90\u91CD\u8BD5\u63D2\u4EF6 ",(0,r.jsx)(n.code,{children:"WebpackAssetsRetryPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PLUGIN.AUTO_SET_ROOT_SIZE"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 Builder \u4E2D\u7684\u81EA\u52A8\u8BBE\u7F6E\u6839\u5B57\u4F53\u5927\u5C0F\u63D2\u4EF6 ",(0,r.jsx)(n.code,{children:"AutoSetRootSizePlugin"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"chain_idminimizer",children:["CHAIN_ID.MINIMIZER",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idminimizer",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"MINIMIZER.XXX"})," \u53EF\u4EE5\u5339\u914D\u5230\u5BF9\u5E94\u7684\u538B\u7F29\u5DE5\u5177\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"ID"}),"\n",(0,r.jsx)(n.th,{children:"\u63CF\u8FF0"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MINIMIZER.JS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"TerserWebpackPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MINIMIZER.CSS"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"CssMinimizerWebpackPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MINIMIZER.ESBUILD"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"ESBuildPlugin"})]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MINIMIZER.SWC"})}),"\n",(0,r.jsxs)(n.td,{children:["\u5BF9\u5E94 ",(0,r.jsx)(n.code,{children:"SwcWebpackPlugin"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"\u4F7F\u7528\u793A\u4F8B",children:["\u4F7F\u7528\u793A\u4F8B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528\u793A\u4F8B",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u4F7F\u7528\u793A\u4F8B\u53EF\u53C2\u8003\uFF1A",(0,r.jsx)(n.a,{href:"https://modernjs.dev/builder/guide/advanced/custom-webpack-config.html#%E4%BD%BF%E7%94%A8-webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"WebpackChain \u4F7F\u7528\u793A\u4F8B"}),"\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"toolsrspack",children:["tools.rspack",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsrspack",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u9ED8\u8BA4\u503C\uFF1A"})," ",(0,r.jsx)(n.code,{children:"undefined"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u6253\u5305\u5DE5\u5177\uFF1A"})," ",(0,r.jsx)(n.code,{children:"\u4EC5\u652F\u6301 Rspack"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.rspack"})," \u9009\u9879\u7528\u4E8E\u914D\u7F6E\u539F\u751F\u7684 ",(0,r.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"}),"\u3002"]}),"\n",(0,r.jsxs)(n.h3,{id:"object-\u7C7B\u578B-12",children:["Object \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-\u7C7B\u578B-12",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.rspack"})," \u53EF\u4EE5\u914D\u7F6E\u4E3A\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8FD9\u4E2A\u5BF9\u8C61\u5C06\u4F1A\u548C\u5185\u7F6E\u7684 Rspack \u914D\u7F6E\u901A\u8FC7 ",(0,r.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"})," \u8FDB\u884C\u6DF1\u5C42\u5408\u5E76\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6BD4\u5982\u6DFB\u52A0 ",(0,r.jsx)(n.code,{children:"resolve.alias"})," \u914D\u7F6E\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"function-\u7C7B\u578B-12",children:["Function \u7C7B\u578B",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-\u7C7B\u578B-12",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.rspack"})," \u4E5F\u53EF\u4EE5\u914D\u7F6E\u4E3A\u4E00\u4E2A\u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u63A5\u6536\u4E00\u4E2A\u53C2\u6570\uFF0C\u5373\u5185\u7F6E\u7684 Rspack \u914D\u7F6E\u5BF9\u8C61\uFF0C\u4F60\u53EF\u4EE5\u5BF9\u8FD9\u4E2A\u5BF9\u8C61\u8FDB\u884C\u4FEE\u6539\uFF0C\u7136\u540E\u8FD4\u56DE\u4E00\u4EFD\u65B0\u7684\u914D\u7F6E\u3002\u6BD4\u5982\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tools.rspack"})," \u51FD\u6570\u8FD4\u56DE\u7684\u5BF9\u8C61\u4F1A\u76F4\u63A5\u4F5C\u4E3A\u6700\u7EC8\u4F7F\u7528\u7684 Rspack \u914D\u7F6E\uFF0C\u4E0D\u4F1A\u518D\u4E0E\u5185\u7F6E\u7684 Rspack \u914D\u7F6E\u8FDB\u884C\u5408\u5E76\u3002\n"]})})]}),"\n",(0,r.jsxs)(n.h3,{id:"\u5DE5\u5177\u96C6\u5408-2",children:["\u5DE5\u5177\u96C6\u5408",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u96C6\u5408-2",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"\u8FD9\u4E2A\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5305\u542B\u4E86\u4E00\u4E9B\u5DE5\u5177\u51FD\u6570\u548C\u5C5E\u6027\uFF0C\u8BE6\u60C5\u5982\u4E0B\uFF1A"}),"\n",(0,r.jsxs)(n.h4,{id:"env-2",children:["env",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env-2",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 env \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u73AF\u5883\u4E3A development\u3001production \u8FD8\u662F test\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"isprod-2",children:["isProd",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod-2",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 isProd \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u73AF\u5883\u662F\u5426\u4E3A production\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"target-2",children:["target",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target-2",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7 target \u53C2\u6570\u53EF\u4EE5\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"isserver-2",children:["isServer",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver-2",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u662F\u5426\u4E3A ",(0,r.jsx)(n.code,{children:"node"}),"\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.code,{children:"target === 'node'"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"iswebworker-2",children:["isWebWorker",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker-2",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5224\u65AD\u5F53\u524D\u6784\u5EFA\u7684\u76EE\u6807\u8FD0\u884C\u65F6\u73AF\u5883\u662F\u5426\u4E3A ",(0,r.jsx)(n.code,{children:"web-worker"}),"\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.code,{children:"target === 'web-worker'"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"rspack",children:["rspack",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"typeof import('@rspack/core')"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u8FC7\u8FD9\u4E2A\u53C2\u6570\u4F60\u53EF\u4EE5\u62FF\u5230 Rspack \u5B9E\u4F8B\u3002\u6BD4\u5982\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { rspack }) => {\n      config.plugins.push(new rspack.BannerPlugin());\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"addrules-1",children:["addRules",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addrules-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(rules: RuleSetRule | RuleSetRule[]) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6DFB\u52A0\u989D\u5916\u7684 ",(0,r.jsx)(n.a,{href:"https://www.rspack.dev/config/module.html#modulerules",target:"_blank",rel:"noopener noreferrer",children:"Rspack rules"}),"\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u793A\u4F8B\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { addRules }) => {\n      // \u6DFB\u52A0\u5355\u6761\u89C4\u5219\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // \u4EE5\u6570\u7EC4\u5F62\u5F0F\u6DFB\u52A0\u591A\u6761\u89C4\u5219\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"prependplugins-1",children:["prependPlugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#prependplugins-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(plugins: RspackPluginInstance | RspackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5185\u90E8 Rspack \u63D2\u4EF6\u6570\u7EC4\u5934\u90E8\u6DFB\u52A0\u989D\u5916\u7684\u63D2\u4EF6\uFF0C\u6570\u7EC4\u5934\u90E8\u7684\u63D2\u4EF6\u4F1A\u4F18\u5148\u6267\u884C\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { prependPlugins }) => {\n      // \u6DFB\u52A0\u5355\u4E2A\u63D2\u4EF6\n      prependPlugins(new PluginA());\n\n      // \u4EE5\u6570\u7EC4\u5F62\u5F0F\u6DFB\u52A0\u591A\u4E2A\u63D2\u4EF6\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"appendplugins-1",children:["appendPlugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#appendplugins-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(plugins: RspackPluginInstance | RspackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5185\u90E8 Rspack \u63D2\u4EF6\u6570\u7EC4\u5C3E\u90E8\u6DFB\u52A0\u989D\u5916\u7684\u63D2\u4EF6\uFF0C\u6570\u7EC4\u5C3E\u90E8\u7684\u63D2\u4EF6\u4F1A\u5728\u6700\u540E\u6267\u884C\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { appendPlugins }) => {\n      // \u6DFB\u52A0\u5355\u4E2A\u63D2\u4EF6\n      appendPlugins([new PluginA()]);\n\n      // \u4EE5\u6570\u7EC4\u5F62\u5F0F\u6DFB\u52A0\u591A\u4E2A\u63D2\u4EF6\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"removeplugin-1",children:["removePlugin",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugin-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(name: string) => void"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5220\u9664\u5185\u90E8\u7684 Rspack \u63D2\u4EF6\uFF0C\u53C2\u6570\u4E3A\u8BE5\u63D2\u4EF6\u7684 ",(0,r.jsx)(n.code,{children:"constructor.name"}),"\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4F8B\u5982\uFF0C\u5220\u9664\u5185\u90E8\u7684 ",(0,r.jsx)(n.a,{href:"https://github.com/webpack-contrib/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer",children:"webpack-bundle-analyzer"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { removePlugin }) => {\n      removePlugin('BundleAnalyzerPlugin');\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"mergeconfig-1",children:["mergeConfig",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergeconfig-1",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\uFF1A"})," ",(0,r.jsx)(n.code,{children:"(...configs: RspackConfig[]) => RspackConfig"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u7528\u4E8E\u5408\u5E76\u591A\u4EFD Rspack \u914D\u7F6E\uFF0C\u7B49\u4EF7\u4E8E ",(0,r.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { mergeConfig }) => {\n      return mergeConfig(config, {\n        devtool: 'eval',\n      });\n    },\n  },\n};\n"})})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["zh%2Fapi%2Fconfig-tools.mdx"]={toc:[{text:"tools.autoprefixer",id:"toolsautoprefixer",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B",depth:3},{text:"tools.babel",id:"toolsbabel",depth:2},{text:"\u4F7F\u7528\u573A\u666F",id:"\u4F7F\u7528\u573A\u666F",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-1",depth:3},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-1",depth:3},{text:"\u5DE5\u5177\u51FD\u6570",id:"\u5DE5\u5177\u51FD\u6570",depth:3},{text:"addPlugins",id:"addplugins",depth:4},{text:"addPresets",id:"addpresets",depth:4},{text:"removePlugins",id:"removeplugins",depth:4},{text:"removePresets",id:"removepresets",depth:4},{text:"modifyPresetEnvOptions",id:"modifypresetenvoptions",depth:4},{text:"modifyPresetReactOptions",id:"modifypresetreactoptions",depth:4},{text:"addIncludes",id:"addincludes",depth:4},{text:"addExcludes",id:"addexcludes",depth:4},{text:"\u8C03\u8BD5 Babel \u914D\u7F6E",id:"\u8C03\u8BD5-babel-\u914D\u7F6E",depth:3},{text:"tools.bundlerChain",id:"toolsbundlerchain",depth:2},{text:"tools.cssExtract",id:"toolscssextract",depth:2},{text:"tools.cssLoader",id:"toolscssloader",depth:2},{text:"tools.devServer",id:"toolsdevserver",depth:2},{text:"\u9009\u9879",id:"\u9009\u9879",depth:3},{text:"after",id:"after",depth:4},{text:"before",id:"before",depth:4},{text:"client",id:"client",depth:4},{text:"compress",id:"compress",depth:4},{text:"devMiddleware",id:"devmiddleware",depth:4},{text:"headers",id:"headers",depth:4},{text:"historyApiFallback",id:"historyapifallback",depth:4},{text:"hot",id:"hot",depth:4},{text:"https",id:"https",depth:4},{text:"liveReload",id:"livereload",depth:4},{text:"setupMiddlewares",id:"setupmiddlewares",depth:4},{text:"proxy",id:"proxy",depth:4},{text:"watch",id:"watch",depth:4},{text:"tools.htmlPlugin",id:"toolshtmlplugin",depth:2},{text:"\u7981\u7528 HTML",id:"\u7981\u7528-html",depth:3},{text:"\u7981\u7528 JS / CSS \u538B\u7F29",id:"\u7981\u7528-js--css-\u538B\u7F29",depth:3},{text:"tools.less",id:"toolsless",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-2",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-2",depth:3},{text:"\u4FEE\u6539 Less \u7248\u672C",id:"\u4FEE\u6539-less-\u7248\u672C",depth:3},{text:"\u5DE5\u5177\u51FD\u6570",id:"\u5DE5\u5177\u51FD\u6570-1",depth:3},{text:"addExcludes",id:"addexcludes-1",depth:4},{text:"tools.minifyCss",id:"toolsminifycss",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-3",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-3",depth:3},{text:"tools.postcss",id:"toolspostcss",depth:2},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-4",depth:3},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-4",depth:3},{text:"\u5DE5\u5177\u51FD\u6570",id:"\u5DE5\u5177\u51FD\u6570-2",depth:3},{text:"addPlugins",id:"addplugins-1",depth:4},{text:"tools.pug",id:"toolspug",depth:2},{text:"Boolean \u7C7B\u578B",id:"boolean-\u7C7B\u578B",depth:3},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-5",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-5",depth:3},{text:"tools.sass",id:"toolssass",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-6",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-6",depth:3},{text:"\u4FEE\u6539 Sass \u7248\u672C",id:"\u4FEE\u6539-sass-\u7248\u672C",depth:3},{text:"\u5DE5\u5177\u51FD\u6570",id:"\u5DE5\u5177\u51FD\u6570-3",depth:3},{text:"addExcludes",id:"addexcludes-2",depth:4},{text:"tools.styleLoader",id:"toolsstyleloader",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-7",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-7",depth:3},{text:"tools.styledComponents",id:"toolsstyledcomponents",depth:2},{text:"tools.terser",id:"toolsterser",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-8",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-8",depth:3},{text:"tools.tsLoader",id:"toolstsloader",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-9",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-9",depth:3},{text:"\u5DE5\u5177\u51FD\u6570",id:"\u5DE5\u5177\u51FD\u6570-4",depth:3},{text:"addIncludes",id:"addincludes-1",depth:4},{text:"addExcludes",id:"addexcludes-3",depth:4},{text:"tools.tsChecker",id:"toolstschecker",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-10",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-10",depth:3},{text:"tools.webpack",id:"toolswebpack",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-11",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-11",depth:3},{text:"\u5DE5\u5177\u96C6\u5408",id:"\u5DE5\u5177\u96C6\u5408",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"webpack",id:"webpack",depth:4},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:4},{text:"addRules",id:"addrules",depth:4},{text:"prependPlugins",id:"prependplugins",depth:4},{text:"appendPlugins",id:"appendplugins",depth:4},{text:"removePlugin",id:"removeplugin",depth:4},{text:"mergeConfig",id:"mergeconfig",depth:4},{text:"tools.webpackChain",id:"toolswebpackchain",depth:2},{text:"\u5DE5\u5177\u96C6\u5408",id:"\u5DE5\u5177\u96C6\u5408-1",depth:3},{text:"env",id:"env-1",depth:4},{text:"isProd",id:"isprod-1",depth:4},{text:"target",id:"target-1",depth:4},{text:"isServer",id:"isserver-1",depth:4},{text:"isWebWorker",id:"iswebworker-1",depth:4},{text:"webpack",id:"webpack-1",depth:4},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin-1",depth:4},{text:"CHAIN_ID",id:"chain_id",depth:4},{text:"CHAIN_ID.RULE",id:"chain_idrule",depth:4},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of",depth:4},{text:"CHAIN_ID.USE",id:"chain_iduse",depth:4},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin",depth:4},{text:"CHAIN_ID.MINIMIZER",id:"chain_idminimizer",depth:4},{text:"\u4F7F\u7528\u793A\u4F8B",id:"\u4F7F\u7528\u793A\u4F8B",depth:3},{text:"tools.rspack",id:"toolsrspack",depth:2},{text:"Object \u7C7B\u578B",id:"object-\u7C7B\u578B-12",depth:3},{text:"Function \u7C7B\u578B",id:"function-\u7C7B\u578B-12",depth:3},{text:"\u5DE5\u5177\u96C6\u5408",id:"\u5DE5\u5177\u96C6\u5408-2",depth:3},{text:"env",id:"env-2",depth:4},{text:"isProd",id:"isprod-2",depth:4},{text:"target",id:"target-2",depth:4},{text:"isServer",id:"isserver-2",depth:4},{text:"isWebWorker",id:"iswebworker-2",depth:4},{text:"rspack",id:"rspack",depth:4},{text:"addRules",id:"addrules-1",depth:4},{text:"prependPlugins",id:"prependplugins-1",depth:4},{text:"appendPlugins",id:"appendplugins-1",depth:4},{text:"removePlugin",id:"removeplugin-1",depth:4},{text:"mergeConfig",id:"mergeconfig-1",depth:4}],title:"Tools Config",frontmatter:{extractApiHeaders:[2]}}}}]);