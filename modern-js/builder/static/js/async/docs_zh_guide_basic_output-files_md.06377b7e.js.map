{"version":3,"file":"static/js/async/docs_zh_guide_basic_output-files_md.06377b7e.js","sources":["./docs/zh/guide/basic/output-files.md"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguide%2Fbasic%2Foutput-files.md\"] = {\"toc\":[{\"text\":\"默认产物目录\",\"id\":\"默认产物目录\",\"depth\":2},{\"text\":\"修改产物目录\",\"id\":\"修改产物目录\",\"depth\":2},{\"text\":\"静态资源\",\"id\":\"静态资源\",\"depth\":2},{\"text\":\"Node.js 产物目录\",\"id\":\"nodejs-产物目录\",\"depth\":2},{\"text\":\"扁平化产物目录\",\"id\":\"扁平化产物目录\",\"depth\":2},{\"text\":\"产物不写入磁盘\",\"id\":\"产物不写入磁盘\",\"depth\":2}],\"title\":\"构建产物目录\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        h2: \"h2\",\n        code: \"code\",\n        pre: \"pre\",\n        ul: \"ul\",\n        li: \"li\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"构建产物目录\">{\"构建产物目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#构建产物目录\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"本章节主要介绍构建产物的目录结构，以及如何控制不同类型产物的输出目录。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"默认产物目录\">{\"默认产物目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#默认产物目录\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"下面是最基础的产物目录结构，默认情况下，构建产物会生成在当前项目的 \"}<_components.code>{\"dist\"}</_components.code>{\" 目录下。\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"dist\\n├── static\\n│   ├── css\\n│   │   ├── [name].[hash].css\\n│   │   └── [name].[hash].css.map\\n│   │\\n│   └── js\\n│       ├── [name].[hash].js\\n│       ├── [name].[hash].js.LICENSE.txt\\n│       └── [name].[hash].js.map\\n│\\n└── html\\n    └── [name]\\n        └── index.html\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"最常见的产物是 HTML 文件、JS 文件和 CSS 文件：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"HTML 文件：默认输出到 \"}<_components.code>{\"html\"}</_components.code>{\" 目录。\"}</_components.li>{\"\\n\"}<_components.li>{\"JS 文件：默认输出到 \"}<_components.code>{\"static/js\"}</_components.code>{\" 目录，\"}</_components.li>{\"\\n\"}<_components.li>{\"CSS 文件：默认输出到 \"}<_components.code>{\"static/css\"}</_components.code>{\" 目录。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"此外，JS 文件和 CSS 文件有时候会生成一些相关产物：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"License 文件：包含开源许可证信息，默认输出到 JS 文件的同级目录，并添加 \"}<_components.code>{\".LICENSE.txt\"}</_components.code>{\" 后缀。\"}</_components.li>{\"\\n\"}<_components.li>{\"Source Map 文件：包含保存源代码映射关系，默认输出到 JS 文件和 CSS 文件的同级目录，并添加 \"}<_components.code>{\".map\"}</_components.code>{\" 后缀。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"在产物的文件名称中，\"}<_components.code>{\"[name]\"}</_components.code>{\" 表示这个文件对应的入口名称，比如 \"}<_components.code>{\"index\"}</_components.code>{\", \"}<_components.code>{\"main\"}</_components.code>{\"。\"}<_components.code>{\"[hash]\"}</_components.code>{\" 则是基于该文件的内容生成的哈希值。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"修改产物目录\">{\"修改产物目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#修改产物目录\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Builder 提供了多个配置项来修改产物目录和产物名称，你可以：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"通过 \"}<_components.a href=\"/api/config-output#outputfilename\">{\"output.filename\"}</_components.a>{\" 来修改产物的文件名。\"}</_components.li>{\"\\n\"}<_components.li>{\"通过 \"}<_components.a href=\"/api/config-output#outputdistpath\">{\"output.distPath\"}</_components.a>{\" 来修改产物的输出路径。\"}</_components.li>{\"\\n\"}<_components.li>{\"通过 \"}<_components.a href=\"/api/config-output#outputlegalcomments\">{\"output.legalComments\"}</_components.a>{\" 来修改 License 文件的生成方式。\"}</_components.li>{\"\\n\"}<_components.li>{\"通过 \"}<_components.a href=\"/api/config-output#outputdisablesourcemap\">{\"output.disableSourceMap\"}</_components.a>{\" 来移除 Source Map 文件。\"}</_components.li>{\"\\n\"}<_components.li>{\"通过 \"}<_components.a href=\"/api/config-html#htmldisablehtmlfolder\">{\"html.disableHtmlFolder\"}</_components.a>{\" 移除 HTML 产物对应的文件夹。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"静态资源\">{\"静态资源\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#静态资源\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"当你在代码中引用图片、SVG、字体、媒体等类型的静态资源时，它们也会被输出到 \"}<_components.code>{\"dist/static\"}</_components.code>{\" 目录下，并根据静态资源类型来自动分配到对应的子目录：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"dist\\n└── static\\n    ├── image\\n    │   └── foo.[hash].png\\n    │\\n    ├── svg\\n    │   └── bar.[hash].svg\\n    │\\n    ├── font\\n    │   └── baz.[hash].woff2\\n    │\\n    └── media\\n        └── qux.[hash].mp4\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"你可以通过 \"}<_components.a href=\"/api/config-output#outputdistpath\">{\"output.distPath\"}</_components.a>{\" 配置项将这些静态资源统一输入到单个目录下，比如输出到 \"}<_components.code>{\"assets\"}</_components.code>{\" 目录：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default {\\n  output: {\\n    distPath: {\\n      image: 'assets',\\n      svg: 'assets',\\n      font: 'assets',\\n      media: 'assets',\\n    },\\n  },\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"上方的配置会生成以下目录结构：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"dist\\n└── assets\\n    ├── foo.[hash].png\\n    ├── bar.[hash].svg\\n    ├── baz.[hash].woff2\\n    └── qux.[hash].mp4\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"nodejs-产物目录\">{\"Node.js 产物目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#nodejs-产物目录\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"当 Builder 的 \"}<_components.a href=\"/guide/basic/build-target\">{\"构建产物类型\"}</_components.a>{\" 中包含 \"}<_components.code>{\"'node'\"}</_components.code>{\"，或者你在上层框架中开启了 SSR 等服务端功能时，Builder 会在构建后生成一份 Node.js 产物，并输出到 \"}<_components.code>{\"bundles\"}</_components.code>{\" 目录下：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"dist\\n├── bundles\\n│   └── [name].js\\n├── static\\n└── html\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"Node.js 产物通常只包含 JS 文件，不包含 HTML、CSS 等文件。此外，Node 产物的 JS 文件名称也不会自动生成哈希值。\"}</_components.p>{\"\\n\"}<_components.p>{\"你可以通过 \"}<_components.a href=\"/api/config-output#outputdistpath\">{\"output.distPath.server\"}</_components.a>{\" 配置项来修改 Node 产物的输出路径。\"}</_components.p>{\"\\n\"}<_components.p>{\"比如，将 Node.js 产物输出到 \"}<_components.code>{\"server\"}</_components.code>{\" 目录：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default {\\n  output: {\\n    distPath: {\\n      server: 'server',\\n    },\\n  },\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"扁平化产物目录\">{\"扁平化产物目录\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#扁平化产物目录\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"有时候你不想产物目录有太多层级，可以将目录设置为空字符串，使生成的产物目录扁平化。\"}</_components.p>{\"\\n\"}<_components.p>{\"参考下方的例子：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default {\\n  output: {\\n    distPath: {\\n      js: '',\\n      css: '',\\n      html: '',\\n    },\\n    disableHtmlFolder: true,\\n  },\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"上方的配置会生成以下目录结构：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"dist\\n├── [name].[hash].css\\n├── [name].[hash].css.map\\n├── [name].[hash].js\\n├── [name].[hash].js.map\\n└── [name].html\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"产物不写入磁盘\">{\"产物不写入磁盘\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#产物不写入磁盘\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"默认情况下，Builder 会将构建产物写入磁盘，以方便开发者查看产物的内容，或是配置静态资源的代理规则。\"}</_components.p>{\"\\n\"}<_components.p>{\"在开发环境，你可以选择将构建产物保存在 Dev Server 的内存中，从而减少文件操作产生的开销。\"}</_components.p>{\"\\n\"}<_components.p>{\"将 \"}<_components.code>{\"dev.writeToDisk\"}</_components.code>{\" 配置项设置为 \"}<_components.code>{\"false\"}</_components.code>{\" 即可：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"export default {\\n  dev: {\\n    writeToDisk: false,\\n  },\\n};\\n\"}</_components.code></_components.pre></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","h2","code","pre","ul","li","components","id","className","href","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}