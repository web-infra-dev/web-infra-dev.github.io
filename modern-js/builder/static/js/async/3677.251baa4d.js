(self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).push([["3677"],{98868:function(e,n,i){"use strict";e.exports="data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z' fill='%23cccccc'/%3E%3Cpath d='M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z' fill='%23cccccc'/%3E%3C/svg%3E"},45038:function(e,n,i){"use strict";e.exports="data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m13 24l-9-9l1.41-1.41L13 21.17L26.59 7.59L28 9L13 24z' fill='%2360c054'/%3E%3C/svg%3E"},66214:function(e,n,i){"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='%2360c054' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath stroke='none' d='M0 0h24v24H0z' fill='none'%3E%3C/path%3E%3Cpath d='M4 6l16 0'%3E%3C/path%3E%3Cpath d='M4 18l5 0'%3E%3C/path%3E%3Cpath d='M4 12h13a3 3 0 0 1 0 6h-4l2 -2m0 4l-2 -2'%3E%3C/path%3E%3C/svg%3E"},27529:function(e,n,i){"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' stroke-width='2' stroke='%23cccccc' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath stroke='none' d='M0 0h24v24H0z' fill='none'%3E%3C/path%3E%3Cpath d='M4 6l10 0'%3E%3C/path%3E%3Cpath d='M4 18l10 0'%3E%3C/path%3E%3Cpath d='M4 12h17l-3 -3m0 6l3 -3'%3E%3C/path%3E%3C/svg%3E"},19074:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return o}});var r=i("9880"),d=i("23169"),s=i("67088");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",h2:"h2",h3:"h3",pre:"pre",strong:"strong"},(0,d.useMDXComponents)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"use-builder-cli",children:["Use Builder CLI",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-builder-cli",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Modern.js Builder provides a lightweight CLI tool that includes basic commands such as ",(0,r.jsx)(n.code,{children:"dev"})," and ",(0,r.jsx)(n.code,{children:"build"}),". It is primarily used for building non-React projects."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For React projects, we recommend using the Modern.js framework directly. Please refer to ",(0,r.jsx)(n.a,{href:"https://modernjs.dev/en/guides/get-started/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - Quick Start"})," for more information."]}),"\n",(0,r.jsx)(n.li,{children:"For non-React projects, such as developing a Vue project, you can use the Builder CLI tool to build your project."}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"install",children:["Install",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"You need to install two packages:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@modern-js/builder-cli"}),": the CLI tool for Builder, providing basic CLI commands and automatically loading the installed Provider in the current project."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),": To provide the building capabilities based on Rspack."]}),"\n"]}),"\n","\n",(0,r.jsx)(s.PackageManagerTabs,{command:"add @modern-js/builder-cli @modern-js/builder-rspack-provider -D"}),"\n",(0,r.jsxs)(n.p,{children:["if you want to use webpack instead of Rspack, you can replace the ",(0,r.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"})," with ",(0,r.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"}),":"]}),"\n",(0,r.jsxs)(n.h2,{id:"commands",children:["Commands",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commands",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Builder CLI provides the following commands to help you quickly start a development server, build production-ready code, and more."}),"\n",(0,r.jsxs)(n.h3,{id:"builder-dev",children:["builder dev",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-dev",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"builder dev"})," command is used to start a local development server and compile the source code in the development environment."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Usage: builder dev [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"builder-build",children:["builder build",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-build",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"builder build"})," command will build the outputs for production in the ",(0,r.jsx)(n.code,{children:"dist/"})," directory by default."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Usage: builder build [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"builder-serve",children:["builder serve",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-serve",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"builder serve"})," command is used to preview the production build outputs locally. Note that you need to execute the ",(0,r.jsx)(n.code,{children:"builder build"})," command beforehand to generate the corresponding outputs."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Usage: builder serve [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"configuration",children:["Configuration",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuration",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Builder CLI will read the ",(0,r.jsx)(n.code,{children:"builder.config.ts"})," configuration file located in the root directory of your project by default. You can use ",(0,r.jsx)(n.a,{href:"/api/index",children:"all the configuration options"})," provided by Builder in the configuration file."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="builder.config.ts"',children:"import { defineConfig } from '@modern-js/builder-cli';\n\nexport default defineConfig({\n  output: {\n    disableTsChecker: true,\n  },\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["When you use Rspack as the bundler, there are some differences in configuration types between webpack and Rspack. Therefore, you need to specify the ",(0,r.jsx)(n.code,{children:"'rspack'"})," generic for ",(0,r.jsx)(n.code,{children:"defineConfig"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-diff",meta:'title="builder.config.ts"',children:"- export default defineConfig({\n+ export default defineConfig<'rspack'>({\n  // ...\n});\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"build-entry",children:["Build Entry",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build-entry",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["By default, Builder CLI uses ",(0,r.jsx)(n.code,{children:"src/index.(js|ts|jsx|tsx)"})," as the build entry. You can modify the build entry using the ",(0,r.jsx)(n.code,{children:"source.entries"})," configuration option."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type Entries = Record<string, string>;\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const defaultEntry = {\n  index: 'src/index.(js|ts|jsx|tsx)',\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="builder.config.ts"',children:"import { defineConfig } from '@modern-js/builder-cli';\n\nexport default defineConfig({\n  source: {\n    entries: {\n      foo: './src/pages/foo/index.ts',\n      bar: './src/pages/bar/index.ts',\n    },\n  },\n});\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"registering-plugins",children:["Registering Plugins",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#registering-plugins",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["You can register Builder plugins using the ",(0,r.jsx)(n.code,{children:"builderPlugins"})," option in ",(0,r.jsx)(n.code,{children:"builder.config.ts"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"For example, to register a Vue plugin:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="builder.config.ts"',children:"import { defineConfig } from '@modern-js/builder-cli';\nimport { builderPluginVue } from '@modern-js/builder-plugin-vue';\n\nexport default defineConfig({\n  builderPlugins: [builderPluginVue()],\n});\n"})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.useMDXComponents)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}var o=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["en%2Fguide%2Fbasic%2Fbuilder-cli.mdx"]={toc:[{text:"Install",id:"install",depth:2},{text:"Commands",id:"commands",depth:2},{text:"builder dev",id:"builder-dev",depth:3},{text:"builder build",id:"builder-build",depth:3},{text:"builder serve",id:"builder-serve",depth:3},{text:"Configuration",id:"configuration",depth:2},{text:"Build Entry",id:"build-entry",depth:2},{text:"Registering Plugins",id:"registering-plugins",depth:2}],title:"Use Builder CLI",frontmatter:{}}}}]);