<!doctype html><html  lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title data-rh="true">异常类问题 - Modern.js Builder</title><meta data-rh="true" name="description" content="基于 Rspack 的 Web 构建工具"/>
<script id="check-dark-light">
;(() => {
  const saved = localStorage.getItem('rspress-theme-appearance')
  const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches
  if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {
    document.documentElement.classList.add('dark')
  }
})()
</script>
<link rel="icon" href="https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/logo-1x-0104.png"><script defer="defer">!function(){var s,t,a,c,e,n,i,j,r,l,o,f,d,y={},u={};function b(s){var t=u[s];if(void 0!==t)return t.exports;var a=u[s]={id:s,loaded:!1,exports:{}};return y[s](a,a.exports,b),a.loaded=!0,a.exports}b.m=y,b.es=function(s,t){return Object.keys(s).forEach((function(a){"default"!==a&&!Object.prototype.hasOwnProperty.call(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:function(){return s[a]}})})),s},s={10165:["5293","8256","lib-lodash","lib-polyfill"],10851:["7890"],11086:["8195"],11165:["5293","8283","lib-lodash","lib-polyfill"],11958:["2301"],12904:["6475"],13027:["2690"],13416:["5052"],14910:["6520"],15238:["5585"],15598:["1651"],16276:["5293","6241","lib-lodash","lib-polyfill"],16421:["1721","8849"],16998:["5293","8140","lib-lodash","lib-polyfill"],1764:["4719"],18025:["1721","6866"],18731:["7420"],1875:["7298"],19748:["181"],20127:["1721","5002"],2087:["1721","6893"],21461:["6227"],21527:["387"],22774:["359"],2458:["1965"],25910:["6293"],26116:["5293","5465","lib-lodash","lib-polyfill"],26869:["6781"],2751:["5120"],27790:["7313"],28508:["8316"],28864:["3573"],28937:["5683"],29443:["5383"],29819:["9914"],30272:["2276"],31261:["1721","6441"],31273:["1008"],33835:["8201"],34564:["1721","2441","5293","lib-lodash","lib-polyfill"],3532:["2271"],35402:["2730"],37550:["1721","3942"],38607:["1721","930"],4075:["2060"],41542:["5293","8438","lib-lodash","lib-polyfill"],44255:["8268"],45036:["147"],45454:["9449"],45910:["5293","7813","lib-lodash","lib-polyfill"],46012:["1118"],46557:["3535"],46815:["1721","5437"],50389:["1721","8819"],50438:["5866"],51149:["3228","5293","lib-lodash","lib-polyfill"],51152:["9106"],51538:["5315"],51929:["7389"],52765:["2408","5293","lib-lodash","lib-polyfill"],55316:["444"],55607:["699"],57610:["1721","5293","7003","lib-lodash","lib-polyfill"],57785:["1721","7423"],5842:["7962"],5877:["9921"],58953:["504"],59366:["690"],59448:["1939"],59581:["2654"],59683:["9629"],60508:["5293","7657","lib-lodash","lib-polyfill"],60649:["2074"],61730:["7571"],65896:["5838"],69108:["4282"],69230:["5761"],69281:["2630"],6944:["3538"],69829:["1721","9758"],71358:["5293","9526","lib-lodash","lib-polyfill"],72971:["7858"],73131:["1493"],73844:["924"],748:["6113"],76520:["9026"],76884:["9900"],76973:["7322"],77540:["1721","5614"],78024:["1721","2469"],78752:["4894","5293","lib-lodash","lib-polyfill"],79284:["5293","8130","lib-lodash","lib-polyfill"],79499:["9531"],80846:["2875","5293","lib-lodash","lib-polyfill"],81222:["6505"],81717:["8073"],8216:["614"],82892:["1479","1721"],83102:["7269"],8535:["4216"],85793:["8603"],86148:["1427"],86528:["772"],87707:["1721","3472"],88226:["75"],88918:["1799","5293","lib-lodash","lib-polyfill"],89674:["8297"],91087:["1721","6544"],92027:["8515"],92300:["1721","2515"],92544:["6006"],92583:["7494"],93034:["5293","8587","lib-lodash","lib-polyfill"],94364:["5848"],94506:["3815"],95217:["9509"],95780:["5910"],95923:["4467"],96783:["1513","1721"],97131:["5374"],99106:["6514"],99563:["3993"]},b.el=function(t){var a=s[t];return void 0===a?Promise.resolve():a.length>1?Promise.all(a.map(b.e)):b.e(a[0])},b.f={},b.e=function(s){return Promise.all(Object.keys(b.f).reduce((function(t,a){return b.f[a](s,t),t}),[]))},b.p="/builder/",b.u=function(s){return{1008:"static/js/async/1008.a4fcc1b3.js",1118:"static/js/async/1118.4cd2961f.js",1427:"static/js/async/1427.ea6a06b8.js",147:"static/js/async/147.fd896f08.js",1479:"static/js/async/1479.ab54cd35.js",1493:"static/js/async/1493.30a7862f.js",1513:"static/js/async/1513.d8f2d86a.js",1651:"static/js/async/1651.37223120.js",1721:"static/js/async/1721.cac06efb.js",1799:"static/js/async/1799.dd2745f0.js",181:"static/js/async/181.dc107277.js",1939:"static/js/async/1939.da33e381.js",1965:"static/js/async/1965.6cf23cd6.js",2060:"static/js/async/2060.fffd93ac.js",2074:"static/js/async/2074.aac4e967.js",2271:"static/js/async/2271.5f323c38.js",2276:"static/js/async/2276.c363ccee.js",2301:"static/js/async/2301.15c873d8.js",2408:"static/js/async/2408.13d85e44.js",2441:"static/js/async/2441.b9c2718e.js",2469:"static/js/async/2469.71cf9cfd.js",2515:"static/js/async/2515.55300864.js",2630:"static/js/async/2630.d15d7730.js",2654:"static/js/async/2654.1b6c6127.js",2690:"static/js/async/2690.1acb7490.js",2730:"static/js/async/2730.3e233f4f.js",2875:"static/js/async/2875.6c40595f.js",3228:"static/js/async/3228.33d6c3b9.js",3472:"static/js/async/3472.a3d7697e.js",3535:"static/js/async/3535.d097feb7.js",3538:"static/js/async/3538.2e5d8835.js",3573:"static/js/async/3573.b10ae82b.js",359:"static/js/async/359.3e1921b3.js",3815:"static/js/async/3815.84dbc1a8.js",387:"static/js/async/387.311fabf6.js",3942:"static/js/async/3942.b23735f3.js",3993:"static/js/async/3993.94fda2a8.js",4216:"static/js/async/4216.fd0059a3.js",4282:"static/js/async/4282.88340815.js",444:"static/js/async/444.7f6b74c8.js",4467:"static/js/async/4467.c1247568.js",4719:"static/js/async/4719.ef0a41fb.js",4894:"static/js/async/4894.ca5c2fca.js",5002:"static/js/async/5002.c41c477f.js",504:"static/js/async/504.3e46a91f.js",5052:"static/js/async/5052.c7258a5d.js",5120:"static/js/async/5120.525bd6ac.js",5315:"static/js/async/5315.9000eabc.js",5374:"static/js/async/5374.2485d789.js",5383:"static/js/async/5383.402aacfd.js",5437:"static/js/async/5437.833d6186.js",5465:"static/js/async/5465.61368c3d.js",5585:"static/js/async/5585.59ab83c1.js",5614:"static/js/async/5614.d5d0c015.js",5683:"static/js/async/5683.c02ff617.js",5761:"static/js/async/5761.f1578751.js",5838:"static/js/async/5838.1fc00ae4.js",5848:"static/js/async/5848.9f69e0fe.js",5866:"static/js/async/5866.ef02abe8.js",5910:"static/js/async/5910.2a5a7c02.js",6006:"static/js/async/6006.028c9d8b.js",6113:"static/js/async/6113.4d29a0cd.js",614:"static/js/async/614.3af3d7fc.js",6227:"static/js/async/6227.46d4b963.js",6241:"static/js/async/6241.45f056c6.js",6293:"static/js/async/6293.077e0a3b.js",6441:"static/js/async/6441.f876d2eb.js",6475:"static/js/async/6475.bbf8ddbe.js",6505:"static/js/async/6505.32ebcb4d.js",6514:"static/js/async/6514.f9a57ad7.js",6520:"static/js/async/6520.80309756.js",6544:"static/js/async/6544.0e06640d.js",6781:"static/js/async/6781.f82da115.js",6866:"static/js/async/6866.39e43bd0.js",6893:"static/js/async/6893.4e556900.js",690:"static/js/async/690.8358337a.js",699:"static/js/async/699.f1c96cd4.js",7003:"static/js/async/7003.8705a069.js",7269:"static/js/async/7269.7e0efdc4.js",7298:"static/js/async/7298.d6e4d385.js",7313:"static/js/async/7313.53d08e46.js",7322:"static/js/async/7322.80286f15.js",7389:"static/js/async/7389.16b06fa8.js",7420:"static/js/async/7420.7a2dc293.js",7423:"static/js/async/7423.982590af.js",7494:"static/js/async/7494.5e932695.js",75:"static/js/async/75.1965fe2b.js",7571:"static/js/async/7571.4b9134e6.js",7657:"static/js/async/7657.45541b36.js",772:"static/js/async/772.b9c55bee.js",7813:"static/js/async/7813.5de33c4f.js",7858:"static/js/async/7858.b7a61f40.js",7890:"static/js/async/7890.00132d8b.js",7962:"static/js/async/7962.e40d6d76.js",8073:"static/js/async/8073.f1123b7e.js",8130:"static/js/async/8130.31225bfd.js",8140:"static/js/async/8140.53640fb3.js",8195:"static/js/async/8195.4c080df0.js",8201:"static/js/async/8201.a68236d7.js",8256:"static/js/async/8256.5ca5f102.js",8268:"static/js/async/8268.7fbb19e1.js",8283:"static/js/async/8283.5be81711.js",8297:"static/js/async/8297.9e3565ed.js",8316:"static/js/async/8316.f34fc4b2.js",8438:"static/js/async/8438.44e09923.js",8515:"static/js/async/8515.52deff86.js",8587:"static/js/async/8587.816e5a64.js",8603:"static/js/async/8603.b791b8ed.js",8819:"static/js/async/8819.37b28352.js",8849:"static/js/async/8849.d6298510.js",9026:"static/js/async/9026.f4a03cfc.js",9106:"static/js/async/9106.6a9cdfb5.js",924:"static/js/async/924.c32db0f1.js",930:"static/js/async/930.c2b32619.js",9449:"static/js/async/9449.642300b4.js",9509:"static/js/async/9509.c7155a59.js",9526:"static/js/async/9526.7a200b30.js",9531:"static/js/async/9531.9f29ee97.js",9629:"static/js/async/9629.bd193d40.js",9758:"static/js/async/9758.f84ac7f6.js",9900:"static/js/async/9900.574386a3.js",9914:"static/js/async/9914.c2ed391a.js",9921:"static/js/async/9921.b3b0a398.js"}[s]},b.k=function(s){return{1721:"static/css/async/1721.b611428b.css"}[s]},t={},b.l=function(s,a,c,e){if(t[s])t[s].push(a);else{if(void 0!==c)for(var n,i,j=document.getElementsByTagName("script"),r=0;r<j.length;r++){var l=j[r];if(l.getAttribute("src")==s){n=l;break}}!n&&(i=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,n.src=s),t[s]=[a];var o=function(a,c){n.onerror=n.onload=null,clearTimeout(f);var e=t[s];if(delete t[s],n.parentNode&&n.parentNode.removeChild(n),e&&e.forEach((function(s){return s(c)})),a)return a(c)},f=setTimeout(o.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=o.bind(null,n.onerror),n.onload=o.bind(null,n.onload),i&&document.head.appendChild(n)}},b.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},a=[],b.O=function(s,t,c,e){if(!t){var n=1/0;for(l=0;l<a.length;l++){t=a[l][0],c=a[l][1],e=a[l][2];for(var i=!0,j=0;j<t.length;j++)n>=e&&Object.keys(b.O).every((function(s){return b.O[s](t[j])}))?t.splice(j--,1):(i=!1,e<n&&(n=e));if(i){a.splice(l--,1);var r=c()}}return r}e=e||0;for(var l=a.length;l>0&&a[l-1][2]>e;l--)a[l]=a[l-1];a[l]=[t,c,e]},b.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(s){if("object"==typeof window)return window}}(),b.d=function(s,t){for(var a in t)b.o(t,a)&&!b.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:t[a]})},b.r=function(s){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},b.n=function(s){return s&&s.__esModule?s.default:s},e=Object.getPrototypeOf?function(s){return Object.getPrototypeOf(s)}:function(s){return s.__proto__},b.t=function(s,t){if(1&t&&(s=this(s)),8&t||"object"==typeof s&&s&&(4&t&&s.__esModule||16&t&&"function"==typeof s.then))return s;var a=Object.create(null);b.r(a);var n={};c=c||[null,e({}),e([]),e(e)];for(var i=2&t&&s;"object"==typeof i&&!~c.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach((function(t){n[t]=function(){return s[t]}}));return n.default=function(){return s},b.d(a,n),a},b.nmd=function(s){return s.paths=[],!s.children&&(s.children=[]),s},n={"builder-runtime":0,"lib-lodash":0,"lib-polyfill":0,"lib-react":0,"lib-router":0,main:0},i="webpack",j="data-webpack-loading",r=function(s,t,a,c){var e,n,r="chunk-"+s;if(!c){for(var l=document.getElementsByTagName("link"),o=0;o<l.length;o++){var f=l[o],d=f.getAttribute("href")||f.href;if(d&&!d.startsWith(b.p)&&(d=b.p+(d.startsWith("/")?d.slice(1):d)),"stylesheet"==f.rel&&(d&&d.startsWith(t)||f.getAttribute("data-webpack")==i+":"+r)){e=f;break}}if(!a)return e}!e&&(n=!0,(e=document.createElement("link")).setAttribute("data-webpack",i+":"+r),e.setAttribute(j,1),e.rel="stylesheet",e.href=t);var y=function(s,t){if(e.onerror=e.onload=null,e.removeAttribute(j),clearTimeout(u),t&&"load"!=t.type&&e.parentNode.removeChild(e),a(t),s)return s(t)};if(e.getAttribute(j)){var u=setTimeout(y.bind(null,void 0,{type:"timeout",target:e}),12e4);e.onerror=y.bind(null,e.onerror),e.onload=y.bind(null,e.onload)}else y(void 0,{type:"load",target:e});return c?c.parentNode.insertBefore(e,c):n&&document.head.appendChild(e),e},b.f.css=function(s,t){var a=b.o(n,s)?n[s]:void 0;if(0!==a)if(a)t.push(a[2]);else if(["1721","5293"].indexOf(s)>-1){var c=new Promise((function(t,c){a=n[s]=[t,c]}));t.push(a[2]=c);var e=b.p+b.k(s),i=Error();r(s,e,(function(t){if(b.o(n,s)&&(0!==(a=n[s])&&(n[s]=void 0),a))if("load"!==t.type){var c=t&&t.type,e=t&&t.target&&t.target.src;i.message="Loading css chunk "+s+" failed.\n("+c+": "+e+")",i.name="ChunkLoadError",i.type=c,i.request=e,a[1](i)}else a[0]()}))}else n[s]=0},(l=self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).push=function(s,t){var a=t[0];s&&s(t);for(var c=0;c<a.length;c++)void 0===n[a[c]]&&(n[a[c]]=0)}.bind(null,l.push.bind(l)),o={"builder-runtime":0},b.f.j=function(s,t){var a=b.o(o,s)?o[s]:void 0;if(0!==a)if(a)t.push(a[2]);else if(["1008","1118","1427","147","1479","1493","1513","1651","1721","1799","181","1939","1965","2060","2074","2271","2276","2301","2408","2441","2469","2515","2630","2654","2690","2730","2875","3228","3472","3535","3538","3573","359","3815","387","3942","3993","4216","4282","444","4467","4719","4894","5002","504","5052","5120","5293","5315","5374","5383","5437","5465","5585","5614","5683","5761","5838","5848","5866","5910","6006","6113","614","6227","6241","6293","6441","6475","6505","6514","6520","6544","6781","6866","6893","690","699","7003","7269","7298","7313","7322","7389","7420","7423","7494","75","7571","7657","772","7813","7858","7890","7962","8073","8130","8140","8195","8201","8256","8268","8283","8297","8316","8438","8515","8587","8603","8819","8849","9026","9106","924","930","9449","9509","9526","9531","9629","9758","9900","9914","9921","lib-lodash","lib-polyfill","lib-react","lib-router","main"].indexOf(s)>-1){var c=new Promise((function(t,c){a=o[s]=[t,c]}));t.push(a[2]=c);var e=b.p+b.u(s),n=Error();b.l(e,(function(t){if(b.o(o,s)&&(0!==(a=o[s])&&(o[s]=void 0),a)){var c=t&&("load"===t.type?"missing":t.type),e=t&&t.target&&t.target.src;n.message="Loading chunk "+s+" failed.\n("+c+": "+e+")",n.name="ChunkLoadError",n.type=c,n.request=e,a[1](n)}}),"chunk-"+s,s)}else o[s]=0},b.O.j=function(s){return 0===o[s]},f=function(s,t){var a,c,e=t[0],n=t[1],i=t[2],j=0;if(e.some((function(s){return 0!==o[s]}))){for(a in n)b.o(n,a)&&(b.m[a]=n[a]);if(i)var r=i(b)}for(s&&s(t);j<e.length;j++)c=e[j],b.o(o,c)&&o[c]&&o[c][0](),o[c]=0;return b.O(r)},(d=self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).forEach(f.bind(null,0)),d.push=f.bind(null,d.push.bind(d))}()</script><script defer="defer" src="/builder/static/js/lib-lodash.8df6ad3e.js"></script><script defer="defer" src="/builder/static/js/lib-polyfill.dc934080.js"></script><script defer="defer" src="/builder/static/js/lib-react.db2b46c7.js"></script><script defer="defer" src="/builder/static/js/lib-router.3a8011a8.js"></script><script defer="defer" src="/builder/static/js/5293.4f701672.js"></script><script defer="defer" src="/builder/static/js/main.082aea47.js"></script><link href="/builder/static/css/5293.ec4b655e.css" rel="stylesheet"></head><body ><div id="root"><div><header class="top-0 left-0 md:fixed w-full" style="z-index:var(--rp-z-index-nav);background:var(--rp-c-bg)"><div class="navContainer_47ac2 rspress-nav px-6"><div class="container_47ac2 flex justify-between items-center h-full"><div class="undefined"><a href="/builder/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><span>Modern.js Builder</span></a></div><div class="undefined flex flex-1 justify-end items-center"><div class="rightNav_47ac2"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="navSearchButton_f619e"><button><svg width="18" height="24" viewBox="0 0 32 32" hight="18"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg><p class="searchWord_f619e">Search Docs</p><div><span>⌘</span><span>K</span></div></button></div><div class="mobileNavSearchButton_f619e"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a class="link_b3367  cursor-pointer" target="" href="/builder/guide/introduction.html"><div class="singleItem_47ac2 activeItem_47ac2 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">指南</div></a><a class="link_b3367  cursor-pointer" target="" href="/builder/api/index.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">API</div></a><a class="link_b3367  cursor-pointer" target="" href="/builder/plugins/introduction.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">插件</div></a></div><div class="flex-center flex-row"><div class="translation menu-item_47ac2 flex text-sm font-bold items-center px-3 py-2"><div><div class="relative flex-center h-14"><button class="nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px"><svg width="18" height="18" viewBox="0 0 32 32" style="with:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:2rem;background:var(--rp-c-bg)"><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">简体中文</span></div></div><div><div class="font-medium my-1"><a class="link_b3367  cursor-pointer" target="" href="/builder/en/guide/faq/exceptions.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"></path></svg></div></div></div><div class="social-links menu-item_8cbd0 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_8cbd0"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div></div><div class="mobileNavMenu_47ac2"><div class="navScreen_8624f " id="navScreen"><div class="container_8624f"><div class="navMenu_8624f"><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/builder/guide/introduction.html"><div class="singleItem_47ac2 activeItem_47ac2 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">指南</div></a></div><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/builder/api/index.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">API</div></a></div><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/builder/plugins/introduction.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">插件</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_8624f flex justify-center"></div><div class="undefined flex text-sm font-bold justify-center"><div class="mx-1.5 my-1"><div class=" navScreenMenuGroup_de8a5 relative"><button class="button_de8a5"><span class="buttonSpan_de8a5"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_de8a5 "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_de8a5"><div><div class="p-1"><span class="text-brand">简体中文</span></div></div><div><div class="py-1 font-medium"><a class="link_b3367  cursor-pointer" target="" href="/builder/en.html"><div><div class="flex justify-center"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="social-links menu-item_8cbd0 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_8cbd0"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div></div></div><button class=" navHamburger_2498a text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div></header><section><div class="docLayout_feeda pt-0"><div class="rspress-sidebar-menu"><button class="flex-center"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button></div><aside class="sidebar_74484 rspress-sidebar "><div class="mt-1 sidebarContent_74484"><div class="rspress-scrollbar" style="max-height:calc(100vh - var(--rp-nav-height) - 8px);overflow:scroll"><nav class="pb-2"><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">开始</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/introduction.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">介绍</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/quick-start.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">快速上手</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/glossary.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">名词解释</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/features.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">功能导航</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">基础</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/builder-config.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">Builder 配置项</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/build-target.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建产物类型</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/output-files.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建产物目录</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/css-usage.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用样式资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/static-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用静态资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/svg-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用 SVG 资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/json-files.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用 JSON 文件</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/wasm-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用 Wasm 资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/html-template.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">配置 HTML 模板</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/css-modules.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 CSS Modules</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/typescript.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 TypeScript</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/builder-cli.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 Builder CLI</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">进阶</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/rspack-start.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 Rspack</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/alias.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">路径别名</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/define.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">环境变量</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/hmr.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">模块热更新</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/rem.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">开启 REM 适配</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/browserslist.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">设置浏览器范围</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/browser-compatibility.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">浏览器兼容性</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/custom-webpack-config.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">修改 webpack 配置</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/source-build.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">源码构建模式</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">框架</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/framework/vue3.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建 Vue 3 应用</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/framework/vue2.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建 Vue 2 应用</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">优化</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/optimize-bundle.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">产物体积优化</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/build-performance.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">提升构建性能</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/split-chunk.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">拆包最佳实践</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/inline-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">静态资源内联</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">调试</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/debug/debug-mode.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">开启调试模式</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/debug/inspector.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 Webpack Inspector</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">常见问题</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/general.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">通用类问题</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/features.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">功能类问题</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/exceptions.html"><div class="menuItemActive_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0;color:var(--rp-c-brand)">异常类问题</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/hmr.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">热更新问题</div></a></div></div></div></section></nav></div></div></aside><div class="content_feeda rspress-doc-container flex flex-shrink-0"><div class="w-full"><div><div class="rspress-doc"><!--$--><h1 id="异常类问题" class="text-3xl mb-10 leading-10 tracking-tight title_f1ea0">异常类问题<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#异常类问题">#</a></h1>
<h3 id="webpack-编译出现-compilation-argument-报错" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">webpack 编译出现 &#x27;compilation&#x27; argument 报错？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#webpack-编译出现-compilation-argument-报错">#</a></h3>
<p class="my-4 leading-7">如果编译时出现以下报错，通常是由于项目中安装了错误的 webpack 版本，或者安装了多个 webpack 版本引起：</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>TypeError: The </span><span class="token" style="color:var(--code-token-string)">&#x27;compilation&#x27;</span><span> argument must be an instance of Compilation</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">webpack 版本问题有以下几种情况：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">项目的 package.json 中直接声明了 webpack 依赖，并且与 Builder 依赖的 webpack 版本范围不同，无法匹配到同一个版本。</li>
<li class="[&amp;:not(:first-child)]:mt-2">项目里安装的多个 npm 包都依赖了 webpack，并且它们依赖的 webpack 版本范围不同，无法匹配到同一个版本。</li>
<li class="[&amp;:not(:first-child)]:mt-2">由于包管理器的 lock 机制，导致 lock 文件中产生了多个 webpack 版本。</li>
</ol>
<p class="my-4 leading-7">如果是第一种情况，建议从项目的 package.json 中移除 webpack 依赖。因为 Builder 默认封装了 webpack 相关能力，并且会在 <a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/api/config-tools.html#toolswebpack">tools.webpack</a> 配置项中传入 webpack 对象。因此在大多数情况下，不建议在项目中额外安装 webpack 依赖。</p>
<p class="my-4 leading-7">如果是第二种情况，建议看看能否升级某个 npm 包，使其依赖的 webpack 版本范围与 Builder 保持一致。也可以通过包管理器的能力来手动统一版本，比如使用 <a href="https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">yarn resolutions</a> 或 <a href="https://pnpm.io/package_json#pnpmoverrides" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">pnpm overrides</a>。</p>
<p class="my-4 leading-7">如果是第三种情况，可以使用第二种情况中提到的两种方法，也可以尝试删除 lock 文件后重新安装来解决。</p>
<div class="rspress-directive tip"><div class="rspress-directive-title">TIP</div><div class="rspress-directive-content"><p class="my-4 leading-7">删除 lock 文件会使项目中的依赖版本自动升级到指定范围下的最新版，请进行充分的测试。</p></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译产物中存在未编译的-es6-代码" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译产物中存在未编译的 ES6+ 代码？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译产物中存在未编译的-es6-代码">#</a></h3>
<p class="my-4 leading-7">默认情况下，Builder 不会通过 <code>babel-loader</code> 或 <code>ts-loader</code> 来编译 <code>node_modules</code> 下的文件。如果项目引入的 npm 包中含有 ES6+ 语法，会被打包进产物中。</p>
<p class="my-4 leading-7">遇到这种情况时，可以通过 <a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/api/config-source.html#sourceinclude">source.include</a> 配置项来指定需要额外进行编译的目录或模块。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="在-monorepo-中引用其他模块代码没有被正确编译" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">在 Monorepo 中引用其他模块，代码没有被正确编译？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#在-monorepo-中引用其他模块代码没有被正确编译">#</a></h3>
<p class="my-4 leading-7">出于编译性能的考虑，默认情况下，Builder 不会编译 <code>node_modules</code> 下的文件，也不会编译当前工程目录外部的文件。</p>
<p class="my-4 leading-7">因此，当你引用其他子项目的源代码时，可能会遇到类似 <code>You may need an additional loader to handle the result of these loaders.</code> 的报错。</p>
<p class="my-4 leading-7">这个问题有以下解决方法：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">你可以开启源码构建模式来编译 monorepo 中的其他子项目，参考<a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/guide/advanced/source-build.html">「源码构建模式」</a>。</li>
<li class="[&amp;:not(:first-child)]:mt-2">你可以添加 <code>source.include</code> 配置项，指定需要额外进行编译的目录或模块，参考 <a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/api/config-source.html#sourceinclude">source.include 用法介绍</a>。</li>
<li class="[&amp;:not(:first-child)]:mt-2">你可以预先构建需要引用的子项目，生成对应的构建产物，并在当前项目引用构建产物，而不是引用源代码。</li>
</ol>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-you-may-need-additional-loader" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 <code>You may need additional loader</code>？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-you-may-need-additional-loader">#</a></h3>
<p class="my-4 leading-7">如果编译过程中遇到了以下报错提示，表示存在个别文件无法被正确编译。</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Module parse failed: Unexpected token
</span></span><span style="display:block;padding:0 1.25rem">File was processed with these loaders:
</span><span style="display:block;padding:0 1.25rem"> * some-loader/index.js
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">You may need an additional loader to handle the result of these loaders.</span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">解决方法：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">如果是引用了当前工程外部的 <code>.ts</code> 文件，或者是 node_modules 下的 <code>.ts</code> 文件，请添加 <a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/api/config-source.html#sourceinclude">source.include</a> 配置项，指定需要额外进行编译的文件。</li>
<li class="[&amp;:not(:first-child)]:mt-2">如果是引用了 Builder 不支持的文件格式，请自行配置对应的 webpack loader 进行编译。</li>
</ul>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-error-object-object-is-not-a-postcss-plugin-" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 <code>Error: [object Object] is not a PostCSS plugin</code> ?<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-error-object-object-is-not-a-postcss-plugin-">#</a></h3>
<p class="my-4 leading-7">目前，Modern.js 使用的是 v8 版本的 PostCSS。如果编译过程中遇到了 <code>Error: [object Object] is not a PostCSS plugin</code> 报错提示，通常是由于引用到了错误的 PostCSS 版本导致，常见的如 <code>cssnano</code> 中 <code>postcss</code> (peerDependencies) 版本不符合预期。</p>
<p class="my-4 leading-7">可以通过 <code>npm ls postcss</code> 查找 <code>UNMET PEER DEPENDENCY</code> 的依赖，然后在 package.json 中通过指定 PostCSS 版本等方式安装正确的依赖版本即可。</p>
<div class="language-bash"><div class="rspress-code-content"><code>npm ls postcss

 ├─┬ css-loader@6.3.0
 │ └── UNMET PEER DEPENDENCY postcss@8.3.9
 ├─┬ css-minimizer-webpack-plugin@3.0.0
 │ └── UNMET PEER DEPENDENCY postcss@8.3.9
</code></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打开页面后报错提示-exports-is-not-defined" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打开页面后报错，提示 exports is not defined？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打开页面后报错提示-exports-is-not-defined">#</a></h3>
<p class="my-4 leading-7">如果编译正常，但是打开页面后出现 <code>exports is not defined</code> 报错，通常是因为在项目中使用 Babel 编译了一个 CommonJS 模块，导致 Babel 出现异常。</p>
<p class="my-4 leading-7">在正常情况下，Builder 是不会使用 Babel 来编译 CommonJS 模块的。如果项目中使用了 <a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/api/config-source.html#sourceinclude">source.include</a> 配置项，或使用了 <a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/api/config-tools.html#toolsbabel">tools.babel</a> 的 <code>addIncludes</code> 方法，则可能会把一些 CommonJS 模块加入到 Babel 编译中。</p>
<p class="my-4 leading-7">该问题有两种解决方法：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">避免将 CommonJS 模块加入到 Babel 编译中。</li>
<li class="[&amp;:not(:first-child)]:mt-2">将 Babel 的 <code>sourceType</code> 配置项设置为 <code>unambiguous</code>，示例如下：</li>
</ol>
<div class="language-js"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token parameter">config</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>sourceType </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;unambiguous&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">将 <code>sourceType</code> 设置为 <code>unambiguous</code> 可能会产生一些其他影响，请参考 <a href="https://babeljs.io/docs/en/options#sourcetype" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">Babel 官方文档</a>。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 &quot;Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax&quot;？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax">#</a></h3>
<p class="my-4 leading-7">如果编译时出现以下报错，通常也是因为在项目中使用 Babel 编译了一个 CommonJS 模块，解决方法与上述的 <code>exports is not defined</code> 问题一致。</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Error: ES Modules may not assign module.exports or exports.*, Use ESM </span><span class="token class-name" style="color:var(--code-token-symbol)">export</span><span> syntax, instead: </span><span class="token number">581</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">更多信息请参考 issue：<a href="https://github.com/babel/babel/issues/12731" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">babel#12731</a>。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-export-foo-imported-as-foo-was-not-found-in-utils" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 &quot;export &#x27;foo&#x27; (imported as &#x27;foo&#x27;) was not found in &#x27;./utils&#x27;&quot;？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-export-foo-imported-as-foo-was-not-found-in-utils">#</a></h3>
<p class="my-4 leading-7">如果编译的过程中出现此报错，说明代码中引用了一个不存在的导出。</p>
<p class="my-4 leading-7">比如以下例子，<code>index.ts</code> 中引用了 <code>utils.ts</code> 中的 <code>foo</code> 变量， 但 <code>utils.ts</code> 实际上只导出了 <code>bar</code> 变量。</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// utils.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">const</span><span> bar </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bar&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// index.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在这种情况下，Builder 会抛出以下错误：</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Compile Error:
</span></span><span style="display:block;padding:0 1.25rem">File: ./src/index.ts
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">export</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;foo&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>imported as </span><span class="token" style="color:var(--code-token-string)">&#x27;foo&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> was not found </span><span class="token" style="color:var(--code-token-keyword)">in</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>possible exports: bar</span><span class="token" style="color:var(--code-token-punctuation)">)</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">当你遇到该问题时，首先需要检查相关代码里 import / export 的内容是否正确，并修正相关错误。</p>
<p class="my-4 leading-7">常见的错误写法有：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">引入了不存在的变量：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// utils.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">const</span><span> bar </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bar&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// index.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">re-export 了一个类型，但是没有添加 <code>type</code> 修饰符，导致 babel 等编译工具无法识别到类型导出，导致编译异常。</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// utils.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token class-name">Foo</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bar&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// index.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> Foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 错误写法</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> Foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 正确写法</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在个别情况下，以上报错是由第三方依赖引入的，你无法直接修改它。此时，如果你确定该问题不影响你的应用，那么可以添加以下配置，将 <code>error</code> 日志修改为 <code>warn</code> 级别：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">webpackChain</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>chain</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      chain</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>module</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>parser</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">merge</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        javascript</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          exportsPresence</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;warn&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">同时，你需要尽快联系第三方依赖的开发者来修复相应的问题。</p>
<blockquote class="border-l-2 border-solid border-divider pl-4 my-6 transition-colors duration-500 blockquote_f1ea0">
<p class="my-4 leading-7">你可以查看 webpack 的文档来了解 <a href="https://webpack.js.org/configuration/module/#moduleparserjavascriptexportspresence" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">module.parser.javascript.exportsPresence</a> 的更多细节。</p>
</blockquote>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译进度条卡死但终端无-error-日志" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译进度条卡死，但终端无 Error 日志？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译进度条卡死但终端无-error-日志">#</a></h3>
<p class="my-4 leading-7">当编译进度条卡死，但终端无 Error 日志时，通常是因为编译过程中出现了异常。在某些情况下，当 Error 被 webpack 或其他模块捕获后，错误日志不会被正确输出。最为常见的场景是 Babel 配置出现异常，抛出 Error 后被 webpack 捕获，而 webpack 在个别情况下吞掉了 Error。</p>
<p class="my-4 leading-7"><strong class="font-semibold">解决方法：</strong></p>
<p class="my-4 leading-7">如果你修改 Babel 配置后出现此问题，建议检查是否有以下错误用法：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">配置了一个不存在的 plugin 或 preset，可能是名称拼写错误，或是未正确安装。</li>
</ol>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 错误示例</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> addPlugins </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-comment)">// 该插件名称错误，或者未安装</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-function)">addPlugins</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-not-exists&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ol start="2" class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">是否配置了多个 babel-plugin-import，但是没有在数组的第三项声明每一个 babel-plugin-import 的名称。</li>
</ol>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 错误示例</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> addPlugins </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-function)">addPlugins</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd-mobile&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 正确示例</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> addPlugins </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-function)">addPlugins</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;antd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd-mobile&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;antd-mobile&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="webpack-编译缓存未生效应该如何排查" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">webpack 编译缓存未生效，应该如何排查？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#webpack-编译缓存未生效应该如何排查">#</a></h3>
<p class="my-4 leading-7">Builder 默认开启了 webpack 的持久化缓存。</p>
<p class="my-4 leading-7">首次编译完成后，会自动生成缓存文件，并输出到 <code>./node_modules/.cache/webpack</code> 目录下。执行第二次编译时，会命中缓存，并大幅度提高编译速度。</p>
<p class="my-4 leading-7">当 <code>package.json</code> 等配置文件被修改时，缓存会自动失效。</p>
<p class="my-4 leading-7">如果项目中 webpack 编译缓存一直未生效，可以添加以下配置进行排查：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">webpack</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>infrastructureLogging </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token operator">...</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>infrastructureLogging</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        debug</span><span class="token operator">:</span><span> </span><span class="token regex-delimiter" style="color:var(--code-token-keyword)">/</span><span class="token regex-source language-regex" style="color:var(--code-token-keyword)">webpack\.cache</span><span class="token regex-delimiter" style="color:var(--code-token-keyword)">/</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">添加以上配置后，webpack 会输出日志用于 debug，请参考 <code>PackFileCacheStrategy</code> 相关的日志来了解缓存失效的原因。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打包后发现-tree-shaking-没有生效" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打包后发现 tree shaking 没有生效？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打包后发现-tree-shaking-没有生效">#</a></h3>
<p class="my-4 leading-7">Builder 在生产构建时会默认开启 webpack 的 tree shaking 功能，tree shaking 是否能够生效，取决于业务代码能否满足 webpack 的 tree shaking 条件。</p>
<p class="my-4 leading-7">如果你遇到了 tree shaking 不生效的问题，可以检查下相关 npm 包的 <code>sideEffects</code> 配置是否正确，如果你不了解 <code>sideEffects</code> 的作用，或是对 tree shaking 背后的原理感兴趣，可以阅读以下两篇文档：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://webpack.docschina.org/guides/tree-shaking/" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">webpack 官方文档 - Tree Shaking</a></li>
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://bytedance.feishu.cn/docs/doccn8E1ldDct5uv1EEDQs8Ycwe" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">Tree Shaking 问题排查指南</a></li>
</ul>
<p class="my-4 leading-7">如果你是 npm 包的开发者，可以阅读这篇文章：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://zhuanlan.zhihu.com/p/594124786" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">如何编写一个友好支持 Tree-shaking 的库</a></li>
</ul>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打包时出现-javascript-heap-out-of-memory" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打包时出现 JavaScript heap out of memory?<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打包时出现-javascript-heap-out-of-memory">#</a></h3>
<p class="my-4 leading-7">该报错表示打包过程中出现了内存溢出问题，大多数情况下是由于打包的内容较多，超出了 Node.js 默认的内存上限。</p>
<p class="my-4 leading-7">如果出现 OOM 问题，最简单的方法是通过增加内存上限来解决，Node.js 提供了 <code>--max-old-space-size</code> 选项来对此进行设置。你可以在 CLI 命令前添加 <a href="https://nodejs.org/api/cli.html#node_optionsoptions" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">NODE_OPTIONS</a> 来设置此参数。</p>
<p class="my-4 leading-7">比如，在 <code>modern build</code> 命令前添加参数：</p>
<div class="language-diff"><div class="rspress-code-title">package.json</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-diff" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>{
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &quot;scripts&quot;: {
</span></span><span style="display:block;padding:0 1.25rem"><span class="token unchanged line"></span><span class="token deleted-sign prefix" style="color:#b31d28">-</span><span class="token deleted-sign line" style="color:#b31d28">   &quot;build&quot;: &quot;modern build&quot;
</span></span><span style="display:block;padding:0 1.25rem"><span class="token deleted-sign line" style="color:#b31d28"></span><span class="token inserted-sign prefix" style="color:#22863a">+</span><span class="token inserted-sign line" style="color:#22863a">   &quot;build&quot;: &quot;NODE_OPTIONS=--max_old_space_size=16384 modern build&quot;
</span></span><span style="display:block;padding:0 1.25rem"><span class="token inserted-sign line" style="color:#22863a"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> }
</span></span><span style="display:block;padding:0 1.25rem"><span class="token unchanged line"></span><span>}</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">如果你执行的是其他命令，比如 <code>modern deploy</code>，请在对应的命令前添加参数。</p>
<p class="my-4 leading-7"><code>max_old_space_size</code> 参数的值代表内存上限大小（MB)，一般情况下设置为 <code>16384</code>（16GB）即可。</p>
<p class="my-4 leading-7">Node.js 官方文档中有对以下参数更详细的解释：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://nodejs.org/api/cli.html#node_optionsoptions" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">NODE_OPTIONS</a></li>
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://nodejs.org/api/cli.html#--max-old-space-sizesize-in-megabytes" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">--max-old-space-size</a></li>
</ul>
<p class="my-4 leading-7">除了增加内存上限，通过开启一些编译策略来提升构建效率也是一个解决方案，请参考 <a class="link_b3367  link_f1ea0 inline-link_f1ea0 cursor-pointer" target="" href="/builder/guide/optimization/build-performance.html">提升构建性能</a>。</p>
<p class="my-4 leading-7">如果以上方式无法解决你的问题，可能是项目中某些异常逻辑导致了内存非正常溢出。你可以排查近期的代码变更，定位问题的根因。如果无法定位，请联系我们进行排查。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打包时出现-cant-resolve-core-jsmodulesxxxjs" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打包时出现 Can&#x27;t resolve &#x27;core-js/modules/xxx.js&#x27;？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打包时出现-cant-resolve-core-jsmodulesxxxjs">#</a></h3>
<p class="my-4 leading-7">如果你在打包时出现了类似下面的报错，表示项目中的 <a href="https://github.com/zloirock/core-js" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">core-js</a> 无法被正确引用。</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Module not found: Can</span><span class="token" style="color:var(--code-token-string)">&#x27;t resolve &#x27;</span><span>core-js/modules/es.error.cause.js&#x27;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">通常来说，你无须在项目中安装 <code>core-js</code>，因为 Builder 已经内置了一份 <code>core-js</code> v3。</p>
<p class="my-4 leading-7">如果出现 <code>core-js</code> 找不到的报错，可能有以下几个原因：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">项目里覆盖了 Babel 配置的 <code>plugins</code>，导致内置的 <code>babelPluginLockCorejsVersion</code> 无法正确生效。这种情况将 <code>tools.babel</code> 更改为函数用法即可：</li>
</ol>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 错误用法，会覆盖 Builder 默认的 Babel 插件</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    babel</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      plugins</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-xxx&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// 正确用法，在默认配置中新增一个插件，而非覆盖插件</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>plugins</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">push</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-xxx&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ol start="2" class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">项目里某一处代码依赖了 <code>core-js</code> v2 版本。这种情况通常需要你找出对应的代码，并升级其中的 <code>core-js</code> 到 v3 版本。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>node_modules</code> 中的某一个 npm 包引用了 <code>core-js</code>，但是没有在 <code>dependencies</code> 中声明 <code>core-js</code> 依赖。这种情况需要你在对应的 npm 包中声明 <code>core-js</code> 依赖，或者在项目根目录下安装一份 <code>core-js</code>。</li>
</ol>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="从-lodash-中引用类型后出现编译报错" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">从 lodash 中引用类型后出现编译报错？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#从-lodash-中引用类型后出现编译报错">#</a></h3>
<p class="my-4 leading-7">当你的项目中安装了 <code>@types/lodash</code> 包时，你可能会从 <code>lodash</code> 中引用一些类型，比如引用 <code>DebouncedFunc</code> 类型：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> debounce</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> DebouncedFunc </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">上述代码会在编译后产生如下报错：</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>SyntaxError: /project/src/index.ts: The </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span> method </span><span class="token" style="color:var(--code-token-variable)">`</span><span class="token" style="color:var(--code-token-variable)">DebouncedFunc</span><span class="token" style="color:var(--code-token-variable)">`</span><span> is not a known module.
</span></span><span style="display:block;padding:0 1.25rem">Please report bugs to https://github.com/lodash/babel-plugin-lodash/issues.</span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">这个问题的原因是 Builder 默认开启了 <a href="https://github.com/lodash/babel-plugin-lodash" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">babel-plugin-lodash</a> 插件来优化 lodash 产物体积，但 Babel 无法区别「值」和「类型」，导致编译后的代码出现异常。</p>
<p class="my-4 leading-7">解决方法是使用 TypeScript 的 <code>import type</code> 语法，对 <code>DebouncedFunc</code> 类型进行显式声明：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> debounce </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> DebouncedFunc </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="rspress-directive tip"><div class="rspress-directive-title">TIP</div><div class="rspress-directive-content"><p class="my-4 leading-7">在任意情况下，我们都推荐使用 <code>import type</code> 来引用类型，这对于编译器识别类型会有很大帮助。
</p></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="less-文件中的除法不生效" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">Less 文件中的除法不生效？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#less-文件中的除法不生效">#</a></h3>
<p class="my-4 leading-7">Less v4 版本与 v3 版本相比，除法的写法有一些区别：</p>
<div class="language-less"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-less" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// Less v3</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token selector">.math</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px .</span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// Less v4</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token selector">.math</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 2px / 2</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px .</span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">Builder 内置的 Less 版本为 v4，低版本的写法不会生效，请注意区分。</p>
<p class="my-4 leading-7">Less 中除法的写法也可以通过配置项来修改，详见 <a href="https://lesscss.org/usage/#less-options-math" target="_blank" rel="noopener noreferrer" class="link_b3367  link_f1ea0 inline-link_f1ea0">Less - Math</a>。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="修改配置后报错-typeerror-cannot-delete-property-xxx-of-object" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">修改配置后，报错 ‘TypeError: Cannot delete property &#x27;xxx&#x27; of #&lt;Object&gt;’<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#修改配置后报错-typeerror-cannot-delete-property-xxx-of-object">#</a></h3>
<p class="my-4 leading-7">该报错表示在编译过程中对一个只读配置项进行了删除操作。通常情况下，我们不希望编译过程中的任何操作会直接对传入的配置进行修改，但难以限制底层插件（如 postcss-loader 等）的行为，如果出现该报错，请联系 Builder 开发者，我们需要对该配置进行单独处理。</p>
<p class="my-4 leading-7">同类型报错还有：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">&#x27;TypeError: Cannot add property xxx, object is not extensible&#x27;</li>
<li class="[&amp;:not(:first-child)]:mt-2">&#x27;TypeError: Cannot assign to read only property &#x27;xxx&#x27; of object &#x27;#&lt;Object&gt;&#x27;</li>
</ul><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/document/builder-doc/docs/zh/guide/faq/exceptions.md" target="_blank" class="editLink_eea9e">Edit this page on GitHub</a></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_33e00 flex flex-col"><a class="link_b3367 pager-link_33e00 cursor-pointer" target="" href="/builder/guide/faq/features.html"><span class="desc_33e00">上一页</span><span class="title_33e00">功能类问题</span></a></div><div class="next_33e00 flex flex-col"><a class="link_b3367 pager-link_33e00 next_33e00 cursor-pointer" target="" href="/builder/guide/faq/hmr.html"><span class="desc_33e00">下一页</span><span class="title_33e00">热更新问题</span></a></div></div></footer></div></div></div><div class="aside-container_feeda" style="max-height:calc(100vh - (var(--rp-nav-height) + 32px));overflow:scroll"><div><div class="flex flex-col"><div class="&lt;lg:hidden"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">目录</div><nav class="mt-1"><ul class="relative"><li><a href="#webpack-编译出现-compilation-argument-报错" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">webpack 编译出现 \&#x27;compilation\&#x27; argument 报错？</span></a></li><li><a href="#编译产物中存在未编译的-es6-代码" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译产物中存在未编译的 ES6+ 代码？</span></a></li><li><a href="#在-monorepo-中引用其他模块代码没有被正确编译" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">在 Monorepo 中引用其他模块，代码没有被正确编译？</span></a></li><li><a href="#编译时报错-you-may-need-additional-loader" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 You may need additional loader？</span></a></li><li><a href="#编译时报错-error-object-object-is-not-a-postcss-plugin-" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 Error: [object Object] is not a PostCSS plugin ?</span></a></li><li><a href="#打开页面后报错提示-exports-is-not-defined" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打开页面后报错，提示 exports is not defined？</span></a></li><li><a href="#编译时报错-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 \&quot;Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax\&quot;？</span></a></li><li><a href="#编译时报错-export-foo-imported-as-foo-was-not-found-in-utils" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 \&quot;export \&#x27;foo\&#x27; (imported as \&#x27;foo\&#x27;) was not found in \&#x27;./utils\&#x27;\&quot;？</span></a></li><li><a href="#编译进度条卡死但终端无-error-日志" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译进度条卡死，但终端无 Error 日志？</span></a></li><li><a href="#webpack-编译缓存未生效应该如何排查" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">webpack 编译缓存未生效，应该如何排查？</span></a></li><li><a href="#打包后发现-tree-shaking-没有生效" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打包后发现 tree shaking 没有生效？</span></a></li><li><a href="#打包时出现-javascript-heap-out-of-memory" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打包时出现 JavaScript heap out of memory?</span></a></li><li><a href="#打包时出现-cant-resolve-core-jsmodulesxxxjs" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打包时出现 Can\&#x27;t resolve \&#x27;core-js/modules/xxx.js\&#x27;？</span></a></li><li><a href="#从-lodash-中引用类型后出现编译报错" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">从 lodash 中引用类型后出现编译报错？</span></a></li><li><a href="#less-文件中的除法不生效" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">Less 文件中的除法不生效？</span></a></li><li><a href="#修改配置后报错-typeerror-cannot-delete-property-xxx-of-object" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">修改配置后，报错 ‘TypeError: Cannot delete property \&#x27;xxx\&#x27; of #&lt;Object&gt;’</span></a></li></ul></nav></div></div></div></div></div></div></div></section></div></div><div id="search-container"></div></body></html>