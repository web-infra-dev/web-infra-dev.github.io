<!doctype html><html  lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title data-rh="true">异常类问题 - Modern.js Builder</title><meta data-rh="true" name="description" content="基于 Rspack 的 Web 构建工具"/>
<script id="check-dark-light">
;(() => {
  const saved = localStorage.getItem('rspress-theme-appearance')
  const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches
  if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {
    document.documentElement.classList.add('dark')
  }
})()
</script>
<link rel="icon" href="https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/logo-1x-0104.png"><script defer="defer">!function(){var s,t,a,c,e,i,n,j,r,l,o,f,d,y={},b={};function u(s){var t=b[s];if(void 0!==t)return t.exports;var a=b[s]={id:s,loaded:!1,exports:{}};return y[s](a,a.exports,u),a.loaded=!0,a.exports}u.m=y,u.es=function(s,t){return Object.keys(s).forEach((function(a){"default"!==a&&!Object.prototype.hasOwnProperty.call(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:function(){return s[a]}})})),s},s={10648:["782"],11191:["1986"],1184:["7081"],12324:["5797"],12550:["1749"],13780:["6909","7398","lib-lodash","lib-polyfill","lib-react"],14776:["4225","6909","lib-lodash","lib-polyfill","lib-react"],14915:["2932"],15274:["4833"],15430:["3927"],16258:["6810"],17083:["1704"],17524:["2651"],20499:["5775","6909","lib-lodash","lib-polyfill","lib-react"],20937:["1531"],21766:["1432","5627"],22236:["1432","8246"],22944:["972"],22986:["740"],23369:["1432","4230"],25887:["6909","8401","lib-lodash","lib-polyfill","lib-react"],27679:["4281"],28235:["1432","9880"],28365:["3813"],29301:["2245"],29357:["4942"],29561:["1432","6649"],30045:["4917"],30087:["7479"],30324:["9700"],3108:["1084"],31238:["5448"],31665:["8493"],31873:["1088"],31894:["4142"],32795:["8414"],33283:["6909","7331","lib-lodash","lib-polyfill","lib-react"],33679:["1248","6909","lib-lodash","lib-polyfill","lib-react"],35086:["6522"],365:["9352"],3685:["1432","3745"],37061:["1432","7415"],37529:["9433"],39100:["6680"],39148:["4999"],39428:["9398"],39457:["1140"],40635:["6526"],40895:["3535"],42191:["1682"],42243:["6975"],42327:["4416"],44191:["2355","6909","lib-lodash","lib-polyfill","lib-react"],4521:["1432","9265"],4554:["968"],4557:["9378"],47321:["3417"],47327:["182"],48754:["1006"],4926:["65"],49517:["5447"],49933:["1432","7857"],51375:["3816"],51473:["6909","7730","lib-lodash","lib-polyfill","lib-react"],51964:["7008"],52156:["6616"],53101:["1432","4153"],53571:["1432","6603"],53645:["1432","6909","8565","lib-lodash","lib-polyfill","lib-react"],54779:["6934"],57130:["1432","6909","9740","lib-lodash","lib-polyfill","lib-react"],62030:["8924"],62860:["1017"],63384:["5753"],6419:["3013"],65141:["9130"],66938:["3063"],67138:["5159"],67480:["1432","9564"],67719:["6879"],68433:["2706"],68832:["1432","3443"],69260:["1432","2740"],69490:["1750"],70002:["1469"],70424:["1432","929"],70726:["6909","7117","lib-lodash","lib-polyfill","lib-react"],71006:["1034"],71155:["6211","6909","lib-lodash","lib-polyfill","lib-react"],71424:["4935"],73461:["4546"],73680:["4154"],73949:["1432","6314"],7399:["166"],74423:["8647"],76082:["650","6909","lib-lodash","lib-polyfill","lib-react"],78763:["5899","6909","lib-lodash","lib-polyfill","lib-react"],79598:["9566"],83193:["7786"],83990:["6909","8763","lib-lodash","lib-polyfill","lib-react"],84097:["3537"],85045:["8378"],85681:["2574"],8689:["4321"],88608:["6205"],88938:["9877"],90294:["1432","3502"],90298:["2599"],91398:["5794"],91556:["6909","8337","lib-lodash","lib-polyfill","lib-react"],9157:["6342"],91911:["4457"],92100:["998"],94366:["1032"],95287:["6711"],9586:["1432","1442"],96120:["2576"],96286:["3321"],96393:["6909","8147","lib-lodash","lib-polyfill","lib-react"],97173:["6909","9114","lib-lodash","lib-polyfill","lib-react"],9782:["8892"],99885:["8732"]},u.el=function(t){var a=s[t];return void 0===a?Promise.resolve():a.length>1?Promise.all(a.map(u.e)):u.e(a[0])},u.f={},u.e=function(s){return Promise.all(Object.keys(u.f).reduce((function(t,a){return u.f[a](s,t),t}),[]))},u.p="/builder/",u.u=function(s){return{1006:"static/js/async/1006.f3b74c07.js",1017:"static/js/async/1017.d9ac77c7.js",1032:"static/js/async/1032.e8e19598.js",1034:"static/js/async/1034.53d6a9e3.js",1084:"static/js/async/1084.bf112876.js",1088:"static/js/async/1088.1d81bc78.js",1140:"static/js/async/1140.9c184903.js",1248:"static/js/async/1248.ffea4ae9.js",1432:"static/js/async/1432.725c9dd6.js",1442:"static/js/async/1442.2c0adab0.js",1469:"static/js/async/1469.005c93d8.js",1531:"static/js/async/1531.4abf1583.js",166:"static/js/async/166.97c67860.js",1682:"static/js/async/1682.9c2904c0.js",1704:"static/js/async/1704.e0b1c38e.js",1749:"static/js/async/1749.daded69b.js",1750:"static/js/async/1750.2a0a1b0b.js",182:"static/js/async/182.6cc9ffa7.js",1986:"static/js/async/1986.c97a47ad.js",2245:"static/js/async/2245.10f1329e.js",2355:"static/js/async/2355.87bf99c3.js",2574:"static/js/async/2574.9eb4a233.js",2576:"static/js/async/2576.74cabeed.js",2599:"static/js/async/2599.e2b8042c.js",2651:"static/js/async/2651.276ddd76.js",2706:"static/js/async/2706.58826e17.js",2740:"static/js/async/2740.5bd6dbec.js",2932:"static/js/async/2932.dbe0fa54.js",3013:"static/js/async/3013.5f1f9002.js",3063:"static/js/async/3063.4dee2945.js",3321:"static/js/async/3321.b9e2ab80.js",3417:"static/js/async/3417.89425fc3.js",3443:"static/js/async/3443.6ddf75ec.js",3502:"static/js/async/3502.78a3e786.js",3535:"static/js/async/3535.f970eeef.js",3537:"static/js/async/3537.fccc0bcd.js",3745:"static/js/async/3745.88149dc1.js",3813:"static/js/async/3813.65bf55f6.js",3816:"static/js/async/3816.25c6d8e0.js",3927:"static/js/async/3927.d2e892d2.js",4142:"static/js/async/4142.00720db1.js",4153:"static/js/async/4153.b81d2011.js",4154:"static/js/async/4154.58c64d88.js",4225:"static/js/async/4225.7b23de44.js",4230:"static/js/async/4230.dbbb11cb.js",4281:"static/js/async/4281.be30b18c.js",4321:"static/js/async/4321.66d075f6.js",4416:"static/js/async/4416.8c29caf1.js",4457:"static/js/async/4457.516e198a.js",4546:"static/js/async/4546.2446d540.js",4833:"static/js/async/4833.5e069adc.js",4917:"static/js/async/4917.b435dd7f.js",4935:"static/js/async/4935.fc68fe08.js",4942:"static/js/async/4942.ae9159ad.js",4999:"static/js/async/4999.a84c95d5.js",5159:"static/js/async/5159.7b54a9d5.js",5447:"static/js/async/5447.4e829969.js",5448:"static/js/async/5448.ba32f09a.js",5627:"static/js/async/5627.ba35cf6d.js",5753:"static/js/async/5753.c38e43fa.js",5775:"static/js/async/5775.606c6f99.js",5794:"static/js/async/5794.4cb3db6f.js",5797:"static/js/async/5797.4442b942.js",5899:"static/js/async/5899.81e1078f.js",6205:"static/js/async/6205.0250524e.js",6211:"static/js/async/6211.3e448ecc.js",6314:"static/js/async/6314.14e1d2e7.js",6342:"static/js/async/6342.a2918a20.js",65:"static/js/async/65.3d7b6504.js",650:"static/js/async/650.7e46fdd4.js",6522:"static/js/async/6522.7ef189fb.js",6526:"static/js/async/6526.50d3a485.js",6603:"static/js/async/6603.36dc3b88.js",6616:"static/js/async/6616.f0120a22.js",6649:"static/js/async/6649.6a5dde1b.js",6680:"static/js/async/6680.84f46234.js",6711:"static/js/async/6711.f318adbb.js",6810:"static/js/async/6810.a557c7d8.js",6879:"static/js/async/6879.1182276c.js",6934:"static/js/async/6934.b949a22f.js",6975:"static/js/async/6975.c8c5d819.js",7008:"static/js/async/7008.805cf893.js",7081:"static/js/async/7081.06110e42.js",7117:"static/js/async/7117.f498d2e9.js",7331:"static/js/async/7331.b2fb6424.js",7398:"static/js/async/7398.9021c659.js",740:"static/js/async/740.d7076643.js",7415:"static/js/async/7415.9e848c74.js",7479:"static/js/async/7479.643bf4cf.js",7730:"static/js/async/7730.6bf9d62f.js",7786:"static/js/async/7786.f6dc18c1.js",782:"static/js/async/782.3078266a.js",7857:"static/js/async/7857.fd8b05a3.js",8147:"static/js/async/8147.7e6db255.js",8246:"static/js/async/8246.7448ec50.js",8337:"static/js/async/8337.f810ca48.js",8378:"static/js/async/8378.1e6db984.js",8401:"static/js/async/8401.63c8fdd5.js",8414:"static/js/async/8414.018e6877.js",8493:"static/js/async/8493.5dd02694.js",8565:"static/js/async/8565.6dd7f6af.js",8647:"static/js/async/8647.43956e5e.js",8732:"static/js/async/8732.589f1232.js",8763:"static/js/async/8763.9a43310f.js",8892:"static/js/async/8892.c09a2418.js",8924:"static/js/async/8924.c09cf133.js",9114:"static/js/async/9114.ae079ae7.js",9130:"static/js/async/9130.a8aba6f9.js",9265:"static/js/async/9265.6d60b04d.js",929:"static/js/async/929.6dc1bb9b.js",9352:"static/js/async/9352.87db43be.js",9378:"static/js/async/9378.314400ba.js",9398:"static/js/async/9398.3c838c3b.js",9433:"static/js/async/9433.8c108f4d.js",9564:"static/js/async/9564.b3f30ff7.js",9566:"static/js/async/9566.06bfb980.js",968:"static/js/async/968.f8823f3c.js",9700:"static/js/async/9700.239bc93c.js",972:"static/js/async/972.8f45ce2e.js",9740:"static/js/async/9740.7c635c5f.js",9877:"static/js/async/9877.c54af88f.js",9880:"static/js/async/9880.6380bcd4.js",998:"static/js/async/998.4e87599b.js"}[s]},u.k=function(s){return{1432:"static/css/async/1432.b611428b.css"}[s]},t={},u.l=function(s,a,c,e){if(t[s])t[s].push(a);else{if(void 0!==c)for(var i,n,j=document.getElementsByTagName("script"),r=0;r<j.length;r++){var l=j[r];if(l.getAttribute("src")==s){i=l;break}}!i&&(n=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,i.src=s),t[s]=[a];var o=function(a,c){i.onerror=i.onload=null,clearTimeout(f);var e=t[s];if(delete t[s],i.parentNode&&i.parentNode.removeChild(i),e&&e.forEach((function(s){return s(c)})),a)return a(c)},f=setTimeout(o.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=o.bind(null,i.onerror),i.onload=o.bind(null,i.onload),n&&document.head.appendChild(i)}},u.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},a=[],u.O=function(s,t,c,e){if(!t){var i=1/0;for(l=0;l<a.length;l++){t=a[l][0],c=a[l][1],e=a[l][2];for(var n=!0,j=0;j<t.length;j++)i>=e&&Object.keys(u.O).every((function(s){return u.O[s](t[j])}))?t.splice(j--,1):(n=!1,e<i&&(i=e));if(n){a.splice(l--,1);var r=c()}}return r}e=e||0;for(var l=a.length;l>0&&a[l-1][2]>e;l--)a[l]=a[l-1];a[l]=[t,c,e]},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(s){if("object"==typeof window)return window}}(),u.d=function(s,t){for(var a in t)u.o(t,a)&&!u.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:t[a]})},u.r=function(s){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},u.n=function(s){return s&&s.__esModule?s.default:s},e=Object.getPrototypeOf?function(s){return Object.getPrototypeOf(s)}:function(s){return s.__proto__},u.t=function(s,t){if(1&t&&(s=this(s)),8&t||"object"==typeof s&&s&&(4&t&&s.__esModule||16&t&&"function"==typeof s.then))return s;var a=Object.create(null);u.r(a);var i={};c=c||[null,e({}),e([]),e(e)];for(var n=2&t&&s;"object"==typeof n&&!~c.indexOf(n);n=e(n))Object.getOwnPropertyNames(n).forEach((function(t){i[t]=function(){return s[t]}}));return i.default=function(){return s},u.d(a,i),a},u.nmd=function(s){return s.paths=[],!s.children&&(s.children=[]),s},i={"builder-runtime":0,"lib-lodash":0,"lib-polyfill":0,"lib-react":0,"lib-router":0,main:0},n="webpack",j="data-webpack-loading",r=function(s,t,a,c){var e,i,r="chunk-"+s;if(!c){for(var l=document.getElementsByTagName("link"),o=0;o<l.length;o++){var f=l[o],d=f.getAttribute("href")||f.href;if(d&&!d.startsWith(u.p)&&(d=u.p+(d.startsWith("/")?d.slice(1):d)),"stylesheet"==f.rel&&(d&&d.startsWith(t)||f.getAttribute("data-webpack")==n+":"+r)){e=f;break}}if(!a)return e}!e&&(i=!0,(e=document.createElement("link")).setAttribute("data-webpack",n+":"+r),e.setAttribute(j,1),e.rel="stylesheet",e.href=t);var y=function(s,t){if(e.onerror=e.onload=null,e.removeAttribute(j),clearTimeout(b),t&&"load"!=t.type&&e.parentNode.removeChild(e),a(t),s)return s(t)};if(e.getAttribute(j)){var b=setTimeout(y.bind(null,void 0,{type:"timeout",target:e}),12e4);e.onerror=y.bind(null,e.onerror),e.onload=y.bind(null,e.onload)}else y(void 0,{type:"load",target:e});return c?c.parentNode.insertBefore(e,c):i&&document.head.appendChild(e),e},u.f.css=function(s,t){var a=u.o(i,s)?i[s]:void 0;if(0!==a)if(a)t.push(a[2]);else if(["1432","6909"].indexOf(s)>-1){var c=new Promise((function(t,c){a=i[s]=[t,c]}));t.push(a[2]=c);var e=u.p+u.k(s),n=Error();r(s,e,(function(t){if(u.o(i,s)&&(0!==(a=i[s])&&(i[s]=void 0),a))if("load"!==t.type){var c=t&&t.type,e=t&&t.target&&t.target.src;n.message="Loading css chunk "+s+" failed.\n("+c+": "+e+")",n.name="ChunkLoadError",n.type=c,n.request=e,a[1](n)}else a[0]()}))}else i[s]=0},(l=self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).push=function(s,t){var a=t[0];s&&s(t);for(var c=0;c<a.length;c++)void 0===i[a[c]]&&(i[a[c]]=0)}.bind(null,l.push.bind(l)),o={"builder-runtime":0},u.f.j=function(s,t){var a=u.o(o,s)?o[s]:void 0;if(0!==a)if(a)t.push(a[2]);else if(["1006","1017","1032","1034","1084","1088","1140","1248","1432","1442","1469","1531","166","1682","1704","1749","1750","182","1986","2245","2355","2574","2576","2599","2651","2706","2740","2932","3013","3063","3321","3417","3443","3502","3535","3537","3745","3813","3816","3927","4142","4153","4154","4225","4230","4281","4321","4416","4457","4546","4833","4917","4935","4942","4999","5159","5447","5448","5627","5753","5775","5794","5797","5899","6205","6211","6314","6342","65","650","6522","6526","6603","6616","6649","6680","6711","6810","6879","6909","6934","6975","7008","7081","7117","7331","7398","740","7415","7479","7730","7786","782","7857","8147","8246","8337","8378","8401","8414","8493","8565","8647","8732","8763","8892","8924","9114","9130","9265","929","9352","9378","9398","9433","9564","9566","968","9700","972","9740","9877","9880","998","lib-lodash","lib-polyfill","lib-react","lib-router","main"].indexOf(s)>-1){var c=new Promise((function(t,c){a=o[s]=[t,c]}));t.push(a[2]=c);var e=u.p+u.u(s),i=Error();u.l(e,(function(t){if(u.o(o,s)&&(0!==(a=o[s])&&(o[s]=void 0),a)){var c=t&&("load"===t.type?"missing":t.type),e=t&&t.target&&t.target.src;i.message="Loading chunk "+s+" failed.\n("+c+": "+e+")",i.name="ChunkLoadError",i.type=c,i.request=e,a[1](i)}}),"chunk-"+s,s)}else o[s]=0},u.O.j=function(s){return 0===o[s]},f=function(s,t){var a,c,e=t[0],i=t[1],n=t[2],j=0;if(e.some((function(s){return 0!==o[s]}))){for(a in i)u.o(i,a)&&(u.m[a]=i[a]);if(n)var r=n(u)}for(s&&s(t);j<e.length;j++)c=e[j],u.o(o,c)&&o[c]&&o[c][0](),o[c]=0;return u.O(r)},(d=self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).forEach(f.bind(null,0)),d.push=f.bind(null,d.push.bind(d))}()</script><script defer="defer" src="/builder/static/js/lib-lodash.8df6ad3e.js"></script><script defer="defer" src="/builder/static/js/lib-react.db2b46c7.js"></script><script defer="defer" src="/builder/static/js/lib-polyfill.91eb4e44.js"></script><script defer="defer" src="/builder/static/js/lib-router.3a8011a8.js"></script><script defer="defer" src="/builder/static/js/6909.59938749.js"></script><script defer="defer" src="/builder/static/js/main.54533b1a.js"></script><link href="/builder/static/css/6909.55c4d3ed.css" rel="stylesheet"></head><body ><div id="root"><div><header class="top-0 left-0 md:fixed w-full" style="z-index:var(--rp-z-index-nav);background:var(--rp-c-bg)"><div class="navContainer_47ac2 rspress-nav px-6"><div class="container_47ac2 flex justify-between items-center h-full"><div class="undefined"><a href="/builder/" class="flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><span>Modern.js Builder</span></a></div><div class="undefined flex flex-1 justify-end items-center"><div class="rightNav_47ac2"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="navSearchButton_f619e"><button><svg width="18" height="24" viewBox="0 0 32 32" hight="18"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg><p class="searchWord_f619e">Search Docs</p><div><span>⌘</span><span>K</span></div></button></div><div class="mobileNavSearchButton_f619e"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a class="link_b3367  cursor-pointer" target="" href="/builder/guide/introduction.html"><div class="singleItem_47ac2 activeItem_47ac2 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">指南</div></a><a class="link_b3367  cursor-pointer" target="" href="/builder/api/index.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">API</div></a><a class="link_b3367  cursor-pointer" target="" href="/builder/plugins/introduction.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">插件</div></a></div><div class="flex-center flex-row"><div class="translation menu-item_47ac2 flex text-sm font-bold items-center px-3 py-2"><div><div class="relative flex-center h-14"><button class="nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200"><span class="text-sm font-medium flex" style="margin-right:2px"><svg width="18" height="18" viewBox="0 0 32 32" style="with:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div class="nav-menu-group-content absolute mx-0.8 transition-opacity duration-300" style="opacity:0;visibility:hidden;right:0;top:52px"><div class="p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap" style="box-shadow:var(--rp-shadow-3);z-index:100;border:1px solid var(--rp-c-divider-light);border-radius:2rem;background:var(--rp-c-bg)"><div><div class="rounded-2xl my-1 flex" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><span class="text-brand">简体中文</span></div></div><div><div class="font-medium my-1"><a class="link_b3367  cursor-pointer" target="" href="/builder/en/guide/faq/exceptions.html"><div class="rounded-2xl hover:bg-mute" style="padding:0.4rem 1.5rem 0.4rem 0.75rem"><div class="flex"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"></path></svg></div></div></div><div class="social-links menu-item_8cbd0 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_8cbd0"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div></div><div class="mobileNavMenu_47ac2"><div class="navScreen_8624f " id="navScreen"><div class="container_8624f"><div class="navMenu_8624f"><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/builder/guide/introduction.html"><div class="singleItem_47ac2 activeItem_47ac2 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">指南</div></a></div><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/builder/api/index.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">API</div></a></div><div class="navMenuItem_8624f w-full"><a class="link_b3367  cursor-pointer" target="" href="/builder/plugins/introduction.html"><div class="singleItem_47ac2  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">插件</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_8624f flex justify-center"></div><div class="undefined flex text-sm font-bold justify-center"><div class="mx-1.5 my-1"><div class=" navScreenMenuGroup_de8a5 relative"><button class="button_de8a5"><span class="buttonSpan_de8a5"><svg width="18" height="18" viewBox="0 0 32 32" style="width:18px;height:18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" down_de8a5 "><path fill="currentColor" d="M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path></svg></button><div><div class="items_de8a5"><div><div class="p-1"><span class="text-brand">简体中文</span></div></div><div><div class="py-1 font-medium"><a class="link_b3367  cursor-pointer" target="" href="/builder/en.html"><div><div class="flex justify-center"><span>English</span></div></div></a></div></div></div></div></div></div></div><div class="social-links menu-item_8cbd0 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_8cbd0"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div></div></div><button class=" navHamburger_2498a text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div></header><section><div class="docLayout_feeda pt-0"><div class="rspress-sidebar-menu"><button class="flex-center"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button></div><aside class="sidebar_74484 rspress-sidebar "><div class="mt-1 sidebarContent_74484"><div class="rspress-scrollbar" style="max-height:calc(100vh - var(--rp-nav-height) - 8px);overflow:scroll"><nav class="pb-2"><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">开始</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/introduction.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">介绍</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/quick-start.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">快速上手</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/glossary.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">名词解释</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/features.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">功能导航</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">基础</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/builder-config.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">Builder 配置项</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/build-target.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建产物类型</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/output-files.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建产物目录</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/css-usage.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用样式资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/static-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用静态资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/svg-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用 SVG 资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/json-files.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用 JSON 文件</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/wasm-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">引用 Wasm 资源</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/html-template.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">配置 HTML 模板</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/css-modules.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 CSS Modules</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/typescript.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 TypeScript</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/basic/builder-cli.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 Builder CLI</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">进阶</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/rspack-start.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 Rspack</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/alias.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">路径别名</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/define.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">环境变量</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/hmr.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">模块热更新</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/rem.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">开启 REM 适配</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/browserslist.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">设置浏览器范围</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/browser-compatibility.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">浏览器兼容性</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/custom-webpack-config.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">修改 webpack 配置</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/advanced/source-build.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">源码构建模式</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">框架</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/framework/vue3.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建 Vue 3 应用</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/framework/vue2.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">构建 Vue 2 应用</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">优化</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/optimize-bundle.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">产物体积优化</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/build-performance.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">提升构建性能</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/split-chunk.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">拆包最佳实践</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/optimization/inline-assets.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">静态资源内联</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">调试</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/debug/debug-mode.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">开启调试模式</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/debug/inspector.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">使用 Webpack Inspector</div></a></div></div></div></section><section class="mt-0.5 block" style="margin-left:0"><div class="flex justify-between items-center  menuItemStatic_74484" style="border-radius:0 1rem 1rem 0;cursor:normal"><h2 class="py-2.5 px-3 text-sm font-medium flex" style="color:var(--rp-c-text-1);font-size:14px;padding-left:24px;font-weight:bold">常见问题</h2></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/general.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">通用类问题</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/features.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">功能类问题</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/exceptions.html"><div class="menuItemActive_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0;color:var(--rp-c-brand)">异常类问题</div></a></div><div><a class="link_b3367 menuLink_74484 cursor-pointer" target="" href="/builder/guide/faq/hmr.html"><div class="menuItem_74484 mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 1rem 1rem 0">热更新问题</div></a></div></div></div></section></nav></div></div></aside><div class="content_feeda rspress-doc-container flex flex-shrink-0"><div class="w-full"><div><div class="rspress-doc"><!--$--><h1 id="异常类问题" class="text-3xl mb-10 leading-10 tracking-tight title_f1ea0">异常类问题<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#异常类问题">#</a></h1>
<h3 id="webpack-编译出现-compilation-argument-报错" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">webpack 编译出现 &#x27;compilation&#x27; argument 报错？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#webpack-编译出现-compilation-argument-报错">#</a></h3>
<p class="my-4 leading-7">如果编译时出现以下报错，通常是由于项目中安装了错误的 webpack 版本，或者安装了多个 webpack 版本引起：</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>TypeError: The </span><span class="token" style="color:var(--code-token-string)">&#x27;compilation&#x27;</span><span> argument must be an instance of Compilation</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">webpack 版本问题有以下几种情况：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">项目的 package.json 中直接声明了 webpack 依赖，并且与 Builder 依赖的 webpack 版本范围不同，无法匹配到同一个版本。</li>
<li class="[&amp;:not(:first-child)]:mt-2">项目里安装的多个 npm 包都依赖了 webpack，并且它们依赖的 webpack 版本范围不同，无法匹配到同一个版本。</li>
<li class="[&amp;:not(:first-child)]:mt-2">由于包管理器的 lock 机制，导致 lock 文件中产生了多个 webpack 版本。</li>
</ol>
<p class="my-4 leading-7">如果是第一种情况，建议从项目的 package.json 中移除 webpack 依赖。因为 Builder 默认封装了 webpack 相关能力，并且会在 <a href="/builder/api/config-tools.html#toolswebpack" class="link_f1ea0 undefined">tools.webpack</a> 配置项中传入 webpack 对象。因此在大多数情况下，不建议在项目中额外安装 webpack 依赖。</p>
<p class="my-4 leading-7">如果是第二种情况，建议看看能否升级某个 npm 包，使其依赖的 webpack 版本范围与 Builder 保持一致。也可以通过包管理器的能力来手动统一版本，比如使用 <a href="https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">yarn resolutions</a> 或 <a href="https://pnpm.io/package_json#pnpmoverrides" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">pnpm overrides</a>。</p>
<p class="my-4 leading-7">如果是第三种情况，可以使用第二种情况中提到的两种方法，也可以尝试删除 lock 文件后重新安装来解决。</p>
<div class="rspress-directive tip"><div class="rspress-directive-title">TIP</div><div class="rspress-directive-content"><p class="my-4 leading-7">删除 lock 文件会使项目中的依赖版本自动升级到指定范围下的最新版，请进行充分的测试。</p></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译产物中存在未编译的-es6-代码" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译产物中存在未编译的 ES6+ 代码？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译产物中存在未编译的-es6-代码">#</a></h3>
<p class="my-4 leading-7">默认情况下，Builder 不会通过 <code>babel-loader</code> 或 <code>ts-loader</code> 来编译 <code>node_modules</code> 下的文件。如果项目引入的 npm 包中含有 ES6+ 语法，会被打包进产物中。</p>
<p class="my-4 leading-7">遇到这种情况时，可以通过 <a href="/builder/api/config-source.html#sourceinclude" class="link_f1ea0 undefined">source.include</a> 配置项来指定需要额外进行编译的目录或模块。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="在-monorepo-中引用其他模块代码没有被正确编译" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">在 Monorepo 中引用其他模块，代码没有被正确编译？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#在-monorepo-中引用其他模块代码没有被正确编译">#</a></h3>
<p class="my-4 leading-7">出于编译性能的考虑，默认情况下，Builder 不会编译 <code>node_modules</code> 下的文件，也不会编译当前工程目录外部的文件。</p>
<p class="my-4 leading-7">因此，当你引用其他子项目的源代码时，可能会遇到类似 <code>You may need an additional loader to handle the result of these loaders.</code> 的报错。</p>
<p class="my-4 leading-7">这个问题有以下解决方法：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">你可以开启源码构建模式来编译 monorepo 中的其他子项目，参考<a href="/builder/guide/advanced/source-build.html" class="link_f1ea0 undefined">「源码构建模式」</a>。</li>
<li class="[&amp;:not(:first-child)]:mt-2">你可以添加 <code>source.include</code> 配置项，指定需要额外进行编译的目录或模块，参考 <a href="/builder/api/config-source.html#sourceinclude" class="link_f1ea0 undefined">source.include 用法介绍</a>。</li>
<li class="[&amp;:not(:first-child)]:mt-2">你可以预先构建需要引用的子项目，生成对应的构建产物，并在当前项目引用构建产物，而不是引用源代码。</li>
</ol>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-you-may-need-additional-loader" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 <code>You may need additional loader</code>？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-you-may-need-additional-loader">#</a></h3>
<p class="my-4 leading-7">如果编译过程中遇到了以下报错提示，表示存在个别文件无法被正确编译。</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Module parse failed: Unexpected token
</span></span><span style="display:block;padding:0 1.25rem">File was processed with these loaders:
</span><span style="display:block;padding:0 1.25rem"> * some-loader/index.js
</span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem">You may need an additional loader to handle the result of these loaders.</span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">解决方法：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">如果是引用了当前工程外部的 <code>.ts</code> 文件，或者是 node_modules 下的 <code>.ts</code> 文件，请添加 <a href="/builder/api/config-source.html#sourceinclude" class="link_f1ea0 undefined">source.include</a> 配置项，指定需要额外进行编译的文件。</li>
<li class="[&amp;:not(:first-child)]:mt-2">如果是引用了 Builder 不支持的文件格式，请自行配置对应的 webpack loader 进行编译。</li>
</ul>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-error-object-object-is-not-a-postcss-plugin-" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 <code>Error: [object Object] is not a PostCSS plugin</code> ?<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-error-object-object-is-not-a-postcss-plugin-">#</a></h3>
<p class="my-4 leading-7">目前，Modern.js 使用的是 v8 版本的 PostCSS。如果编译过程中遇到了 <code>Error: [object Object] is not a PostCSS plugin</code> 报错提示，通常是由于引用到了错误的 PostCSS 版本导致，常见的如 <code>cssnano</code> 中 <code>postcss</code> (peerDependencies) 版本不符合预期。</p>
<p class="my-4 leading-7">可以通过 <code>npm ls postcss</code> 查找 <code>UNMET PEER DEPENDENCY</code> 的依赖，然后在 package.json 中通过指定 PostCSS 版本等方式安装正确的依赖版本即可。</p>
<div class="language-bash"><div class="rspress-code-content"><code>npm ls postcss

 ├─┬ css-loader@6.3.0
 │ └── UNMET PEER DEPENDENCY postcss@8.3.9
 ├─┬ css-minimizer-webpack-plugin@3.0.0
 │ └── UNMET PEER DEPENDENCY postcss@8.3.9
</code></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打开页面后报错提示-exports-is-not-defined" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打开页面后报错，提示 exports is not defined？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打开页面后报错提示-exports-is-not-defined">#</a></h3>
<p class="my-4 leading-7">如果编译正常，但是打开页面后出现 <code>exports is not defined</code> 报错，通常是因为在项目中使用 Babel 编译了一个 CommonJS 模块，导致 Babel 出现异常。</p>
<p class="my-4 leading-7">在正常情况下，Builder 是不会使用 Babel 来编译 CommonJS 模块的。如果项目中使用了 <a href="/builder/api/config-source.html#sourceinclude" class="link_f1ea0 undefined">source.include</a> 配置项，或使用了 <a href="/builder/api/config-tools.html#toolsbabel" class="link_f1ea0 undefined">tools.babel</a> 的 <code>addIncludes</code> 方法，则可能会把一些 CommonJS 模块加入到 Babel 编译中。</p>
<p class="my-4 leading-7">该问题有两种解决方法：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">避免将 CommonJS 模块加入到 Babel 编译中。</li>
<li class="[&amp;:not(:first-child)]:mt-2">将 Babel 的 <code>sourceType</code> 配置项设置为 <code>unambiguous</code>，示例如下：</li>
</ol>
<div class="language-js"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-js" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token literal-property" style="color:var(--code-token-parameter)">tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token parameter">config</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>sourceType </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;unambiguous&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">将 <code>sourceType</code> 设置为 <code>unambiguous</code> 可能会产生一些其他影响，请参考 <a href="https://babeljs.io/docs/en/options#sourcetype" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">Babel 官方文档</a>。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 &quot;Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax&quot;？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax">#</a></h3>
<p class="my-4 leading-7">如果编译时出现以下报错，通常也是因为在项目中使用 Babel 编译了一个 CommonJS 模块，解决方法与上述的 <code>exports is not defined</code> 问题一致。</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Error: ES Modules may not assign module.exports or exports.*, Use ESM </span><span class="token class-name" style="color:var(--code-token-symbol)">export</span><span> syntax, instead: </span><span class="token number">581</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">更多信息请参考 issue：<a href="https://github.com/babel/babel/issues/12731" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">babel#12731</a>。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译时报错-export-foo-imported-as-foo-was-not-found-in-utils" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译时报错 &quot;export &#x27;foo&#x27; (imported as &#x27;foo&#x27;) was not found in &#x27;./utils&#x27;&quot;？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译时报错-export-foo-imported-as-foo-was-not-found-in-utils">#</a></h3>
<p class="my-4 leading-7">如果编译的过程中出现此报错，说明代码中引用了一个不存在的导出。</p>
<p class="my-4 leading-7">比如以下例子，<code>index.ts</code> 中引用了 <code>utils.ts</code> 中的 <code>foo</code> 变量， 但 <code>utils.ts</code> 实际上只导出了 <code>bar</code> 变量。</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// utils.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">const</span><span> bar </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bar&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// index.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在这种情况下，Builder 会抛出以下错误：</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Compile Error:
</span></span><span style="display:block;padding:0 1.25rem">File: ./src/index.ts
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token class-name" style="color:var(--code-token-symbol)">export</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;foo&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>imported as </span><span class="token" style="color:var(--code-token-string)">&#x27;foo&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> was not found </span><span class="token" style="color:var(--code-token-keyword)">in</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>possible exports: bar</span><span class="token" style="color:var(--code-token-punctuation)">)</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">当你遇到该问题时，首先需要检查相关代码里 import / export 的内容是否正确，并修正相关错误。</p>
<p class="my-4 leading-7">常见的错误写法有：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">引入了不存在的变量：</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// utils.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">const</span><span> bar </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bar&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// index.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">re-export 了一个类型，但是没有添加 <code>type</code> 修饰符，导致 babel 等编译工具无法识别到类型导出，导致编译异常。</li>
</ul>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// utils.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token class-name">Foo</span><span> </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;bar&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// index.ts</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> Foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 错误写法</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> Foo </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;./utils&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 正确写法</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">在个别情况下，以上报错是由第三方依赖引入的，你无法直接修改它。此时，如果你确定该问题不影响你的应用，那么可以添加以下配置，将 <code>error</code> 日志修改为 <code>warn</code> 级别：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">webpackChain</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>chain</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      chain</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>module</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>parser</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">merge</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        javascript</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          exportsPresence</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;warn&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">同时，你需要尽快联系第三方依赖的开发者来修复相应的问题。</p>
<blockquote class="border-l-2 border-solid border-divider pl-4 my-6 transition-colors duration-500 blockquote_f1ea0">
<p class="my-4 leading-7">你可以查看 webpack 的文档来了解 <a href="https://webpack.js.org/configuration/module/#moduleparserjavascriptexportspresence" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">module.parser.javascript.exportsPresence</a> 的更多细节。</p>
</blockquote>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="编译进度条卡死但终端无-error-日志" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">编译进度条卡死，但终端无 Error 日志？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#编译进度条卡死但终端无-error-日志">#</a></h3>
<p class="my-4 leading-7">当编译进度条卡死，但终端无 Error 日志时，通常是因为编译过程中出现了异常。在某些情况下，当 Error 被 webpack 或其他模块捕获后，错误日志不会被正确输出。最为常见的场景是 Babel 配置出现异常，抛出 Error 后被 webpack 捕获，而 webpack 在个别情况下吞掉了 Error。</p>
<p class="my-4 leading-7"><strong class="font-semibold">解决方法：</strong></p>
<p class="my-4 leading-7">如果你修改 Babel 配置后出现此问题，建议检查是否有以下错误用法：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">配置了一个不存在的 plugin 或 preset，可能是名称拼写错误，或是未正确安装。</li>
</ol>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 错误示例</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> addPlugins </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-comment)">// 该插件名称错误，或者未安装</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-function)">addPlugins</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-not-exists&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ol start="2" class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">是否配置了多个 babel-plugin-import，但是没有在数组的第三项声明每一个 babel-plugin-import 的名称。</li>
</ol>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 错误示例</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> addPlugins </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-function)">addPlugins</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd-mobile&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 正确示例</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> addPlugins </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-function)">addPlugins</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;antd&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-import&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> libraryName</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;antd-mobile&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> libraryDirectory</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;es&#x27;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-string)">&#x27;antd-mobile&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="webpack-编译缓存未生效应该如何排查" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">webpack 编译缓存未生效，应该如何排查？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#webpack-编译缓存未生效应该如何排查">#</a></h3>
<p class="my-4 leading-7">Builder 默认开启了 webpack 的持久化缓存。</p>
<p class="my-4 leading-7">首次编译完成后，会自动生成缓存文件，并输出到 <code>./node_modules/.cache/webpack</code> 目录下。执行第二次编译时，会命中缓存，并大幅度提高编译速度。</p>
<p class="my-4 leading-7">当 <code>package.json</code> 等配置文件被修改时，缓存会自动失效。</p>
<p class="my-4 leading-7">如果项目中 webpack 编译缓存一直未生效，可以添加以下配置进行排查：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">webpack</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>infrastructureLogging </span><span class="token operator">=</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token operator">...</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>infrastructureLogging</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        debug</span><span class="token operator">:</span><span> </span><span class="token regex-delimiter" style="color:var(--code-token-keyword)">/</span><span class="token regex-source language-regex" style="color:var(--code-token-keyword)">webpack\.cache</span><span class="token regex-delimiter" style="color:var(--code-token-keyword)">/</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">添加以上配置后，webpack 会输出日志用于 debug，请参考 <code>PackFileCacheStrategy</code> 相关的日志来了解缓存失效的原因。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打包后发现-tree-shaking-没有生效" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打包后发现 tree shaking 没有生效？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打包后发现-tree-shaking-没有生效">#</a></h3>
<p class="my-4 leading-7">Builder 在生产构建时会默认开启 webpack 的 tree shaking 功能，tree shaking 是否能够生效，取决于业务代码能否满足 webpack 的 tree shaking 条件。</p>
<p class="my-4 leading-7">如果你遇到了 tree shaking 不生效的问题，可以检查下相关 npm 包的 <code>sideEffects</code> 配置是否正确，如果你不了解 <code>sideEffects</code> 的作用，或是对 tree shaking 背后的原理感兴趣，可以阅读以下两篇文档：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://webpack.docschina.org/guides/tree-shaking/" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">webpack 官方文档 - Tree Shaking</a></li>
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://bytedance.feishu.cn/docs/doccn8E1ldDct5uv1EEDQs8Ycwe" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">Tree Shaking 问题排查指南</a></li>
</ul>
<p class="my-4 leading-7">如果你是 npm 包的开发者，可以阅读这篇文章：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://zhuanlan.zhihu.com/p/594124786" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">如何编写一个友好支持 Tree-shaking 的库</a></li>
</ul>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打包时出现-javascript-heap-out-of-memory" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打包时出现 JavaScript heap out of memory?<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打包时出现-javascript-heap-out-of-memory">#</a></h3>
<p class="my-4 leading-7">该报错表示打包过程中出现了内存溢出问题，大多数情况下是由于打包的内容较多，超出了 Node.js 默认的内存上限。</p>
<p class="my-4 leading-7">如果出现 OOM 问题，最简单的方法是通过增加内存上限来解决，Node.js 提供了 <code>--max-old-space-size</code> 选项来对此进行设置。你可以在 CLI 命令前添加 <a href="https://nodejs.org/api/cli.html#node_optionsoptions" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">NODE_OPTIONS</a> 来设置此参数。</p>
<p class="my-4 leading-7">比如，在 <code>modern build</code> 命令前添加参数：</p>
<div class="language-diff"><div class="rspress-code-title">package.json</div><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-diff" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>{
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> &quot;scripts&quot;: {
</span></span><span style="display:block;padding:0 1.25rem"><span class="token unchanged line"></span><span class="token deleted-sign prefix" style="color:#b31d28">-</span><span class="token deleted-sign line" style="color:#b31d28">   &quot;build&quot;: &quot;modern build&quot;
</span></span><span style="display:block;padding:0 1.25rem"><span class="token deleted-sign line" style="color:#b31d28"></span><span class="token inserted-sign prefix" style="color:#22863a">+</span><span class="token inserted-sign line" style="color:#22863a">   &quot;build&quot;: &quot;NODE_OPTIONS=--max_old_space_size=16384 modern build&quot;
</span></span><span style="display:block;padding:0 1.25rem"><span class="token inserted-sign line" style="color:#22863a"></span><span class="token unchanged prefix"> </span><span class="token unchanged line"> }
</span></span><span style="display:block;padding:0 1.25rem"><span class="token unchanged line"></span><span>}</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">如果你执行的是其他命令，比如 <code>modern deploy</code>，请在对应的命令前添加参数。</p>
<p class="my-4 leading-7"><code>max_old_space_size</code> 参数的值代表内存上限大小（MB)，一般情况下设置为 <code>16384</code>（16GB）即可。</p>
<p class="my-4 leading-7">Node.js 官方文档中有对以下参数更详细的解释：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://nodejs.org/api/cli.html#node_optionsoptions" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">NODE_OPTIONS</a></li>
<li class="[&amp;:not(:first-child)]:mt-2"><a href="https://nodejs.org/api/cli.html#--max-old-space-sizesize-in-megabytes" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">--max-old-space-size</a></li>
</ul>
<p class="my-4 leading-7">除了增加内存上限，通过开启一些编译策略来提升构建效率也是一个解决方案，请参考 <a href="/builder/guide/optimization/build-performance.html" class="link_f1ea0 undefined">提升构建性能</a>。</p>
<p class="my-4 leading-7">如果以上方式无法解决你的问题，可能是项目中某些异常逻辑导致了内存非正常溢出。你可以排查近期的代码变更，定位问题的根因。如果无法定位，请联系我们进行排查。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="打包时出现-cant-resolve-core-jsmodulesxxxjs" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">打包时出现 Can&#x27;t resolve &#x27;core-js/modules/xxx.js&#x27;？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#打包时出现-cant-resolve-core-jsmodulesxxxjs">#</a></h3>
<p class="my-4 leading-7">如果你在打包时出现了类似下面的报错，表示项目中的 <a href="https://github.com/zloirock/core-js" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">core-js</a> 无法被正确引用。</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>Module not found: Can</span><span class="token" style="color:var(--code-token-string)">&#x27;t resolve &#x27;</span><span>core-js/modules/es.error.cause.js&#x27;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">通常来说，你无须在项目中安装 <code>core-js</code>，因为 Builder 已经内置了一份 <code>core-js</code> v3。</p>
<p class="my-4 leading-7">如果出现 <code>core-js</code> 找不到的报错，可能有以下几个原因：</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">项目里覆盖了 Babel 配置的 <code>plugins</code>，导致内置的 <code>babelPluginLockCorejsVersion</code> 无法正确生效。这种情况将 <code>tools.babel</code> 更改为函数用法即可：</li>
</ol>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// 错误用法，会覆盖 Builder 默认的 Babel 插件</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    babel</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      plugins</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-xxx&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// 正确用法，在默认配置中新增一个插件，而非覆盖插件</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">export</span><span> </span><span class="token" style="color:var(--code-token-keyword)">default</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  tools</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-function)">babel</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>config</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      config</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span>plugins</span><span class="token" style="color:var(--code-token-punctuation)">.</span><span class="token" style="color:var(--code-token-function)">push</span><span class="token" style="color:var(--code-token-punctuation)">(</span><span class="token" style="color:var(--code-token-string)">&#x27;babel-plugin-xxx&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<ol start="2" class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">项目里某一处代码依赖了 <code>core-js</code> v2 版本。这种情况通常需要你找出对应的代码，并升级其中的 <code>core-js</code> 到 v3 版本。</li>
<li class="[&amp;:not(:first-child)]:mt-2"><code>node_modules</code> 中的某一个 npm 包引用了 <code>core-js</code>，但是没有在 <code>dependencies</code> 中声明 <code>core-js</code> 依赖。这种情况需要你在对应的 npm 包中声明 <code>core-js</code> 依赖，或者在项目根目录下安装一份 <code>core-js</code>。</li>
</ol>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="从-lodash-中引用类型后出现编译报错" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">从 lodash 中引用类型后出现编译报错？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#从-lodash-中引用类型后出现编译报错">#</a></h3>
<p class="my-4 leading-7">当你的项目中安装了 <code>@types/lodash</code> 包时，你可能会从 <code>lodash</code> 中引用一些类型，比如引用 <code>DebouncedFunc</code> 类型：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> debounce</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> DebouncedFunc </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">上述代码会在编译后产生如下报错：</p>
<div class="language-bash"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-bash" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span>SyntaxError: /project/src/index.ts: The </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span> method </span><span class="token" style="color:var(--code-token-variable)">`</span><span class="token" style="color:var(--code-token-variable)">DebouncedFunc</span><span class="token" style="color:var(--code-token-variable)">`</span><span> is not a known module.
</span></span><span style="display:block;padding:0 1.25rem">Please report bugs to https://github.com/lodash/babel-plugin-lodash/issues.</span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">这个问题的原因是 Builder 默认开启了 <a href="https://github.com/lodash/babel-plugin-lodash" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">babel-plugin-lodash</a> 插件来优化 lodash 产物体积，但 Babel 无法区别「值」和「类型」，导致编译后的代码出现异常。</p>
<p class="my-4 leading-7">解决方法是使用 TypeScript 的 <code>import type</code> 语法，对 <code>DebouncedFunc</code> 类型进行显式声明：</p>
<div class="language-ts"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-ts" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> debounce </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-keyword)">import</span><span> </span><span class="token" style="color:var(--code-token-keyword)">type</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> DebouncedFunc </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span> </span><span class="token" style="color:var(--code-token-keyword)">from</span><span> </span><span class="token" style="color:var(--code-token-string)">&#x27;lodash&#x27;</span><span class="token" style="color:var(--code-token-punctuation)">;</span></span></code></pre><button class="copy"></button></div></div>
<div class="rspress-directive tip"><div class="rspress-directive-title">TIP</div><div class="rspress-directive-content"><p class="my-4 leading-7">在任意情况下，我们都推荐使用 <code>import type</code> 来引用类型，这对于编译器识别类型会有很大帮助。
</p></div></div>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="less-文件中的除法不生效" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">Less 文件中的除法不生效？<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#less-文件中的除法不生效">#</a></h3>
<p class="my-4 leading-7">Less v4 版本与 v3 版本相比，除法的写法有一些区别：</p>
<div class="language-less"><div class="rspress-code-content"><pre class="code" style="background-color:inherit"><code class="language-less" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-comment)">// Less v3</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token selector">.math</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px .</span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem">
</span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-comment)">// Less v4</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token selector">.math</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 2px / 2</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> 2px .</span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">width</span><span class="token" style="color:var(--code-token-punctuation)">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">(</span><span>2px </span><span class="token operator">/</span><span> 2</span><span class="token" style="color:var(--code-token-punctuation)">)</span><span class="token" style="color:var(--code-token-punctuation)">;</span><span> </span><span class="token" style="color:var(--code-token-comment)">// 1px</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre><button class="copy"></button></div></div>
<p class="my-4 leading-7">Builder 内置的 Less 版本为 v4，低版本的写法不会生效，请注意区分。</p>
<p class="my-4 leading-7">Less 中除法的写法也可以通过配置项来修改，详见 <a href="https://lesscss.org/usage/#less-options-math" target="_blank" rel="noopener noreferrer" class="link_f1ea0 undefined">Less - Math</a>。</p>
<hr class="my-12 border-t bordder-solid border-divider-light"/>
<h3 id="修改配置后报错-typeerror-cannot-delete-property-xxx-of-object" class="mt-10 mb-2 leading-7 text-xl title_f1ea0">修改配置后，报错 ‘TypeError: Cannot delete property &#x27;xxx&#x27; of #&lt;Object&gt;’<a class="link_f1ea0 header-anchor" aria-hidden="true" href="#修改配置后报错-typeerror-cannot-delete-property-xxx-of-object">#</a></h3>
<p class="my-4 leading-7">该报错表示在编译过程中对一个只读配置项进行了删除操作。通常情况下，我们不希望编译过程中的任何操作会直接对传入的配置进行修改，但难以限制底层插件（如 postcss-loader 等）的行为，如果出现该报错，请联系 Builder 开发者，我们需要对该配置进行单独处理。</p>
<p class="my-4 leading-7">同类型报错还有：</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">&#x27;TypeError: Cannot add property xxx, object is not extensible&#x27;</li>
<li class="[&amp;:not(:first-child)]:mt-2">&#x27;TypeError: Cannot assign to read only property &#x27;xxx&#x27; of object &#x27;#&lt;Object&gt;&#x27;</li>
</ul><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"><a href="https://github.com/web-infra-dev/modern.js/tree/main/packages/document/builder-doc/docs/zh/guide/faq/exceptions.md" target="_blank" class="editLink_eea9e">Edit this page on GitHub</a></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_33e00 flex flex-col"><a class="link_b3367 pager-link_33e00 cursor-pointer" target="" href="/builder/guide/faq/features.html"><span class="desc_33e00">上一页</span><span class="title_33e00">功能类问题</span></a></div><div class="next_33e00 flex flex-col"><a class="link_b3367 pager-link_33e00 next_33e00 cursor-pointer" target="" href="/builder/guide/faq/hmr.html"><span class="desc_33e00">下一页</span><span class="title_33e00">热更新问题</span></a></div></div></footer></div></div></div><div class="aside-container_feeda" style="max-height:calc(100vh - (var(--rp-nav-height) + 32px));overflow:scroll"><div><div class="flex flex-col"><div class="&lt;lg:hidden"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">目录</div><nav class="mt-1"><ul class="relative"><li><a href="#webpack-编译出现-compilation-argument-报错" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">webpack 编译出现 \&#x27;compilation\&#x27; argument 报错？</span></a></li><li><a href="#编译产物中存在未编译的-es6-代码" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译产物中存在未编译的 ES6+ 代码？</span></a></li><li><a href="#在-monorepo-中引用其他模块代码没有被正确编译" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">在 Monorepo 中引用其他模块，代码没有被正确编译？</span></a></li><li><a href="#编译时报错-you-may-need-additional-loader" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 You may need additional loader？</span></a></li><li><a href="#编译时报错-error-object-object-is-not-a-postcss-plugin-" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 Error: [object Object] is not a PostCSS plugin ?</span></a></li><li><a href="#打开页面后报错提示-exports-is-not-defined" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打开页面后报错，提示 exports is not defined？</span></a></li><li><a href="#编译时报错-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 \&quot;Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax\&quot;？</span></a></li><li><a href="#编译时报错-export-foo-imported-as-foo-was-not-found-in-utils" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译时报错 \&quot;export \&#x27;foo\&#x27; (imported as \&#x27;foo\&#x27;) was not found in \&#x27;./utils\&#x27;\&quot;？</span></a></li><li><a href="#编译进度条卡死但终端无-error-日志" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">编译进度条卡死，但终端无 Error 日志？</span></a></li><li><a href="#webpack-编译缓存未生效应该如何排查" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">webpack 编译缓存未生效，应该如何排查？</span></a></li><li><a href="#打包后发现-tree-shaking-没有生效" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打包后发现 tree shaking 没有生效？</span></a></li><li><a href="#打包时出现-javascript-heap-out-of-memory" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打包时出现 JavaScript heap out of memory?</span></a></li><li><a href="#打包时出现-cant-resolve-core-jsmodulesxxxjs" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">打包时出现 Can\&#x27;t resolve \&#x27;core-js/modules/xxx.js\&#x27;？</span></a></li><li><a href="#从-lodash-中引用类型后出现编译报错" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">从 lodash 中引用类型后出现编译报错？</span></a></li><li><a href="#less-文件中的除法不生效" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">Less 文件中的除法不生效？</span></a></li><li><a href="#修改配置后报错-typeerror-cannot-delete-property-xxx-of-object" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="padding-left:0;font-weight:semibold"><span class="aside-link-text block">修改配置后，报错 ‘TypeError: Cannot delete property \&#x27;xxx\&#x27; of #&lt;Object&gt;’</span></a></li></ul></nav></div></div></div></div></div></div></div></section></div></div><div id="search-container"></div></body></html>