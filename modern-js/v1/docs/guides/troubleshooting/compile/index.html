<!doctype html>
<html class="docs-version-current" lang="zh-cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=0.86,maximum-scale=3,minimum-scale=0.86">
<meta name="generator" content="Docusaurus v2.0.0-beta.16">
<link rel="alternate" type="application/rss+xml" href="/v1/blog/rss.xml" title="Modern.js - 现代 Web 工程体系 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/v1/blog/atom.xml" title="Modern.js - 现代 Web 工程体系 Atom Feed">

              <script>!function(e,r,n,t,s,o,a,i,c,l,d,f,m,p){o="precollect",a="getAttribute",i="addEventListener",l=function(e){(d=[].slice.call(arguments)).push(Date.now(),location.href),(e==o?l.p.a:l.q).push(d)},l.q=[],l.p={a:[]},e[s]=l,(f=document.createElement("script")).src=n+"?bid=modernjs_dev&globalName="+s,f.crossorigin=n.indexOf("sdk-web")>0?"anonymous":"use-credentials",r.getElementsByTagName("head")[0].appendChild(f),i in e&&(l.pcErr=function(r){r=r||e.event,(m=r.target||r.srcElement)instanceof Element||m instanceof HTMLElement?m[a]("integrity")?e[s](o,"sri",m[a]("href")||m[a]("src")):e[s](o,"st",{tagName:m.tagName,url:m[a]("href")||m[a]("src")}):e[s](o,"err",r.error)},l.pcRej=function(r){r=r||e.event,e[s](o,"err",r.reason||r.detail&&r.detail.reason)},e[i]("error",l.pcErr,!0),e[i]("unhandledrejection",l.pcRej,!0)),"PerformanceLongTaskTiming"in e&&((p=l.pp={entries:[]}).observer=new PerformanceObserver((function(e){p.entries=p.entries.concat(e.getEntries)})),p.observer.observe({entryTypes:["longtask","largest-contentful-paint","layout-shift"]}))}(window,document,"https://lf3-short.bytegoofy.com/slardar/fe/sdk-web/browser.cn.js",0,"Slardar")</script>
              

              <script>window.Slardar("init",{bid:"modernjs_dev"}),window.Slardar("start")</script><title data-rh="true">编译构建问题 | Modern.js - 现代 Web 工程体系</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://modernjs.dev//v1/docs/guides/troubleshooting/compile"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="编译构建问题 | Modern.js - 现代 Web 工程体系"><meta data-rh="true" name="description" content="如何配置 Webpack/Babel/PostCSS 等工具？"><meta data-rh="true" property="og:description" content="如何配置 Webpack/Babel/PostCSS 等工具？"><link data-rh="true" rel="icon" href="/v1/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://modernjs.dev//v1/docs/guides/troubleshooting/compile"><link data-rh="true" rel="alternate" href="https://modernjs.dev//v1/docs/guides/troubleshooting/compile" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://modernjs.dev//v1/docs/guides/troubleshooting/compile" hreflang="x-default"><link rel="stylesheet" href="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/css/styles.a58cca6f.css">
<link rel="preload" href="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/runtime~main.3916d3df.js" as="script">
<link rel="preload" href="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/main.10059475.js" as="script">
</head>
<body class="navigation-with-keyboard" itemscope="" itemtype="http://schema.org/Organization">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_vNYA">跳转到主文档</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/v1/"><div class="navbar__logo"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="Modernjs Logo" class="themedImage_n92u themedImage--light_y_Wq"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="Modernjs Logo" class="themedImage_n92u themedImage--dark_Yker"></div></a><a class="navbar__item navbar__link" category="start" href="/v1/docs/start/mobile">开始</a><a class="navbar__item navbar__link navbar__link--active" category="guides" href="/v1/docs/guides/overview">指南</a><a class="navbar__item navbar__link" category="apis" secondnav="[object Object],[object Object],[object Object],[object Object]" href="/v1/docs/apis/app/overview">API</a><a class="navbar__item navbar__link" category="blog" href="/v1/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/v1/docs/start/mobile">v1</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v1/docs/guides/troubleshooting/compile">v1</a></li><li><a href="https://modernjs.dev" target="_blank" rel="noopener noreferrer" class="dropdown__link">v2</a></li></ul></div><a href="https://github.com/modern-js-dev/modern.js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_XeVK toggle_OJjR toggleDisabled_Z8Cn"><div class="toggleTrack_PvR1" role="button" tabindex="-1"><div class="toggleTrackCheck_gRC3"><span class="toggleIcon_nnjB">🌜</span></div><div class="toggleTrackX_EA4h"><span class="toggleIcon_nnjB">🌞</span></div><div class="toggleTrackThumb_UJue"></div></div><input type="checkbox" class="toggleScreenReader_YzIt" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="navbar__search searchBarContainer_sys0"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_qAjI searchBarLoadingRing_lBm8"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_H39s"><kbd class="searchHint_QriA">ctrl</kbd><kbd class="searchHint_QriA">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_LUsn"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sdUD" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_bUDR"><div class="sidebar_OIjQ"><nav class="menu thin-scrollbar menu_cTqK"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1/docs/guides/overview">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/v1/docs/guides/tutorials/overview">实战教程</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/tutorials/overview">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c01-getting-started/1.1-prerequisites">1: 手动创建应用工程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c02-generator-and-studio/2.1-generator">2: 自动创建应用工程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c03-ide/3.1-setting-up">3: 确认编程环境</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c04-es6-plus-and-ts/4.1-use-es6-plus">4: 写 JS 代码</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c05-component/5.1-use-ui-library">5: 使用 UI 组件</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c06-css-and-component/6.1-css-in-js">6: 添加 UI 组件</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c07-app-entry/7.1-intro">7: 添加应用入口</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c08-client-side-routing/8.1-code-based-routing">8: 添加客户端路由</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c09-bff/9.1-serverless">9: 添加 BFF</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c10-model/10.1-application-architecture">10: 添加业务模型</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/tutorials/c11-container/11.1-use-model-with-app-state">11: 添加容器组件</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/v1/docs/guides/features/overview">专题详解</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/features/overview">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/runtime/code-splitting">Runtime API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/model/quick-start">Reduck 状态管理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/server-side/web/routes">服务器端需求</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/micro-frontend/introduction">微前端</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/electron/basic">Electron</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/modules/intro">可复用模块</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/monorepo/intro">Monorepo</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/changesets/introduce">包版本管理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/framework-plugin/abstract">自定义插件</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/features/generator-plugin/abstract">自定义生成器插件</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/v1/docs/guides/usages/overview">更多用法</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/overview">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/usages/css/css-in-js">CSS 开发方案</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v1/docs/guides/usages/debug/proxy-and-mock">调试模式</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/entries">自定义入口和服务器端路由</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/eslint">ESLint 全量规则集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/compatibility">客户端兼容性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/globals">别名、环境变量和全局变量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/html">自定义 HTML 模板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/low-level">配置底层工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/usages/compile-speed">提升编译速度</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/v1/docs/guides/troubleshooting/compile">常见问题</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v1/docs/guides/troubleshooting/compile">编译构建问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v1/docs/guides/troubleshooting/dependencies">依赖安装问题</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_EUzF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_qRdY"><div class="docItemContainer_rJDo"><article><div class="tocCollapsible_X5LK theme-doc-toc-mobile tocMobile_AO2R"><button type="button" class="clean-btn tocCollapsibleButton_ZI0Q">当前页面</button></div><div class="theme-doc-markdown markdown"><h1>编译构建问题</h1><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何配置-webpackbabelpostcss-等工具">如何配置 Webpack/Babel/PostCSS 等工具？<a class="hash-link" href="#如何配置-webpackbabelpostcss-等工具" title="Direct link to heading">​</a></h3><p>请参考 <a href="/v1/docs/guides/usages/low-level">配置底层工具</a>。</p><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何自定义-html-模板">如何自定义 HTML 模板？<a class="hash-link" href="#如何自定义-html-模板" title="Direct link to heading">​</a></h3><p>请参考 <a href="/v1/docs/guides/usages/html">自定义 HTML 模板</a>。</p><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何提升编译构建速度">如何提升编译构建速度？<a class="hash-link" href="#如何提升编译构建速度" title="Direct link to heading">​</a></h3><p>请参考 <a href="/v1/docs/guides/usages/compile-speed">提升编译速度</a>。</p><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何查看最终生效的-webpack-配置">如何查看最终生效的 webpack 配置？<a class="hash-link" href="#如何查看最终生效的-webpack-配置" title="Direct link to heading">​</a></h3><p>可以通过 <a href="/v1/docs/apis/app/commands/inspect">modern inspect</a> 命令来查看最终生效的 webpack 配置。</p><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何配置组件库按需引入">如何配置组件库按需引入？<a class="hash-link" href="#如何配置组件库按需引入" title="Direct link to heading">​</a></h3><p>默认情况下，Modern.js 内置了 antd 组件库的按需引入配置。</p><p>如果需要配置其他组件库的按需引入，可以通过 <a href="/v1/docs/apis/app/config/tools/babel">tools.babel</a> 配置 <a href="https://github.com/umijs/babel-plugin-import" target="_blank" rel="noopener noreferrer">babel-plugin-import</a> 插件。</p><div class="codeBlockContainer_g4Ai language-ts theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_HVIg">modern.config.ts</div><div class="codeBlockContent_Wf5g ts"><pre tabindex="0" class="prism-code language-ts codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tools</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">babel</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> addPlugins </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">addPlugins</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;babel-plugin-import&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            libraryName</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx-components&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            libraryDirectory</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;es&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            style</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何移除代码中的-console">如何移除代码中的 console？<a class="hash-link" href="#如何移除代码中的-console" title="Direct link to heading">​</a></h3><p>在生产环境构建时，我们可以移除代码中的 <code>console</code>，从而避免开发环境的日志被输出到生产环境。</p><p>由于 Modern.js 默认在生产环境使用 <a href="https://github.com/terser/terser" target="_blank" rel="noopener noreferrer">terser</a> 进行代码压缩，因此我们可以通过 <a href="/v1/docs/apis/app/config/tools/terser">tools.terser</a> 配置项来移除 <code>console</code>：</p><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_HVIg">modern.config.ts</div><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">tools</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">terser</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token parameter">opt</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">terserOptions</span><span class="token operator" style="color:rgb(137, 221, 255)">?.</span><span class="token plain">compress </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;object&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">terserOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">compress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">drop_console</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>如果只希望移除 <code>console.log</code> 和 <code>console.warn</code>，保留 <code>console.error</code>，可以配置为：</p><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_HVIg">modern.config.ts</div><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">tools</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">terser</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token parameter">opt</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">terserOptions</span><span class="token operator" style="color:rgb(137, 221, 255)">?.</span><span class="token plain">compress </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;object&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        opt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">terserOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">compress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pure_funcs</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;console.log&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;console.warn&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何清空-webpack-编译缓存">如何清空 webpack 编译缓存？<a class="hash-link" href="#如何清空-webpack-编译缓存" title="Direct link to heading">​</a></h3><p>默认情况下，Modern.js 的 webpack 编译缓存生成在 <code>./node_modules/.cache/webpack</code> 目录下。</p><p>如果需要清空本地的编译缓存，可以执行以下命令：</p><div class="codeBlockContainer_g4Ai language-bash theme-code-block"><div class="codeBlockContent_Wf5g bash"><pre tabindex="0" class="prism-code language-bash codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf ./node_modules/.cache</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何配置静态资源的-cdn-路径">如何配置静态资源的 CDN 路径？<a class="hash-link" href="#如何配置静态资源的-cdn-路径" title="Direct link to heading">​</a></h3><p>如果需要将 JS、CSS 等静态资源上传到 CDN 使用，那么可以通过 <a href="/v1/docs/guides/troubleshooting/docs/apis/app/config/output/asset-prefix">output.assetPrefix</a> 配置来设置静态资源的 URL 前缀。</p><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_HVIg">modern.config.js</div><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@modern-js/app-tools&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">output</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">assetPrefix</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://cdn.example.com/assets/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何在编译过程中进行-eslint-代码校验">如何在编译过程中进行 ESLint 代码校验？<a class="hash-link" href="#如何在编译过程中进行-eslint-代码校验" title="Direct link to heading">​</a></h3><p>出于编译性能的考虑，Modern.js 默认不会在编译过程中进行 ESLint 校验，如果需要该功能，可以手动安装并注册社区中的 <a href="https://github.com/webpack-contrib/eslint-webpack-plugin" target="_blank" rel="noopener noreferrer">eslint-webpack-plugin</a>。</p><p>注册该插件的示例代码如下，更详细的用法请参考 <a href="https://github.com/webpack-contrib/eslint-webpack-plugin" target="_blank" rel="noopener noreferrer">eslint-webpack-plugin</a> 文档。</p><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_HVIg">modern.config.js</div><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@modern-js/app-tools&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ESLintPlugin</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;eslint-webpack-plugin&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">tools</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">webpackChain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">plugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;eslint-plugin&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">ESLintPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token literal-property property">extensions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.js&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.ts&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.jsx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;tsx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.mjs&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="如何配置-sri-校验">如何配置 SRI 校验？<a class="hash-link" href="#如何配置-sri-校验" title="Direct link to heading">​</a></h3><p>在 Modern.js 中，需要自主引入社区中的 <a href="https://github.com/waysact/webpack-subresource-integrity" target="_blank" rel="noopener noreferrer">webpack-subresource-integrity</a> 插件来开启 SRI 校验。</p><p>配置 <a href="https://github.com/waysact/webpack-subresource-integrity" target="_blank" rel="noopener noreferrer">webpack-subresource-integrity</a> 的示例如下：</p><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_HVIg">modern.config.js</div><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@modern-js/app-tools&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">SubresourceIntegrityPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;webpack-subresource-integrity&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">tools</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">webpackChain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">crossOriginLoading</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;anonymous&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      chain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">plugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;subresource-integrity&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">SubresourceIntegrityPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>SRI</h5></div><div class="admonition-content"><p>子资源完整性 Subresource Integrity（SRI）是专门用来校验资源的一种方案，它读取资源标签中的 integrity 属性，将其中的信息摘要值，和资源实际的信息摘要值进行对比，如果发现无法匹配，那么浏览器就会拒绝执行资源。</p><p>对于 script 标签来说，结果为拒绝执行其中的代码；对于 CSS link 来说，结果为不加载其中的样式。</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="lesssass-代码没有被正确编译">Less/Sass 代码没有被正确编译？<a class="hash-link" href="#lesssass-代码没有被正确编译" title="Direct link to heading">​</a></h3><p>Modern.js 通过插件来编译 Less/Sass 代码，请确认你是否启用了对应的插件。</p><ul><li><a href="/v1/docs/apis/app/config/tools/less#%E5%90%AF%E7%94%A8">启用 Less 插件教程</a></li><li><a href="/v1/docs/apis/app/config/tools/sass#%E5%90%AF%E7%94%A8">启用 Sass 插件教程</a></li></ul><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="在-monorepo-中引用其他模块代码没有被正确编译">在 Monorepo 中引用其他模块，代码没有被正确编译？<a class="hash-link" href="#在-monorepo-中引用其他模块代码没有被正确编译" title="Direct link to heading">​</a></h3><p>出于编译性能的考虑，默认情况下，Modern.js 不会通过 <code>babel-loader</code> 或 <code>ts-loader</code> 来编译 <code>node_modules</code> 下的文件，也不会编译当前工程目录外部的文件。</p><p>通过 <code>source.include</code> 配置项，可以指定需要额外进行编译的目录或模块。</p><p>详见 <a href="/v1/docs/apis/app/config/source/include/">source.include 用法介绍</a>。</p><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="打包时出现-javascript-heap-out-of-memory">打包时出现 JavaScript heap out of memory?<a class="hash-link" href="#打包时出现-javascript-heap-out-of-memory" title="Direct link to heading">​</a></h3><p>该报错表示打包过程中出现了内存溢出问题，大多数情况下是由于打包的内容较多，超出了 Node.js 默认的内存上限。</p><p>如果出现 OOM 问题，最简单的方法是通过增加内存上限来解决，Node.js 提供了 <code>--max-old-space-size</code> 选项来对此进行设置。你可以在 <code>modern build</code> 命令前添加 <a href="http://nodejs.cn/api/cli/node_options_options.html" target="_blank" rel="noopener noreferrer">NODE_OPTIONS</a> 来设置此参数：</p><div class="codeBlockContainer_g4Ai language-bash theme-code-block"><div class="codeBlockContent_Wf5g bash"><pre tabindex="0" class="prism-code language-bash codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">NODE_OPTIONS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">--max_old_space_size</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">16384</span><span class="token plain"> modern build</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>参数的值代表内存上限大小（MB)，一般情况下设置为 <code>16384</code>（16GB）即可。</p><p>Node.js 官方文档中有对以下参数更详细的解释：</p><ul><li><a href="http://nodejs.cn/api/cli/node_options_options.html" target="_blank" rel="noopener noreferrer">NODE_OPTIONS</a></li><li><a href="http://nodejs.cn/api/cli/max_old_space_size_size_in_megabytes.html" target="_blank" rel="noopener noreferrer">--max-old-space-size</a></li></ul><p>除了增加内存上限，通过开启一些编译策略来提升效率也是一个解决方案，详见 <a href="/v1/docs/guides/usages/compile-speed">提升编译速度</a>。</p><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="webpack-编译出现-compilation-argument-报错">webpack 编译出现 &#x27;compilation&#x27; argument 报错？<a class="hash-link" href="#webpack-编译出现-compilation-argument-报错" title="Direct link to heading">​</a></h3><p>如果编译时出现以下报错，通常是由于项目中安装了错误的 webpack 版本，或者安装了多个 webpack 版本引起：</p><div class="codeBlockContainer_g4Ai language-bash theme-code-block"><div class="codeBlockContent_Wf5g bash"><pre tabindex="0" class="prism-code language-bash codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token plain">TypeError: The </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;compilation&#x27;</span><span class="token plain"> argument must be an instance of Compilation</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>webpack 版本问题有以下几种情况：</p><ol><li>项目的 package.json 中直接声明了 webpack 依赖，并且与 Modern.js 依赖的 webpack 版本范围不同，无法匹配到同一个版本。</li><li>项目里安装的多个 npm 包都依赖了 webpack，并且它们依赖的 webpack 版本范围不同，无法匹配到同一个版本。</li><li>由于包管理器的 lock 机制，导致 lock 文件中产生了多个 webpack 版本。</li></ol><p>如果是第一种情况，建议从项目的 package.json 中移除 webpack 依赖。因为 Modern.js 默认封装了 webpack 相关能力，并且会在 <code>tools.webpack</code> 配置项中传入 webpack 对象。因此在大多数情况下，不建议在项目中额外安装 webpack 依赖。</p><p>如果是第二种情况，建议看看能否升级某个 npm 包，使其依赖的 webpack 版本范围与 Modern.js 保持一致。也可以通过包管理器的能力来手动统一版本，比如使用 <a href="https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/" target="_blank" rel="noopener noreferrer">yarn resolutions</a> 或 <a href="https://pnpm.io/package_json#pnpmoverrides" target="_blank" rel="noopener noreferrer">pnpm overrides</a>。</p><p>如果是第三种情况，可以使用第二种情况中提到的两种方法，也可以尝试删除 lock 文件后重新安装来解决。</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>删除 lock 文件会使项目中的依赖版本自动升级到指定范围下的最新版，请进行充分的测试。</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="less-文件中的除法不生效">Less 文件中的除法不生效？<a class="hash-link" href="#less-文件中的除法不生效" title="Direct link to heading">​</a></h3><p>Less v4 版本与 v3 版本相比，除法的写法有一些区别：</p><div class="codeBlockContainer_g4Ai language-less theme-code-block"><div class="codeBlockContent_Wf5g less"><pre tabindex="0" class="prism-code language-less codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Less v3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector" style="color:rgb(199, 146, 234)">.math</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token unit">px</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1px</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token unit">px</span><span class="token plain"> .</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1px</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token unit">px</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1px</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Less v4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token selector" style="color:rgb(199, 146, 234)">.math</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token unit">px</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 2px / 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token unit">px</span><span class="token plain"> .</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1px</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token unit">px</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1px</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>Modern.js 内置的 Less 版本为 v4，低版本的写法不会生效，请注意区分。</p><p>Less 中除法的写法也可以通过配置项来修改，详见 <a href="https://lesscss.org/usage/#less-options-math" target="_blank" rel="noopener noreferrer">Less - Math</a>。</p><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="编译产物中存在未编译的-es6-代码">编译产物中存在未编译的 ES6+ 代码？<a class="hash-link" href="#编译产物中存在未编译的-es6-代码" title="Direct link to heading">​</a></h3><p>默认情况下，Modern.js 不会通过 <code>babel-loader</code> 或 <code>ts-loader</code> 来编译 <code>node_modules</code> 下的文件。如果项目引入的 npm 包中含有 ES6+ 语法，会被打包进产物中。</p><p>遇到这种情况时，可以通过 <a href="/v1/docs/apis/app/config/source/include">source.include</a> 配置项来指定需要额外进行编译的目录或模块。</p><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="编译时报错-you-may-need-additional-loader">编译时报错 <code>You may need additional loader</code>？<a class="hash-link" href="#编译时报错-you-may-need-additional-loader" title="Direct link to heading">​</a></h3><p>如果编译过程中遇到了以下报错提示，表示存在个别文件无法被正确编译。</p><div class="codeBlockContainer_g4Ai language-bash theme-code-block"><div class="codeBlockContent_Wf5g bash"><pre tabindex="0" class="prism-code language-bash codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Module parse failed: Unexpected token</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">File was processed with these loaders:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * some-loader/index.js</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">You may need an additional loader to handle the result of these loaders.</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>解决方法：</p><ul><li>如果是引用了当前工程外部的 <code>.ts</code> 文件，或者是 node_modules 下的 <code>.ts</code> 文件，请添加 <a href="/v1/docs/apis/app/config/source/include">source.include</a> 配置项，指定需要额外进行编译的文件。</li><li>如果是引用了 Modern.js 不支持的文件格式，请自行配置对应的 webpack loader 进行编译。</li></ul><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="打开页面后报错提示-exports-is-not-defined">打开页面后报错，提示 exports is not defined？<a class="hash-link" href="#打开页面后报错提示-exports-is-not-defined" title="Direct link to heading">​</a></h3><p>如果编译正常，但是打开页面后出现 <code>exports is not defined</code> 报错，通常是因为在项目中使用 babel 编译了一个 CommonJS 模块，导致 babel 出现异常。</p><p>在正常情况下，Modern.js 是不会使用 babel 来编译 CommonJS 模块的。如果项目中使用了 <code>source.include</code> 配置项，或使用了 <code>tools.babel</code> 的 <code>addIncludes</code> 方法，则可能会把一些 CommonJS 模块加入到 babel 编译中。</p><p>该问题有两种解决方法：</p><ol><li>避免将 CommonJS 模块加入到 babel 编译中。</li><li>将 babel 的 <code>sourceType</code> 配置项设置为 <code>unambiguous</code>，示例如下：</li></ol><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">tools</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">babel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">sourceType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;unambiguous&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>将 <code>sourceType</code> 设置为 <code>unambiguous</code> 可能会产生一些其他影响，请参考 <a href="https://babeljs.io/docs/en/options#sourcetype" target="_blank" rel="noopener noreferrer">babel 官方文档</a>。</p><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="打包后发现-tree-shaking-没有生效">打包后发现 Tree Shaking 没有生效？<a class="hash-link" href="#打包后发现-tree-shaking-没有生效" title="Direct link to heading">​</a></h3><p>Modern.js 在生产构建时会默认开启 webpack 的 Tree Shaking 功能，Tree Shaking 是否能够生效，取决于业务代码能否满足 webpack 的 Tree Shaking 条件。</p><p>如果你遇到了 Tree Shaking 不生效的问题，可以检查下相关 npm 包的 <code>sideEffects</code> 配置是否正确，如果不了解 <code>sideEffects</code> 是什么，可以阅读以下两篇文档：</p><ul><li><a href="https://webpack.docschina.org/guides/tree-shaking/" target="_blank" rel="noopener noreferrer">webpack 官方文档 - Tree Shaking</a></li><li><a href="https://bytedance.feishu.cn/docs/doccn8E1ldDct5uv1EEDQs8Ycwe" target="_blank" rel="noopener noreferrer">Tree Shaking 问题排查指南</a></li></ul><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="热更新后-react-组件的-state-丢失">热更新后 React 组件的 state 丢失？<a class="hash-link" href="#热更新后-react-组件的-state-丢失" title="Direct link to heading">​</a></h3><p>Modern.js 使用 React 官方的 <a href="https://github.com/pmmmwh/react-refresh-webpack-plugin" target="_blank" rel="noopener noreferrer">Fast Refresh</a> 能力来进行组件热更新。</p><p>在使用 Fast Refresh 时，要求组件不能为匿名函数，否则热更新后无法保留 React 组件的 state。</p><p>以下写法都是不正确的：</p><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 错误写法 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token maybe-class-name">Hello</span><span class="token plain"> </span><span class="token maybe-class-name">World</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 错误写法 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token maybe-class-name">Hello</span><span class="token plain"> </span><span class="token maybe-class-name">World</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>正确的写法为：</p><div class="codeBlockContainer_g4Ai language-js theme-code-block"><div class="codeBlockContent_Wf5g js"><pre tabindex="0" class="prism-code language-js codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 正确写法 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">MyComponent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token maybe-class-name">Hello</span><span class="token plain"> </span><span class="token maybe-class-name">World</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 正确写法 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">MyComponent</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token maybe-class-name">Hello</span><span class="token plain"> </span><span class="token maybe-class-name">World</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><hr><h3 class="anchor anchorWithStickyNavbar_pWUz" id="webpack-编译缓存未生效应该如何排查">webpack 编译缓存未生效，应该如何排查？<a class="hash-link" href="#webpack-编译缓存未生效应该如何排查" title="Direct link to heading">​</a></h3><p>Modern.js 默认开启了 webpack 的持久化缓存。</p><p>首次编译完成后，会自动生成缓存文件，并输出到 <code>./node_modules/.cache/webpack</code> 目录下。执行第二次编译时，会命中缓存，并大幅度提高编译速度。</p><p>当 <code>modern.config.ts</code> 或 <code>package.json</code> 等配置文件被修改时，缓存会自动失效。</p><p>如果项目中 webpack 编译缓存一直未生效，可以添加以下配置进行排查：</p><div class="codeBlockContainer_g4Ai language-ts theme-code-block"><div class="codeBlockContent_Wf5g ts"><pre tabindex="0" class="prism-code language-ts codeBlock_K2FC thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_dntm"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">default</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">defineConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tools</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">webpack</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">infrastructureLogging </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">infrastructureLogging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        debug</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="复制代码到剪切板" class="copyButton_uK8J clean-btn">复制</button></div></div><p>添加以上配置后，webpack 会输出日志用于 debug，请参考 <code>PackFileCacheStrategy</code> 相关的日志来了解缓存失效的原因。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/v1/docs/guides/usages/compile-speed"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">提升编译速度</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/v1/docs/guides/troubleshooting/dependencies"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">依赖安装问题</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_USc6 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#如何配置-webpackbabelpostcss-等工具" class="table-of-contents__link toc-highlight">如何配置 Webpack/Babel/PostCSS 等工具？</a></li><li><a href="#如何自定义-html-模板" class="table-of-contents__link toc-highlight">如何自定义 HTML 模板？</a></li><li><a href="#如何提升编译构建速度" class="table-of-contents__link toc-highlight">如何提升编译构建速度？</a></li><li><a href="#如何查看最终生效的-webpack-配置" class="table-of-contents__link toc-highlight">如何查看最终生效的 webpack 配置？</a></li><li><a href="#如何配置组件库按需引入" class="table-of-contents__link toc-highlight">如何配置组件库按需引入？</a></li><li><a href="#如何移除代码中的-console" class="table-of-contents__link toc-highlight">如何移除代码中的 console？</a></li><li><a href="#如何清空-webpack-编译缓存" class="table-of-contents__link toc-highlight">如何清空 webpack 编译缓存？</a></li><li><a href="#如何配置静态资源的-cdn-路径" class="table-of-contents__link toc-highlight">如何配置静态资源的 CDN 路径？</a></li><li><a href="#如何在编译过程中进行-eslint-代码校验" class="table-of-contents__link toc-highlight">如何在编译过程中进行 ESLint 代码校验？</a></li><li><a href="#如何配置-sri-校验" class="table-of-contents__link toc-highlight">如何配置 SRI 校验？</a></li><li><a href="#lesssass-代码没有被正确编译" class="table-of-contents__link toc-highlight">Less/Sass 代码没有被正确编译？</a></li><li><a href="#在-monorepo-中引用其他模块代码没有被正确编译" class="table-of-contents__link toc-highlight">在 Monorepo 中引用其他模块，代码没有被正确编译？</a></li><li><a href="#打包时出现-javascript-heap-out-of-memory" class="table-of-contents__link toc-highlight">打包时出现 JavaScript heap out of memory?</a></li><li><a href="#webpack-编译出现-compilation-argument-报错" class="table-of-contents__link toc-highlight">webpack 编译出现 &#39;compilation&#39; argument 报错？</a></li><li><a href="#less-文件中的除法不生效" class="table-of-contents__link toc-highlight">Less 文件中的除法不生效？</a></li><li><a href="#编译产物中存在未编译的-es6-代码" class="table-of-contents__link toc-highlight">编译产物中存在未编译的 ES6+ 代码？</a></li><li><a href="#编译时报错-you-may-need-additional-loader" class="table-of-contents__link toc-highlight">编译时报错 <code>You may need additional loader</code>？</a></li><li><a href="#打开页面后报错提示-exports-is-not-defined" class="table-of-contents__link toc-highlight">打开页面后报错，提示 exports is not defined？</a></li><li><a href="#打包后发现-tree-shaking-没有生效" class="table-of-contents__link toc-highlight">打包后发现 Tree Shaking 没有生效？</a></li><li><a href="#热更新后-react-组件的-state-丢失" class="table-of-contents__link toc-highlight">热更新后 React 组件的 state 丢失？</a></li><li><a href="#webpack-编译缓存未生效应该如何排查" class="table-of-contents__link toc-highlight">webpack 编译缓存未生效，应该如何排查？</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">使用指南</div><ul class="footer__items"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/v1/docs/start/mobile">快速上手</a></li><li class="footer__item"><a class="footer__link-item" href="/v1/docs/guides/tutorials/overview">实战教程</a></li><li class="footer__item"><a class="footer__link-item" href="/v1/docs/guides/usages/eslint">更多用法</a></li><li class="footer__item"><a class="footer__link-item" href="/v1/docs/guides/features/runtime/code-splitting">专题详解</a></li></ul></ul></div><div class="col footer__col"><div class="footer__title">API 资料</div><ul class="footer__items"><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/v1/docs/apis/app/commands">命令</a></li><li class="footer__item"><a class="footer__link-item" href="/v1/docs/apis/app/runtime">运行时</a></li><li class="footer__item"><a class="footer__link-item" href="/v1/docs/apis/app/hooks">文件约定</a></li><li class="footer__item"><a class="footer__link-item" href="/v1/docs/apis/app/config">配置选项</a></li></ul></ul></div><div class="col footer__col"><div class="footer__title">关注我们</div><ul class="footer__items"><ul class="footer__items footerItemIcons_HvKD"><a class="footer__item footerItemIcon_qHB0"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/weixin.png"><span class="qrcodeWrap_LDE8" style="display:none"><img width="108" height="108" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/weixin-qrcode.jpeg" alt="微信"></span></a><a href="https://space.bilibili.com/1195398938" class="footer__item footerItemIcon_qHB0"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/bilibili.png"></a><a class="footer__item footerItemIcon_qHB0"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/feishu.png"><span class="qrcodeWrap_LDE8" style="display:none"><img width="108" height="108" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/feishu-qrcode-0914.png" alt="飞书"></span></a><a href="https://github.com/modern-js-dev/modern.js" class="footer__item footerItemIcon_qHB0"><img width="32" height="32" src="https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/icons/github.png"></a></ul></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="ByteDance Open Source Logo" class="themedImage_n92u themedImage--light_y_Wq footer__logo"><img src="https://lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/images/images/modernjs-logo.svg" alt="ByteDance Open Source Logo" class="themedImage_n92u themedImage--dark_Yker footer__logo"></div></div></div></footer></div>
<script src="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/runtime~main.3916d3df.js"></script>
<script src="//lf-cdn-tos.bytescm.com/obj/static/webinfra/modern-js-website/assets/js/main.10059475.js"></script>
</body>
</html>