(self.webpackChunk_modern_js_main_doc=self.webpackChunk_modern_js_main_doc||[]).push([["docs_zh_apis_app_hooks_src_routes_mdx"],{60902:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return l}});var r,d=n("15169"),t=n("43932"),c=n("9880"),a=n("23169");function i(e){var s=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2",ul:"ul",li:"li",div:"div"},(0,a.useMDXComponents)(),e.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.h1,{id:"routes",children:["routes/",(0,c.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#routes",children:"#"})]}),"\n",(0,c.jsxs)(s.p,{children:["应用使用",(0,c.jsx)(s.a,{href:"/guides/basic-features/routes#%E7%BA%A6%E5%AE%9A%E5%BC%8F%E8%B7%AF%E7%94%B1",children:"约定式路由"}),"时的入口标识。"]}),"\n",(0,c.jsxs)(s.p,{children:["约定式路由以 ",(0,c.jsx)(s.code,{children:"routes/"})," 为约定的入口， 会分析 ",(0,c.jsx)(s.code,{children:"src/routes"})," 目录下的文件得到客户端路由配置。"]}),"\n",(0,c.jsxs)(s.p,{children:["任何在 ",(0,c.jsx)(s.code,{children:"src/routes"})," 下的 ",(0,c.jsx)(s.code,{children:"layout.[tj]sx"})," 和 ",(0,c.jsx)(s.code,{children:"page.[tj]sx"})," 都会作为应用的路由："]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-bash",meta:"{3,4}",children:".\n└── routes\n    ├── layout.tsx\n    ├── page.tsx\n    └── user\n        ├── layout.tsx\n        └── page.tsx\n"})}),"\n",(0,c.jsxs)(s.h2,{id:"基本示例",children:["基本示例",(0,c.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#基本示例",children:"#"})]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"routes"})," 目录下的目录名会作为路由 url 的映射，其中 ",(0,c.jsx)(s.code,{children:"layout.tsx"})," 中作为布局组件，",(0,c.jsx)(s.code,{children:"page.tsx"})," 作为内容组件，是整条路由的叶子节点，例如以下目录结构："]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-bash",children:".\n└── routes\n    ├── page.tsx\n    └── user\n        └── page.tsx\n"})}),"\n",(0,c.jsx)(s.p,{children:"会产出下面两条路由："}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"/"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"/user"})}),"\n"]}),"\n",(0,c.jsxs)(s.h2,{id:"动态路由",children:["动态路由",(0,c.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#动态路由",children:"#"})]}),"\n",(0,c.jsxs)(s.p,{children:["如果路由文件的目录名以 ",(0,c.jsx)(s.code,{children:"[]"})," 命名，生成的路由会作为动态路由。例如以下文件目录："]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{children:"└── routes\n    ├── [id]\n    │   └── page.tsx\n    ├── blog\n    │   └── page.tsx\n    └── page.tsx\n"})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"routes/[id]/page.tsx"})," 文件会转为 ",(0,c.jsx)(s.code,{children:"/:id"})," 路由。除了可以确切匹配的 ",(0,c.jsx)(s.code,{children:"/blog"})," 路由，其他所有 ",(0,c.jsx)(s.code,{children:"/xxx"})," 都会匹配到该路由。"]}),"\n",(0,c.jsxs)(s.p,{children:["在组件中，可以通过 ",(0,c.jsx)(s.a,{href:"/apis/app/runtime/router/router#useparams",children:"useParams"})," 获取对应命名的参数。"]}),"\n",(0,c.jsxs)(s.p,{children:["在使用 ",(0,c.jsx)(s.a,{href:"/guides/basic-features/data-fetch#loader-%E5%87%BD%E6%95%B0",children:"loader"})," 函数获取数据时，",(0,c.jsx)(s.code,{children:"params"})," 会作为 ",(0,c.jsx)(s.code,{children:"loader"})," 函数的入参，通过 ",(0,c.jsx)(s.code,{children:"params"})," 的属性可以获取到对应的参数。"]}),"\n",(0,c.jsxs)(s.h2,{id:"布局组件",children:["布局组件",(0,c.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#布局组件",children:"#"})]}),"\n",(0,c.jsxs)(s.p,{children:["如下面的例子，可以通过添加 ",(0,c.jsx)(s.code,{children:"layout.tsx"}),"，为所有路由组件添加公共的布局组件："]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-bash",children:".\n└── routes\n    ├── layout.tsx\n    ├── page.tsx\n    └── user\n        ├── layout.tsx\n        └── page.tsx\n"})}),"\n",(0,c.jsxs)(s.p,{children:["在布局组件中可以通过使用 ",(0,c.jsx)(s.code,{children:"<Outlet>"})," 表示子组件："]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-tsx",meta:"title=routes/layout.tsx",children:"import { Link, Outlet, useLoaderData } from '@modern-js/runtime/router';\n\nexport default () => {\n  return (\n    <>\n      <Outlet></Outlet>\n    </>\n  );\n};\n"})}),"\n",(0,c.jsxs)(s.div,{className:"modern-directive note",children:[(0,c.jsx)(s.div,{className:"modern-directive-title",children:"NOTE"}),(0,c.jsxs)(s.div,{className:"modern-directive-content",children:[(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"<Outlet>"})," 是 React Router 6 中新的 API，详情可以查看 ",(0,c.jsx)(s.a,{href:"https://reactrouter.com/en/main/components/outlet#outlet",target:"_blank",rel:"noopener noreferrer",children:"Outlet"}),"."]}),"\n"]})]})]})}(r=globalThis).__RSPRESS_PAGE_META||(r.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["zh%2Fapis%2Fapp%2Fhooks%2Fsrc%2Froutes.mdx"]={toc:[{text:"基本示例",id:"基本示例",depth:2},{text:"动态路由",id:"动态路由",depth:2},{text:"布局组件",id:"布局组件",depth:2}],title:"routes/",frontmatter:{title:"routes/",sidebar_position:2}};var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Object.assign({},(0,a.useMDXComponents)(),e.components).wrapper;return s?(0,c.jsx)(s,(0,t._)((0,d._)({},e),{children:(0,c.jsx)(i,(0,d._)({},e))})):i(e)}}}]);