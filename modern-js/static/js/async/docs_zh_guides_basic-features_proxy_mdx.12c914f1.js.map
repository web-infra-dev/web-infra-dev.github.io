{"version":3,"file":"static/js/async/docs_zh_guides_basic-features_proxy_mdx.12c914f1.js","sources":["./docs/zh/components/global-proxy.mdx","./docs/zh/guides/basic-features/proxy.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fcomponents%2Fglobal-proxy.mdx\"] = {\"toc\":[{\"text\":\"设置代理规则\",\"id\":\"设置代理规则\",\"depth\":3},{\"text\":\"代理服务器 UI 界面\",\"id\":\"代理服务器-ui-界面\",\"depth\":3}],\"title\":\"\",\"frontmatter\":{}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        p: \"p\",\n        code: \"code\",\n        a: \"a\",\n        h3: \"h3\",\n        pre: \"pre\",\n        img: \"img\"\n    }, _provideComponents(), props.components);\n    return <><_components.p>{\"Modern.js 提供了开箱即用的全局代理插件 \"}<_components.code>{\"@modern-js/plugin-proxy\"}</_components.code>{\"，该插件底层基于 \"}<_components.a href=\"https://github.com/avwo/whistle\" target=\"_blank\" rel=\"noopener noreferrer\">{\"whistle\"}</_components.a>{\"，可用来查看、修改 HTTP/HTTPS 的请求和响应，也可作为 HTTP 代理服务器使用。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"设置代理规则\">{\"设置代理规则\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#设置代理规则\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"引入代理插件并填写规则后，执行 \"}<_components.code>{\"pnpm run dev\"}</_components.code>{\"，Modern.js 会在开发服务器启动之后，自动启用代理服务器。\"}</_components.p>{\"\\n\"}<_components.p>{\"具体代理规则，可通过 \"}<_components.a href=\"/configure/app/dev/proxy\"><_components.code>{\"dev.proxy\"}</_components.code></_components.a>{\" 选项或 \"}<_components.code>{\"config/proxy.js\"}</_components.code>{\" 文件进行设置。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"代理服务器-ui-界面\">{\"代理服务器 UI 界面\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#代理服务器-ui-界面\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.p>{\"安装代理插件并配置代理规则后， 执行 \"}<_components.code>{\"pnpm run dev\"}</_components.code>{\" 命令：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"  App running at:\\n\\n  Local:    http://localhost:8080/\\n  Network:  http://192.168.0.1:8080/\\n\\nℹ  info      Starting the proxy server.....\\n✔  success   Proxy Server start on localhost:8899\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"在控制台中可以看到代理服务器成功启动。\"}</_components.p>{\"\\n\"}<_components.p>{\"访问 \"}<_components.code>{\"http://localhost:8899\"}</_components.code>{\"，显示下图所示的 UI 界面后，即可通过界面设置规则。\"}</_components.p>{\"\\n\"}<_components.p><_components.img src=\"https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/debug/debug-proxy-ui.png\" alt=\"debug-proxy-ui\"/></_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n","globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguides%2Fbasic-features%2Fproxy.mdx\"] = {\"toc\":[{\"text\":\"本地代理\",\"id\":\"本地代理\",\"depth\":2},{\"text\":\"全局代理\",\"id\":\"全局代理\",\"depth\":2},{\"text\":\"BFF 代理\",\"id\":\"bff-代理\",\"depth\":2}],\"title\":\"网络代理\",\"frontmatter\":{\"sidebar_position\":6}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nimport GlobalProxy from \"@site-docs/components/global-proxy\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        h2: \"h2\",\n        p: \"p\",\n        code: \"code\",\n        pre: \"pre\",\n        div: \"div\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"网络代理\">{\"网络代理\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#网络代理\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.h2 id=\"本地代理\">{\"本地代理\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#本地代理\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Modern.js 在 \"}<_components.a href=\"/configure/app/tools/dev-server\"><_components.code>{\"tools.devServer\"}</_components.code></_components.a>{\" 中提供了配置开发环境代理的方式。例如，将本地开发接口，代理到线上某个地址：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"import { defineConfig } from '@modern-js/app-tools';\\n\\nexport default defineConfig({\\n  tools: {\\n    devServer: {\\n      proxy: {\\n        '/go/api': {\\n          target: 'http://www.example.com/',\\n          changeOrigin: true,\\n        },\\n      },\\n    },\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"请求 \"}<_components.code>{\"http://localhost:8080/go/api\"}</_components.code>{\" 时，会从 \"}<_components.a href=\"http://www.example.com/\" target=\"_blank\" rel=\"noopener noreferrer\"><_components.a href=\"http://www.example.com/\" target=\"_blank\" rel=\"noopener noreferrer\">{\"http://www.example.com/\"}</_components.a></_components.a>{\" 返回响应内容。\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive info\"><_components.div className=\"modern-directive-title\">{\"补充信息\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"配置格式可参考：\"}<_components.a href=\"https://github.com/chimurai/http-proxy-middleware\" target=\"_blank\" rel=\"noopener noreferrer\">{\"http-proxy-middleware\"}</_components.a>{\"。\"}</_components.p>{\"\\n\"}</_components.div></_components.div>{\"\\n\"}<_components.h2 id=\"全局代理\">{\"全局代理\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#全局代理\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}{\"\\n\"}<GlobalProxy/>{\"\\n\"}<_components.h2 id=\"bff-代理\">{\"BFF 代理\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#bff-代理\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"通过配置 \"}<_components.a href=\"/configure/app/bff/proxy\"><_components.code>{\"bff.proxy\"}</_components.code></_components.a>{\" 可以代理 BFF API 请求到指定的服务上，上述两种代理不同，它同样可以用在生产环境：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"export default defineConfig({\\n  bff: {\\n    proxy: {\\n      '/api/v1': 'https://cnodejs.org',\\n    },\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"例如代码中使用一体化 BFF 调用时，最终请求 \"}<_components.code>{\"http://localhost:8080/api/v1/topics\"}</_components.code>{\" 会自动代理到 \"}<_components.code>{\"https://cnodejs.org/api/v1/topics\"}</_components.code>{\"：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-js\">{\"import getTopics from '@api/v1/topics';\\n\\ngetTopics();\\n\"}</_components.code></_components.pre></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","p","code","a","h3","pre","img","components","href","target","rel","id","className","src","alt","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_","h1","h2","div","meta"],"mappings":"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"}