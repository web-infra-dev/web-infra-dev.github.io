(self.webpackChunk_modern_js_main_doc=self.webpackChunk_modern_js_main_doc||[]).push([["92136"],{92029:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return c},frontmatter:function(){return i}});var d=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",ul:"ul",li:"li"},(0,s.useMDXComponents)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"prerender",children:["PreRender",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#prerender",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"\u65E0\u5C55\u793A\u5185\u5BB9\u7684\u9AD8\u9636\u7EC4\u4EF6\uFF0C\u901A\u8FC7\u7C7B\u4F3C Helmet \u7684\u65B9\u5F0F\u5B9E\u73B0 SPA \u8DEF\u7531\u7EA7\u7684\u7F13\u5B58\uFF0C\u65E0\u9700\u989D\u5916\u914D\u7F6E\u3002"}),"\n",(0,d.jsxs)(n.h2,{id:"\u4F7F\u7528\u59FF\u52BF",children:["\u4F7F\u7528\u59FF\u52BF",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4F7F\u7528\u59FF\u52BF",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:"import { PreRender } from '@modern-js/runtime/ssr';\n\nexport default () => (\n  <>\n    <PreRender interval={5} />\n  </>\n);\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"\u51FD\u6570\u7B7E\u540D",children:["\u51FD\u6570\u7B7E\u540D",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u51FD\u6570\u7B7E\u540D",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"PreRender"})," \u7EC4\u4EF6\u63D0\u4F9B\u4E86\u4E00\u5957\u5E38\u7528\u7684\u914D\u7F6E\u53C2\u6570\uFF0C\u7528\u4E8E\u63A7\u5236\u7F13\u5B58\u7684\u89C4\u5219\u3001\u8FC7\u671F\u65F6\u95F4\u3001\u7F13\u5B58\u7B97\u6CD5\u7B49\u3002"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:"type Props {\n  interval: number;\n  staleLimit: number;\n  level: number;\n  include: { header?: string[], query?: string[] };\n  matches: { header?: Record<string, any>, query?: Record<string, any> }\n}\n\nfunction PreRender(props: Props): React.Component\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u53C2\u6570",children:["\u53C2\u6570",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u53C2\u6570",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"interval"}),"\uFF1A\u8BBE\u7F6E\u7F13\u5B58\u4FDD\u6301\u65B0\u9C9C\u7684\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2\u3002\u5728\u8BE5\u65F6\u95F4\u5185\uFF0C\u5C06\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\uFF0C\u5E76\u4E14\u4E0D\u505A\u5F02\u6B65\u6E32\u67D3\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"staleLimit"}),"\uFF1A\u8BBE\u7F6E\u7F13\u5B58\u5B8C\u5168\u8FC7\u671F\u7684\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2\u3002\u5728\u8BE5\u65F6\u95F4\u5185\uFF0C\u7F13\u5B58\u53EF\u4EE5\u88AB\u8FD4\u56DE\uFF0C\u5E76\u4E14\u4F1A\u505A\u4E00\u6B65\u6E32\u67D3\uFF0C\u5426\u5219\u5FC5\u987B\u4F7F\u7528\u91CD\u65B0\u6E32\u67D3\u7684\u7ED3\u679C\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"level"}),"\uFF1A\u8BBE\u7F6E\u7F13\u5B58\u6807\u8BC6\u7684\u8BA1\u7B97\u89C4\u5219\u7B49\u7EA7\uFF0C\u901A\u5E38\u914D\u5408 ",(0,d.jsx)(n.code,{children:"includes"})," \u4E0E ",(0,d.jsx)(n.code,{children:"matches"})," \u4F7F\u7528\u3002\u9ED8\u8BA4\u503C\u4E3A ",(0,d.jsx)(n.code,{children:"0"}),"\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"0\uFF1A\u8DEF\u7531\u8DEF\u5F84\n1\uFF1A\u8DEF\u7531\u8DEF\u5F84 + \u67E5\u8BE2\u5B57\u7B26\u4E32\n2\uFF1A\u8DEF\u7531\u8DEF\u5F84 + \u8BF7\u6C42\u5934\n3\uFF1A\u8DEF\u7531\u8DEF\u5F84 + \u67E5\u8BE2\u5B57\u7B26\u4E32 + \u8BF7\u6C42\u5934\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"includes"}),"\uFF1A\u8BBE\u7F6E\u9700\u8981\u88AB\u7EB3\u5165\u7F13\u5B58\u6807\u8BC6\u7684\u5185\u5BB9\uFF0C\u5728 level \u975E 0 \u65F6\u4F7F\u7528\u3002\u9ED8\u8BA4\u503C\u4E3A ",(0,d.jsx)(n.code,{children:"null"}),"\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"matches"}),"\uFF1A\u8BBE\u7F6E query \u6216 header \u7684\u503C\u5728\u7F13\u5B58\u6807\u8BC6\u8BA1\u7B97\u4E2D\u7684\u91CD\u5199\u89C4\u5219\uFF0C\u901A\u5E38\u7528\u5728\u7F13\u5B58\u5206\u7C7B\u65F6\uFF0C\u652F\u6301\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u9ED8\u8BA4\u503C\u4E3A ",(0,d.jsx)(n.code,{children:"null"}),"\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.h2,{id:"\u793A\u4F8B",children:["\u793A\u4F8B",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u793A\u4F8B",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:"import { PreRender } from '@modern-js/runtime/ssr';\n\nexport default function App() {\n  return (\n    <>\n      <PreRender interval={10} />\n      <div>Hello Modern</div>\n    </>\n  );\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4E0B\u9762\u4F8B\u5B50\u5C55\u793A\u4E86\u5982\u4F55\u5C06 query\u3001header \u4E2D\u6307\u5B9A\u7684\u53C2\u6570\u7EB3\u5165\u7F13\u5B58\u8BA1\u7B97\u4E2D\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:"/* \u4F7F\u7528 query \u4E2D\u7684 channel \u548C header \u4E2D\u7684 language \u8BA1\u7B97\u7F13\u5B58\u6807\u8BC6 */\n<PreRender\n  interval={10}\n  level={2}\n  includes={{\n    query: ['channel'],\n    header: ['language'],\n  }}\n/>\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4E0B\u9762\u4F8B\u5B50\u5C55\u793A\u4E86\u5982\u4F55\u4E0D\u8BA9\u6D4B\u8BD5\u9891\u9053\u5F71\u54CD\u7EBF\u4E0A\u7F13\u5B58\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-tsx",children:'/* \u5C06 query \u4E2D channel \u503C\u4E3A test_ \u5F00\u5934\u7684\u91CD\u5199\u4E3A testChannel\uFF0C\u5426\u5219\u91CD\u5199\u4E3A otherChannel */\n<PreRender interval={10} level={2} includes={{\n  query: ["channel"],\n  header: ["language"]\n}} matches={{\n  query: {\n    channel: {\n      "testChannel", "^test_",\n      "otherChannel", ".*"\n    }\n  }\n}} />\n'})})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}var c=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["zh%2Fapis%2Fapp%2Fruntime%2Fssr%2Fpre-render.mdx"]={toc:[{text:"\u4F7F\u7528\u59FF\u52BF",id:"\u4F7F\u7528\u59FF\u52BF",depth:2},{text:"\u51FD\u6570\u7B7E\u540D",id:"\u51FD\u6570\u7B7E\u540D",depth:2},{text:"\u53C2\u6570",id:"\u53C2\u6570",depth:3},{text:"\u793A\u4F8B",id:"\u793A\u4F8B",depth:2}],title:"PreRender"};let i={title:"PreRender"}}}]);