"use strict";(self.webpackChunk_modern_js_main_doc=self.webpackChunk_modern_js_main_doc||[]).push([["71584"],{76106:function(e,n,s){s.r(n),s.d(n,{default:function(){return d}});var r=s(39980),t=s(9580);function i(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2",div:"div",ol:"ol",li:"li",strong:"strong",h3:"h3"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"usage",children:["Usage",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Enabling SSR is simple. Just set the value of ",(0,r.jsx)(n.a,{href:"/configure/app/server/ssr",children:(0,r.jsx)(n.code,{children:"server.ssr"})})," to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig({\n  server: {\n    ssr: true,\n  },\n});\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"ssr-data-fetch",children:["SSR Data Fetch",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ssr-data-fetch",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Modern.js provides a Data Loader that simplifies data fetching for developers working with SSR and CSR. Each routing module, such as ",(0,r.jsx)(n.code,{children:"layout.tsx"})," and ",(0,r.jsx)(n.code,{children:"page.tsx"}),", can define its own Data Loader:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="src/routes/page.data.ts"',children:"export const loader = () => {\n  return {\n    message: 'Hello World',\n  };\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Within the component, data returned by the ",(0,r.jsx)(n.code,{children:"loader"})," function can be accessed through the Hooks API:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"export default () => {\n  const data = useLoaderData();\n  return <div>{data.message}</div>;\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"Modern.js breaks the traditional model of server-side rendering (SSR) development and offers users a more user-friendly SSR development experience."}),"\n",(0,r.jsx)(n.p,{children:"This feature offers elegant degradation processing. If the SSR request fails, it will automatically downgrade and restart the request on the browser side."}),"\n",(0,r.jsxs)(n.p,{children:["Developers should still be mindful of data fallback, including ",(0,r.jsx)(n.code,{children:"null"})," values or unexpected data returns. This will help prevent React rendering errors and messy results during SSR."]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive info",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"INFO"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:["\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"When requesting a page through client-side routing, Modern.js sends an HTTP request. The server receives the request and executes the corresponding Data Loader function for the page, then returns the execution result as a response to the browser."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["When using Data Loader, data is fetched before rendering. Modern.js also supports obtaining data during component rendering. For more related content, please refer to ",(0,r.jsx)(n.a,{href:"/guides/basic-features/data/data-fetch",children:"Data Fetch"}),"."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.h2,{id:"keep-rendering-consistent",children:["Keep Rendering Consistent",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#keep-rendering-consistent",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["In some businesses, it is usually necessary to make different UI displays based on the current operating container environment characteristics, such as ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent",target:"_blank",rel:"noopener noreferrer",children:"UA"})," information."]}),"\n",(0,r.jsx)(n.p,{children:"If not handled carefully, unexpected rendering results are likely to occur."}),"\n",(0,r.jsx)(n.p,{children:"Here is an example to show the problem when SSR and CSR rendering are inconsistent, add the following code to the component:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"{\n  typeof window !== 'undefined' ? <div>browser content</div> : null;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"After launching the application and accessing the page, you will find that the browser console throws a warning message."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"Warning: Expected server HTML to contain a matching <div> in <div>.\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is caused by React's hydration logic on the client side detecting inconsistencies between the rendered result and the SSR rendering result. Although the page appears normal, in complex applications, it is likely to cause problems such as DOM hierarchy confusion and style disorder."}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive info",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"INFO"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,r.jsxs)(n.p,{children:["More information about ",(0,r.jsx)(n.a,{href:"https://reactjs.org/docs/react-dom.html#hydrate",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(n.code,{children:"React hydrate"})}),"."]}),"\n"]})]}),"\n",(0,r.jsx)(n.p,{children:"The application needs to maintain consistency between SSR and CSR rendering results. If there is inconsistency, it means that this part of the content does not need to be rendered in SSR."}),"\n",(0,r.jsxs)(n.p,{children:["Modern.js provides a ",(0,r.jsx)(n.a,{href:"/apis/app/runtime/core/use-runtime-context",children:(0,r.jsx)(n.code,{children:"<NoSSR>"})})," component for such content that does not need to be rendered in SSR."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { NoSSR } from '@modern-js/runtime/ssr';\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Wrap the element that does not require SSR with the ",(0,r.jsx)(n.code,{children:"NoSSR"})," component:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<NoSSR>\n  <div>client content</div>\n</NoSSR>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["After modifying the code, refreshing the page shows that the previous warning has disappeared. Opening the Network tab of the browser devtools and checking the returned HTML document does not contain content wrapped by ",(0,r.jsx)(n.code,{children:"NoSSR"})," components."]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive info",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"INFO"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/apis/app/runtime/core/use-runtime-context",children:"'useRuntimeContext'"})," can get complete request information, which can be used to ensure consistent rendering results between SSR and CSR."]}),"\n"]})]}),"\n",(0,r.jsxs)(n.h2,{id:"pay-attention-to-memory-leaks",children:["Pay Attention to Memory Leaks",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pay-attention-to-memory-leaks",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,r.jsx)(n.p,{children:"Developers need to pay special attention to memory leaks in the SSR mode. Even tiny memory leaks can have an impact on the service after a large number of accesses."}),"\n"]})]}),"\n",(0,r.jsx)(n.p,{children:"When using SSR, each request from the browser will trigger the server to re-execute the component rendering logic. Therefore, it is necessary to avoid defining any data structures that may continue to grow globally, subscribing to events globally, or creating streams that will not be destroyed globally."}),"\n",(0,r.jsxs)(n.p,{children:["For example, when using ",(0,r.jsx)(n.a,{href:"https://redux-observable.js.org/",target:"_blank",rel:"noopener noreferrer",children:"redux-observable"}),", developers who are used to CSR development usually code in the component like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"/* This code is for demonstration purposes only */\nimport { createEpicMiddleware, combineEpics } from 'redux-observable';\n\nconst epicMiddleware = createEpicMiddleware();\nconst rootEpic = combineEpics();\n\nexport default function Test() {\n  epicMiddleware.run(rootEpic);\n  return <div>Hello Modern.js</div>;\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Create a Middleware instance ",(0,r.jsx)(n.code,{children:"epicMiddleware"})," outside the component and call epicMiddleware.run inside the component."]}),"\n",(0,r.jsx)(n.p,{children:"When running on the client-side, this code will not cause any issues. However, during SSR, the Middleware instance cannot be destroyed."}),"\n",(0,r.jsxs)(n.p,{children:["Every time a component is rendered and ",(0,r.jsx)(n.code,{children:"epicMiddleware.run(rootEpic)"})," is called, new event bindings are added internally which causes the entire object to grow continuously and ultimately affects application performance."]}),"\n",(0,r.jsx)(n.p,{children:"CSR issues are not easy to detect, so when switching from CSR to SSR, if you are unsure whether the application has such problems, you can perform stress testing on applications."}),"\n",(0,r.jsxs)(n.h2,{id:"converging-server-data",children:["Converging Server Data.",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#converging-server-data",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"In order to maintain the data requested during the SSR phase, it can be directly used on the browser side. Modern.js will inject the data and state collected during rendering into HTML."}),"\n",(0,r.jsx)(n.p,{children:"However, in CSR applications, there are often situations where interface data is large and component states are not converged. If SSR is used directly in this case, the rendered HTML may have a problem of being too large."}),"\n",(0,r.jsx)(n.p,{children:"At this time, SSR may not only fail to improve user experience for applications but may also have an opposite effect."}),"\n",(0,r.jsxs)(n.p,{children:["Therefore, when using SSR, ",(0,r.jsx)(n.strong,{children:"developers need to properly slim down the application"}),"."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Focus on the first screen, SSR can request only the data needed for the first screen and render the remaining parts on the browser side."}),"\n",(0,r.jsx)(n.li,{children:"Remove data unrelated to rendering from the returned data of the interface."}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"serverless-pre-render",children:["Serverless Pre-render",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#serverless-pre-render",children:"#"})]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"WARNING"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["x.43.0+ has been deprecated, Please instance of ",(0,r.jsx)(n.a,{href:"/guides/advanced-features/ssr/cache",children:"SSR Cache"}),".\n"]})})]}),"\n",(0,r.jsx)(n.p,{children:"Modern.js provides the Serverless Pre-rendering (SPR) feature to improve SSR performance."}),"\n",(0,r.jsx)(n.p,{children:"SPR uses pre-rendering and caching technology to provide responsive performance for SSR pages. It enables SSR applications to have the response speed and stability of static web pages while also maintaining dynamic data updates."}),"\n",(0,r.jsx)(n.p,{children:"Using SPR in Modern.js is very simple. Just add the PreRender component to your component, and the page where it is located will automatically enable SPR."}),"\n",(0,r.jsx)(n.p,{children:"Here is a simulated component that uses the useLoaderData API. The request in the Data Loader takes 2 seconds to consume."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",meta:'title="page.data.ts"',children:"import { useLoaderData } from '@modern-js/runtime/router';\n\nexport const loader = async () => {\n  await new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(null);\n    }, 2000);\n  });\n\n  return {\n    message: 'Hello Modern.js',\n  };\n};\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",meta:'title="page.tsx"',children:"import { useLoaderData } from '@modern-js/runtime/router';\n\nexport default () => {\n  const data = useLoaderData();\n  return <div>{data?.message}</div>;\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["After executing the ",(0,r.jsx)(n.code,{children:"dev"})," command and opening the page, it is obvious that the page needs to wait 2s before returning."]}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.code,{children:"<PreRender>"})," component for optimization next, which can be directly exported from ",(0,r.jsx)(n.code,{children:"@modern-js/runtime/ssr"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { PreRender } from '@modern-js/runtime/ssr';\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.code,{children:"<PreRender>"})," component within the routing component and set the parameter ",(0,r.jsx)(n.code,{children:"interval"})," to indicate that the expiration time of this rendering result is 5 seconds:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<PreRender interval={5} />\n"})}),"\n",(0,r.jsxs)(n.p,{children:["After modification, execute ",(0,r.jsx)(n.code,{children:"pnpm run build && pnpm run serve"})," to start the application and open the page."]}),"\n",(0,r.jsx)(n.p,{children:"The first time it is opened, there is no difference in rendering compared to before, and there is still a 2-second delay."}),"\n",(0,r.jsx)(n.p,{children:"Clicking refresh opens the page instantly, but at this point, the page data has not changed due to the refresh because the cache has not yet expired."}),"\n",(0,r.jsx)(n.p,{children:"After waiting for 5 seconds and refreshing the page, the data on the page remained unchanged. After refreshing again, the data changed, but the response was nearly immediate."}),"\n",(0,r.jsx)(n.p,{children:"This is because during the previous request, SPR had already asynchronously obtained a new rendering result in the background, and this time's requested page is a version that has been cached on the server."}),"\n",(0,r.jsxs)(n.p,{children:["One can imagine that when the ",(0,r.jsx)(n.code,{children:"interval"})," is set to 1, users can have a responsive experience of static pages while perceiving real-time data."]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive info",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"INFO"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,r.jsxs)(n.p,{children:["For more detail, see ",(0,r.jsx)(n.a,{href:"/apis/app/runtime/ssr/pre-render",children:(0,r.jsx)(n.code,{children:"<PreRender>"})}),"."]}),"\n"]})]}),"\n",(0,r.jsxs)(n.h2,{id:"treeshaking",children:["Treeshaking",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#treeshaking",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"When SSR is enabled, Modern.js uses the same entry point to build both SSR Bundle and CSR Bundle. Therefore, errors may occur if there are Web APIs in the SSR Bundle or Node APIs in the CSR Bundle."}),"\n",(0,r.jsx)(n.p,{children:"Introducing Web APIs in components usually do some global listening or obtaining browser-related data, such as:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"document.addEventListener('load', () => {\n  console.log('document load');\n});\nconst App = () => {\n  return <div>Hello World</div>;\n};\nexport default App;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Importing Node API in component files is usually done when using ",(0,r.jsx)(n.code,{children:"useLoader"}),", for example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import fse from 'fs-extra';\nexport default () => {\n  const file = fse.readFileSync('./myfile');\n  return {\n    ...\n  };\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"use-environment-variables",children:["Use Environment Variables",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-environment-variables",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["For the first case, we can directly use the built-in environment variable ",(0,r.jsx)(n.code,{children:"MODERN_TARGET"})," in Modern.js to determine and remove unused code during build time:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"if (process.env.MODERN_TARGET === 'browser') {\n  document.addEventListener('load', () => {\n    console.log('document load');\n  });\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"After the development environment is bundled, the SSR and CSR artifacts will be compiled into the following content. Therefore, there will be no more Web API errors in the SSR environment."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"// SSR production\nif (false) {\n}\n\n// CSR production\nif (true) {\n  document.addEventListener('load', () => {\n    console.log('document load');\n  });\n}\n"})}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive note",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"NOTE"}),(0,r.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,r.jsxs)(n.p,{children:["For more information, see ",(0,r.jsx)(n.a,{href:"/guides/basic-features/env-vars",children:"environment variables"}),"."]}),"\n"]})]}),"\n",(0,r.jsxs)(n.h3,{id:"use-file-suffix",children:["Use File Suffix",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-file-suffix",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["But for example, in the second case, ",(0,r.jsx)(n.code,{children:"fs-extra"})," is imported in the code, which has side effects using Node API internally. If it is directly referenced in the component, it will cause an error when CSR loading."]}),"\n",(0,r.jsxs)(n.p,{children:["Environment variables does not work in this case. Modern.js also supports using files with the ",(0,r.jsx)(n.code,{children:".node."})," suffix to distinguish between the packaging files of SSR Bundle and CSR Bundle products."]}),"\n",(0,r.jsxs)(n.p,{children:["You can create a proxy layer by creating files with the same name but different extensions, such as ",(0,r.jsx)(n.code,{children:".ts"})," and ",(0,r.jsx)(n.code,{children:".node.ts"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="compat.ts"',children:"export const readFileSync: any = () => {};\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="compat.node.ts"',children:"export { readFileSync } from 'fs-extra';\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Import ",(0,r.jsx)(n.code,{children:"./compat"})," directly in the file. In SSR environment, files with ",(0,r.jsx)(n.code,{children:".node.ts"})," suffix will be used first, while in CSR environment, files with ",(0,r.jsx)(n.code,{children:".ts"})," suffix will be used."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="App.tsx"',children:"import { readFileSync } from './compat'\n\nexport const loader = () => {\n  const file = readFileSync('./myfile');\n  return {\n    ...\n  };\n};\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"independent-file",children:["Independent File",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#independent-file",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"The two methods mentioned above will both bring some mental burden to developers. In real business scenarios, we found that most of the mixed Node/Web code appears in data requests."}),"\n",(0,r.jsxs)(n.p,{children:["Therefore, Modern.js has designed a ",(0,r.jsx)(n.a,{href:"/guides/basic-features/data/data-fetch",children:"Data Fetch"})," to separate CSR and SSR code based on ",(0,r.jsx)(n.a,{href:"/guides/basic-features/routes",children:"Nested Routing"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["We can separate ",(0,r.jsx)(n.strong,{children:"data requests from component code"})," by using independent files. Write the component logic in ",(0,r.jsx)(n.code,{children:"routes/page.tsx"})," and write the data request logic in ",(0,r.jsx)(n.code,{children:"routes/page.data.ts"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="routes/page.tsx"',children:"export default Page = () => {\n  return <div>Hello World<div>\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",meta:'title="routes/page.data.tsx"',children:"import fse from 'fs-extra';\nexport const loader = () => {\n  const file = fse.readFileSync('./myfile');\n  return {\n    ...\n  };\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"remote-request",children:["Remote Request",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#remote-request",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["When initiating interface requests in SSR, developers sometimes encapsulate isomorphic request tools themselves. For some interfaces that require passing user cookies, developers can use the ",(0,r.jsx)(n.a,{href:"/guides/basic-features/data/data-fetch#route-loader",children:"'useRuntimeContext'"})," API to get the request header for implementation."]}),"\n",(0,r.jsx)(n.p,{children:"It should be noted that the obtained request header is for HTML requests, which may not be suitable for API requests. Therefore, ** don't passed through all request headers **."}),"\n",(0,r.jsxs)(n.p,{children:["In addition, some backend interfaces or common gateways will verify based on the information in the request header. Full pass-through can easily lead to various difficult-to-troubleshoot issues, so it is recommended to ",(0,r.jsx)(n.strong,{children:"pass through as needed"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["If it is really necessary to pass through all request headers, please be sure to filter the ",(0,r.jsx)(n.code,{children:"host"})," field."]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}let d=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["en%2Fguides%2Fadvanced-features%2Fssr%2Fusage.mdx"]={toc:[{text:"SSR Data Fetch",id:"ssr-data-fetch",depth:2},{text:"Keep Rendering Consistent",id:"keep-rendering-consistent",depth:2},{text:"Pay Attention to Memory Leaks",id:"pay-attention-to-memory-leaks",depth:2},{text:"Converging Server Data.",id:"converging-server-data",depth:2},{text:"Serverless Pre-render",id:"serverless-pre-render",depth:2},{text:"Treeshaking",id:"treeshaking",depth:2},{text:"Use Environment Variables",id:"use-environment-variables",depth:3},{text:"Use File Suffix",id:"use-file-suffix",depth:3},{text:"Independent File",id:"independent-file",depth:3},{text:"Remote Request",id:"remote-request",depth:2}],title:"Usage",frontmatter:{sidebar_position:1,title:"Usage"}}}}]);