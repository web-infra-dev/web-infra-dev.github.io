{"version":3,"file":"static/js/async/docs_en_guides_topic-detail_model_test-model_mdx.d6803595.js","sources":["./docs/en/guides/topic-detail/model/test-model.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"en%2Fguides%2Ftopic-detail%2Fmodel%2Ftest-model.mdx\"] = {\"toc\":[],\"title\":\"Test Model\",\"frontmatter\":{\"sidebar_position\":9,\"title\":\"Test Model\"}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        code: \"code\",\n        pre: \"pre\",\n        div: \"div\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"test-model\">{\"Test Model\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#test-model\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"Testing is crucial for the stability of code. Here's an example using the \"}<_components.code>{\"countModel\"}</_components.code>{\" from \"}<_components.a href=\"/guides/topic-detail/model/quick-start\">{\"Quick Start\"}</_components.a>{\" to demonstrate how to perform unit testing on a Model in Modern.js.\"}</_components.p>{\"\\n\"}<_components.p>{\"To use the testing feature, you need to first enable it. In the project root directory, execute \"}<_components.code>{\"pnpm run new\"}</_components.code>{\" and make the following selection:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{'? Please select the operation you want to perform: Enable optional features\\n? Enable optional features Enable \"Unit Testing / Integration Testing\" feature\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"This will enable testing feature support.\"}</_components.p>{\"\\n\"}<_components.p>{\"Create a new file called \"}<_components.code>{\"count.test.ts\"}</_components.code>{\" with the following code:\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import { createStore } from '@modern-js/runtime/testing';\\nimport countModel from './count';\\n\\ndescribe('test model', () => {\\n  it('count value should plus one after add', () => {\\n    const store = createStore();\\n    const [state, { add }] = store.use(countModel);\\n\\n    expect(state).toEqual({ value: 1 });\\n\\n    add();\\n\\n    expect(store.use(countModel)[0]).toEqual({ value: 2 });\\n  });\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.div className=\"modern-directive info\"><_components.div className=\"modern-directive-title\">{\"INFO\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"The \"}<_components.a href=\"/apis/app/runtime/model/create-store\"><_components.code>{\"createStore\"}</_components.code></_components.a>{\" used here is imported from \"}<_components.code>{\"@modern-js/runtime/testing\"}</_components.code>{\", which internally uses the configuration of \"}<_components.a href=\"/configure/app/runtime/state\"><_components.code>{\"runtime.state\"}</_components.code></_components.a>{\" to create a \"}<_components.code>{\"store\"}</_components.code>{\".\"}</_components.p>{\"\\n\"}</_components.div></_components.div>{\"\\n\"}<_components.p>{\"In the test case, we create a new \"}<_components.code>{\"store\"}</_components.code>{\" to mount \"}<_components.code>{\"countModel\"}</_components.code>{\", use \"}<_components.code>{\"store.use\"}</_components.code>{\" to get the State and Actions of \"}<_components.code>{\"countModel\"}</_components.code>{\". Then, we call the \"}<_components.code>{\"add\"}</_components.code>{\" Action to update the state and assert the updated state value.\"}</_components.p>{\"\\n\"}<_components.p>{\"Execute the \"}<_components.code>{\"pnpm run test\"}</_components.code>{\" command to trigger the execution of the test case.\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","code","pre","div","components","id","className","href","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"gOAAA,E,mDAGA,SAASA,EAAkBC,CAAK,EAC5B,IAAMC,EAAcC,OAAOC,MAAM,CAAC,CAC9BC,GAAI,KACJC,EAAG,IACHC,EAAG,IACHC,KAAM,OACNC,IAAK,MACLC,IAAK,KACT,EAAG,yBAAsBT,EAAMU,UAAU,EACzC,MAAO,uB,UAAE,WAACT,EAAYG,EAAE,EAACO,GAAG,a,UAAc,aAAa,UAACV,EAAYI,CAAC,EAACO,UAAU,gBAAgB,cAAY,OAAOC,KAAK,c,SAAe,G,MAAsC,KAAK,WAACZ,EAAYK,CAAC,E,UAAE,6EAA6E,UAACL,EAAYM,IAAI,E,SAAE,Y,GAAiC,SAAS,UAACN,EAAYI,CAAC,EAACQ,KAAK,yC,SAA0C,a,GAA+B,uE,GAAwF,KAAK,WAACZ,EAAYK,CAAC,E,UAAE,mGAAmG,UAACL,EAAYM,IAAI,E,SAAE,c,GAAmC,qC,GAAsD,KAAK,UAACN,EAAYO,GAAG,E,SAAC,UAACP,EAAYM,IAAI,EAACK,UAAU,gB,SAAiB,+J,KAAsM,KAAK,UAACX,EAAYK,CAAC,E,SAAE,2C,GAA6D,KAAK,WAACL,EAAYK,CAAC,E,UAAE,4BAA4B,UAACL,EAAYM,IAAI,E,SAAE,e,GAAoC,4B,GAA6C,KAAK,UAACN,EAAYO,GAAG,E,SAAC,UAACP,EAAYM,IAAI,EAACK,UAAU,c,SAAe,qZ,KAA4b,KAAK,WAACX,EAAYQ,GAAG,EAACG,UAAU,wB,UAAwB,UAACX,EAAYQ,GAAG,EAACG,UAAU,yB,SAA0B,M,GAAyB,WAACX,EAAYQ,GAAG,EAACG,UAAU,2B,UAA2B,WAACX,EAAYK,CAAC,E,UAAE,OAAO,UAACL,EAAYI,CAAC,EAACQ,KAAK,uC,SAAuC,UAACZ,EAAYM,IAAI,E,SAAE,a,KAAkD,+BAA+B,UAACN,EAAYM,IAAI,E,SAAE,4B,GAAiD,gDAAgD,UAACN,EAAYI,CAAC,EAACQ,KAAK,+B,SAA+B,UAACZ,EAAYM,IAAI,E,SAAE,e,KAAoD,gBAAgB,UAACN,EAAYM,IAAI,E,SAAE,O,GAA4B,I,GAAqB,K,MAA0C,KAAK,WAACN,EAAYK,CAAC,E,UAAE,qCAAqC,UAACL,EAAYM,IAAI,E,SAAE,O,GAA4B,aAAa,UAACN,EAAYM,IAAI,E,SAAE,Y,GAAiC,SAAS,UAACN,EAAYM,IAAI,E,SAAE,W,GAAgC,oCAAoC,UAACN,EAAYM,IAAI,E,SAAE,Y,GAAiC,uBAAuB,UAACN,EAAYM,IAAI,E,SAAE,K,GAA0B,kE,GAAmF,KAAK,WAACN,EAAYK,CAAC,E,UAAE,eAAe,UAACL,EAAYM,IAAI,E,SAAE,e,GAAoC,sD,KACp+F,CAbA,GAAAO,UAAA,EAAWC,mBAAmB,EAA9B,GAAWA,mBAAmB,CAAK,CAAC,GACpCD,WAAWC,mBAAmB,CAAC,sDAAsD,CAAG,CAAC,IAAM,EAAE,CAAC,MAAQ,aAAa,YAAc,CAAC,iBAAmB,EAAE,MAAQ,YAAY,CAAC,EAiBhL,MAJA,W,IAAoBf,EAAQ,UAAR,6CAAQ,CAAC,EACRgB,EAAc,AAAAd,OAAOC,MAAM,CAAC,CAAC,EAAG,yBAAsBH,EAAMU,UAAU,EAA/EO,OAAO,CACf,OAAOD,EAAY,UAACA,EAAA,mBAAchB,GAAA,C,SAAO,UAACD,EAAA,KAAAmB,CAAA,AAAAA,EAAA,GAAsBlB,G,IAAuBD,EAAkBC,EAC7G,C"}