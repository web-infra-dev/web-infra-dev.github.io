{"version":3,"file":"static/js/async/docs_zh_tutorials_first-app_c08-entries_mdx.f7579ce8.js","sources":["./docs/zh/tutorials/first-app/c08-entries.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Ftutorials%2Ffirst-app%2Fc08-entries.mdx\"] = {\"toc\":[{\"text\":\"新建入口\",\"id\":\"新建入口\",\"depth\":2},{\"text\":\"按入口修改配置\",\"id\":\"按入口修改配置\",\"depth\":2},{\"text\":\"下一步\",\"id\":\"下一步\",\"depth\":2}],\"title\":\"添加应用入口\",\"frontmatter\":{\"title\":\"添加应用入口\"}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        h2: \"h2\",\n        code: \"code\",\n        pre: \"pre\",\n        img: \"img\",\n        strong: \"strong\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"添加应用入口\">{\"添加应用入口\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#添加应用入口\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"上一个章节中，我们基本完成了联系人列表应用的开发，介绍了 Modern.js 中部分功能的用法，以及推荐的最佳实践。\"}</_components.p>{\"\\n\"}<_components.p>{\"这一章节中，我们将介绍如何为应用添加新的入口。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"新建入口\">{\"新建入口\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#新建入口\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"一个完整的项目可能需要多个入口，Modern.js 支持自动创建新入口，前面的章节中提到过，\"}<_components.code>{\"pnpm run new\"}</_components.code>{\" 可以启用可选功能。\"}</_components.p>{\"\\n\"}<_components.p>{\"我们也可以通过它来创建新的工程元素，在项目根目录下执行 \"}<_components.code>{\"pnpm run new\"}</_components.code>{\"：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"? 请选择你想要的操作 创建工程元素\\n? 请选择创建元素类型 新建「应用入口」\\n? 请填写入口名称 (entry) landing-page\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"创建完成，项目会变成这样：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\".\\n├── README.md\\n├── modern.config.ts\\n├── node_modules\\n├── package.json\\n├── pnpm-lock.yaml\\n├── src\\n│   ├── modern-app-env.d.ts\\n│   ├── landing-page\\n│   │   └── routes\\n│   │       ├── index.css\\n│   │       ├── layout.tsx\\n│   │       └── page.tsx\\n│   └── myapp\\n│       ├── components\\n│       │   ├── Avatar\\n│       │   │   └── index.tsx\\n│       │   └── Item\\n│       │       └── index.tsx\\n│       ├── containers\\n│       │   └── Contacts.tsx\\n│       ├── models\\n│       │   └── contacts.ts\\n│       ├── routes\\n│       │   ├── archives\\n│       │   │   └── page.tsx\\n│       │   ├── layout.tsx\\n│       │   └── page.tsx\\n│       └── styles\\n│           └── utils.css\\n└── tsconfig.json\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"可以看到联系人列表应用的文件，都被自动重构到 \"}<_components.code>{\"src/myapp/\"}</_components.code>{\" 里。\"}</_components.p>{\"\\n\"}<_components.p>{\"同时新建了一个 \"}<_components.code>{\"src/landing-page/\"}</_components.code>{\"，里面同样有 \"}<_components.code>{\"routes/*\"}</_components.code>{\"（\"}<_components.code>{\"pnpm run new\"}</_components.code>{\" 命令只做了这些事，所以你也可以很容易的手动创建新入口或修改入口）\"}</_components.p>{\"\\n\"}<_components.p>{\"执行 \"}<_components.code>{\"pnpm run dev\"}</_components.code>{\"，显示：\"}</_components.p>{\"\\n\"}<_components.p><_components.img src=\"https://lf3-static.bytednsdoc.com/obj/eden-cn/nuvjhpqnuvr/modern-website/tutorials/c08-entries-myapp.png\" alt=\"design\"/></_components.p>{\"\\n\"}<_components.p>{\"访问 \"}<_components.code>{\"http://localhost:8080/\"}</_components.code>{\"，可以像之前一样看到应用程序。\"}</_components.p>{\"\\n\"}<_components.p>{\"访问 \"}<_components.code>{\"http://localhost:8080/landing-page\"}</_components.code>{\"，可以看到刚创建的新入口 \"}<_components.code>{\"landing-page\"}</_components.code>{\" 的页面（Modern.js 自动生成的默认页面）。\"}</_components.p>{\"\\n\"}<_components.p>{\"Modern.js 框架的设计原则之一是【\"}<_components.a href=\"https://en.wikipedia.org/wiki/Convention_over_configuration\" target=\"_blank\" rel=\"noopener noreferrer\">{\"约定优于配置（Convention over Configuration）\"}</_components.a>{\"】，多数情况下可以按约定直接写代码，不需要做任何配置，这里 \"}<_components.code>{\"src/\"}</_components.code>{\" 中的目录结构就是一种约定：\"}</_components.p>{\"\\n\"}<_components.p><_components.code>{\"src/myapp/\"}</_components.code>{\" 和 \"}<_components.code>{\"src/landing-page/\"}</_components.code>{\" 被自动识别为两个应用入口：myapp 和 landing-page。\"}</_components.p>{\"\\n\"}<_components.p>{\"其中 \"}<_components.code>{\"src/myapp/\"}</_components.code>{\" 的目录名跟项目名（\"}<_components.code>{\"package.json\"}</_components.code>{\" 里的 \"}<_components.code>{\"name\"}</_components.code>{\"）一致，会被认为是项目\"}<_components.strong>{\"主入口\"}</_components.strong>{\"，项目 URL 的根路径（开发环境里默认是 \"}<_components.code>{\"http://localhost:8080/\"}</_components.code>{\"）会自动指向主入口。\"}</_components.p>{\"\\n\"}<_components.p>{\"其他入口的 URL，是在根路径后追加入口名，比如 \"}<_components.code>{\"http://localhost:8080/landing-page\"}</_components.code>{\"。\"}</_components.p>{\"\\n\"}<_components.p>{\"接下来，我们把 \"}<_components.code>{\"src/myapp/\"}</_components.code>{\" 重命名为 \"}<_components.code>{\"src/contacts/\"}</_components.code>{\"：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"mv src/myapp src/contacts\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"再次执行 \"}<_components.code>{\"pnpm run dev\"}</_components.code>{\"，结果变成：\"}</_components.p>{\"\\n\"}<_components.p><_components.img src=\"https://lf3-static.bytednsdoc.com/obj/eden-cn/nuvjhpqnuvr/modern-website/tutorials/c08-entries-contacts.png\" alt=\"design\"/></_components.p>{\"\\n\"}<_components.p>{\"现在不再有主入口，联系人列表现在是一个普通入口，需要用 \"}<_components.code>{\"http://localhost:8080/contacts\"}</_components.code>{\" 访问。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"按入口修改配置\">{\"按入口修改配置\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#按入口修改配置\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"我们可以在 Modern.js 配置文件里，自己写代码来控制项目的配置。\"}</_components.p>{\"\\n\"}<_components.p>{\"现在，修改 \"}<_components.code>{\"modern.config.ts\"}</_components.code>{\"，添加内容：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"import { appTools, defineConfig } from '@modern-js/app-tools';\\nimport { tailwindcssPlugin } from '@modern-js/plugin-tailwindcss';\\n\\nexport default defineConfig({\\n  runtime: {\\n    router: true,\\n    state: true,\\n  },\\n  server: {\\n    ssr: true,\\n    ssrByEntries: {\\n      'landing-page': false,\\n    },\\n  },\\n  plugins: [appTools(), tailwindcssPlugin()],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"执行 \"}<_components.code>{\"pnpm run dev\"}</_components.code>{\"，再用浏览器打开 \"}<_components.code>{\"view-source:http://localhost:8080/landing-page\"}</_components.code>{\"，可以看到 \"}<_components.code>{\"landing-page\"}</_components.code>{\" 网页内容是通过 js 动态加载的，且此页面的 SSR 功能被关闭。\"}</_components.p>{\"\\n\"}<_components.p>{\"如果注释掉 \"}<_components.code>{\"ssrByEntries\"}</_components.code>{\" 和它的值，landing-page 的 SSR 功能就恢复开启了。\"}</_components.p>{\"\\n\"}<_components.p>{\"还有一些时候，需要一些更复杂的逻辑来做设置，比如需要 JS 变量、表达式、导入模块等，例如在只在开发环境里开启 SSR：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-js\">{\"export default defineConfig({\\n  server: {\\n    ssrByEntries: {\\n      'landing-page': process.env.NODE_ENV !== 'production',\\n    },\\n  },\\n};\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"到底为止，我们的联系人列表应用的雏形就基本完成了 👏👏👏。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"下一步\">{\"下一步\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#下一步\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"接下来你可以通过了解\"}<_components.a href=\"/guides/get-started/quick-start\">{\"指南\"}</_components.a>{\"、\"}<_components.a href=\"/configure/app/usage\">{\"配置\"}</_components.a>{\" 等更多教程，进一步完善你的应用。\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","h2","code","pre","img","strong","components","id","className","href","src","alt","target","rel","meta","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}