/*! For license information please see 63853.98c0c5a8.js.LICENSE.txt */
(self.webpackChunk_modern_js_main_doc=self.webpackChunk_modern_js_main_doc||[]).push([["63853"],{3246:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return i}});var d=s("9880"),c=s("23169");function r(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",code:"code",div:"div",h2:"h2",h3:"h3",pre:"pre"},(0,c.useMDXComponents)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"\u914D\u7F6E\u4F7F\u7528",children:["\u914D\u7F6E\u4F7F\u7528",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u914D\u7F6E\u4F7F\u7528",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Modern.js \u4E2D\u6709\u4E24\u79CD\u914D\u7F6E\uFF0C\u5206\u522B\u662F\u7F16\u8BD1\u65F6\u914D\u7F6E\u548C\u670D\u52A1\u7AEF\u8FD0\u884C\u65F6\u914D\u7F6E\u3002"}),"\n",(0,d.jsx)(n.p,{children:"\u7F16\u8BD1\u65F6\u914D\u7F6E\u53EF\u4EE5\u5728\u4E24\u4E2A\u4F4D\u7F6E\u8FDB\u884C\u914D\u7F6E\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u6839\u8DEF\u5F84\u4E0B\u7684 ",(0,d.jsx)(n.code,{children:"modern.config.(ts|js|mjs)"})," \u6587\u4EF6"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"package.json"})," \u6587\u4EF6"]}),"\n"]}),"\n",(0,d.jsxs)(n.div,{className:"rspress-directive info",children:[(0,d.jsx)(n.div,{className:"rspress-directive-title",children:"INFO"}),(0,d.jsx)(n.div,{className:"rspress-directive-content",children:(0,d.jsxs)(n.p,{children:["Modern.js \u4E0D\u652F\u6301\u540C\u65F6\u5728 ",(0,d.jsx)(n.code,{children:"package.json"})," \u4E2D\u548C ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," \u4E2D\u914D\u7F6E\u540C\u4E00\u4E2A\u914D\u7F6E\u9879\uFF0C\u63A8\u8350\u5728 ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," \u4E2D\u8FDB\u884C\u914D\u7F6E\u3002\u5982\u679C Modern.js \u68C0\u6D4B\u5230\u91CD\u590D\u914D\u7F6E\u5BFC\u81F4\u7684\u51B2\u7A81\uFF0C\u5C06\u4F1A\u629B\u51FA\u8B66\u544A\u3002\n"]})})]}),"\n",(0,d.jsxs)(n.p,{children:["\u670D\u52A1\u7AEF\u8FD0\u884C\u65F6\u914D\u7F6E\u53EF\u4EE5\u5728\u6839\u8DEF\u5F84\u4E0B\u7684 ",(0,d.jsx)(n.code,{children:"modern.server-runtime.config.(ts|js|mjs)"})," \u4E2D\u8FDB\u884C\u914D\u7F6E\u3002"]}),"\n",(0,d.jsxs)(n.h2,{id:"\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E",children:["\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["Modern.js \u7684\u914D\u7F6E\u6587\u4EF6\u5B9A\u4E49\u5728\u9879\u76EE\u7684\u6839\u76EE\u5F55\u4E0B\uFF0C\u652F\u6301 ",(0,d.jsx)(n.code,{children:".ts"}),", ",(0,d.jsx)(n.code,{children:".js"})," \u548C ",(0,d.jsx)(n.code,{children:".mjs"})," \u683C\u5F0F\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"modern.config.ts"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"modern.config.js"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"modern.config.mjs"})}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"modernconfigts\u63A8\u8350",children:["modern.config.ts\uFF08\u63A8\u8350\uFF09",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modernconfigts\u63A8\u8350",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u6211\u4EEC\u63A8\u8350\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:".ts"})," \u683C\u5F0F\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u5B83\u63D0\u4F9B\u4E86\u53CB\u597D\u7684 TypeScript \u7C7B\u578B\u63D0\u793A\uFF0C\u4ECE\u800C\u5E2E\u52A9\u4F60\u907F\u514D\u914D\u7F6E\u4E2D\u7684\u9519\u8BEF\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u4ECE ",(0,d.jsx)(n.code,{children:"@modern-js/app-tools"})," \u4E2D\u5BFC\u5165 ",(0,d.jsx)(n.code,{children:"defineConfig"})," \u5DE5\u5177\u51FD\u6570, \u5B83\u4F1A\u5E2E\u52A9\u4F60\u8FDB\u884C\u914D\u7F6E\u7684\u7C7B\u578B\u63A8\u5BFC\u548C\u7C7B\u578B\u8865\u5168\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig({\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n});\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5F53\u4F60\u4F7F\u7528 Rspack \u4F5C\u4E3A\u6253\u5305\u5DE5\u5177\u65F6\uFF0C\u7531\u4E8E webpack \u548C Rspack \u7684\u914D\u7F6E\u7C7B\u578B\u5B58\u5728\u4E00\u4E9B\u5DEE\u5F02\uFF0C\u9700\u8981\u4E3A ",(0,d.jsx)(n.code,{children:"defineConfig"})," \u6307\u5B9A ",(0,d.jsx)(n.code,{children:"<'rspack'>"})," \u6CDB\u578B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-diff",meta:"title=modern.config.ts",children:"- export default defineConfig({\n+ export default defineConfig<'rspack'>({\n  // ...\n});\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"modernconfigjs",children:["modern.config.js",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modernconfigjs",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u5728\u5F00\u53D1\u4E00\u4E2A\u975E TypeScript \u9879\u76EE\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:".js"})," \u683C\u5F0F\u7684\u914D\u7F6E\u6587\u4EF6\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",meta:'title="modern.config.js"',children:"export default {\n  source: {\n    alias: opts => {\n      opts['@common'] = './src/common';\n    },\n  },\n};\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7 ",(0,d.jsx)(n.code,{children:"process.env.NODE_ENV"}),"\uFF0C\u6839\u636E\u73AF\u5883\u505A\u4E0D\u540C\u914D\u7F6E\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",meta:'title="modern.config.js"',children:"export default {\n  server: {\n    ssr: process.env.NODE_ENV === 'development',\n  },\n};\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u5BFC\u51FA\u914D\u7F6E\u51FD\u6570",children:["\u5BFC\u51FA\u914D\u7F6E\u51FD\u6570",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BFC\u51FA\u914D\u7F6E\u51FD\u6570",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Modern.js \u652F\u6301\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u5BFC\u51FA\u4E00\u4E2A\u51FD\u6570\uFF0C\u4F60\u53EF\u4EE5\u5728\u51FD\u6570\u4E2D\u52A8\u6001\u8BA1\u7B97\u914D\u7F6E\uFF0C\u5E76\u8FD4\u56DE\u7ED9 Modern.js\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",meta:'title="modern.config.js"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig(({ env, command }) => ({\n  source: {\n    alias: {\n      '@foo': env === 'development' ? './src/foo.dev.ts' : './src/foo.prod.ts',\n    },\n  },\n}));\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u8BE5\u51FD\u6570\u63A5\u53D7\u4EE5\u4E0B\u5165\u53C2\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"env"}),"\uFF1A\u5BF9\u5E94 ",(0,d.jsx)(n.code,{children:"process.env.NODE_ENV"})," \u7684\u503C\u3002","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5F53\u8FD0\u884C ",(0,d.jsx)(n.code,{children:"modern dev"})," \u6216 ",(0,d.jsx)(n.code,{children:"modern start"})," \u65F6\uFF0C",(0,d.jsx)(n.code,{children:"env"})," \u7684\u503C\u4E3A ",(0,d.jsx)(n.code,{children:"development"}),"\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5F53\u8FD0\u884C ",(0,d.jsx)(n.code,{children:"modern build"})," \u6216 ",(0,d.jsx)(n.code,{children:"modern serve"})," \u65F6\uFF0C",(0,d.jsx)(n.code,{children:"env"})," \u7684\u503C\u4E3A ",(0,d.jsx)(n.code,{children:"production"}),"\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5F53\u8FD0\u884C ",(0,d.jsx)(n.code,{children:"modern test"})," \u65F6\uFF0C",(0,d.jsx)(n.code,{children:"env"})," \u7684\u503C\u4E3A ",(0,d.jsx)(n.code,{children:"test"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"command"}),"\uFF1A\u5BF9\u5E94\u5F53\u524D\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u5982 ",(0,d.jsx)(n.code,{children:"dev"}),"\u3001",(0,d.jsx)(n.code,{children:"start"}),"\u3001",(0,d.jsx)(n.code,{children:"build"}),"\u3001",(0,d.jsx)(n.code,{children:"serve"}),"\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u5BFC\u51FA\u5F02\u6B65\u51FD\u6570",children:["\u5BFC\u51FA\u5F02\u6B65\u51FD\u6570",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5BFC\u51FA\u5F02\u6B65\u51FD\u6570",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"Modern.js \u4E5F\u652F\u6301\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u5BFC\u51FA\u4E00\u4E2A\u5F02\u6B65\u51FD\u6570\uFF0C\u4F60\u53EF\u4EE5\u5728\u51FD\u6570\u4E2D\u8FDB\u884C\u4E00\u4E9B\u5F02\u6B65\u64CD\u4F5C\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",meta:'title="modern.config.js"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig(async ({ env, command }) => {\n  const result = await someAsyncFunction();\n\n  return {\n    html: {\n      title: result,\n    },\n  };\n});\n"})}),"\n",(0,d.jsxs)(n.h3,{id:"\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6",children:["\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["Modern.js \u547D\u4EE4\u884C\u652F\u6301\u901A\u8FC7 ",(0,d.jsx)(n.code,{children:"--config"})," \u9009\u9879\u6765\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\u7684\u540D\u79F0\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u4F8B\u5982\uFF0C\u4F60\u9700\u8981\u5728\u6267\u884C ",(0,d.jsx)(n.code,{children:"build"})," \u547D\u4EE4\u65F6\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"modern.prod.config.ts"})," \u6587\u4EF6\uFF0C\u53EF\u4EE5\u5728 ",(0,d.jsx)(n.code,{children:"package.json"})," \u4E2D\u6DFB\u52A0\u5982\u4E0B\u914D\u7F6E\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",meta:'title="package.json"',children:'{\n  "scripts": {\n    "dev": "modern modern",\n    "build": "modern build --config modern.prod.config.ts"\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u4F60\u4E5F\u53EF\u4EE5\u5C06 ",(0,d.jsx)(n.code,{children:"--config"})," \u9009\u9879\u7F29\u5199\u4E3A ",(0,d.jsx)(n.code,{children:"-c"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"$ modern build -c modern.prod.config.js\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"\u5728-packagejson-\u4E2D\u914D\u7F6E\u4E0D\u63A8\u8350",children:["\u5728 package.json \u4E2D\u914D\u7F6E\uFF08\u4E0D\u63A8\u8350\uFF09",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5728-packagejson-\u4E2D\u914D\u7F6E\u4E0D\u63A8\u8350",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u9664\u4E86\u914D\u7F6E\u6587\u4EF6\u5916\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u5728 ",(0,d.jsx)(n.code,{children:"package.json"})," \u4E2D\u7684 ",(0,d.jsx)(n.code,{children:"modernConfig"})," \u5B57\u6BB5\u4E0B\u8BBE\u7F6E\u914D\u7F6E\u9879\uFF0C\u5982\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",meta:'title="package.json"',children:'{\n  "modernConfig": {\n    "source": {\n      "alias": {\n        "@common": "./src/common"\n      }\n    }\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u7531\u4E8E JSON \u6587\u4EF6\u683C\u5F0F\u7684\u9650\u5236\uFF0C",(0,d.jsx)(n.code,{children:"package.json"})," \u4E2D\u53EA\u80FD\u5B9A\u4E49\u6570\u5B57\u3001\u5B57\u7B26\u4E32\u3001\u5E03\u5C14\u503C\u3001\u6570\u7EC4\u7B49\u7B80\u5355\u7C7B\u578B\u7684\u503C\uFF0C\u5F53\u6211\u4EEC\u9700\u8981\u8BBE\u7F6E\u51FD\u6570\u7C7B\u578B\u7684\u503C\u65F6\uFF0C\u5EFA\u8BAE\u5728 Modern.js \u914D\u7F6E\u6587\u4EF6\u4E2D\u8FDB\u884C\u8BBE\u7F6E\u3002"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u6CE8\u610F\u4E8B\u9879",children:["\u6CE8\u610F\u4E8B\u9879",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6CE8\u610F\u4E8B\u9879",children:"#"})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u4E0D\u5EFA\u8BAE\u540C\u65F6\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"package.json"})," \u548C ",(0,d.jsx)(n.code,{children:"modern.config.js"})," \u8FDB\u884C\u914D\u7F6E\u3002\u5982\u679C\u540C\u65F6\u4F7F\u7528\u4E86\u4E24\u8005\u5E76\u51FA\u73B0\u914D\u7F6E\u51B2\u7A81\uFF0CModern.js \u4F1A\u5728\u547D\u4EE4\u884C\u8FDB\u884C\u63D0\u793A\u9519\u8BEF\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"@modern-js/runtime"})," \u5BFC\u51FA\u4E86\u540C\u540D\u7684 ",(0,d.jsx)(n.a,{href:"/apis/app/runtime/app/define-config",children:"defineConfig"})," API\uFF0C\u8BF7\u6CE8\u610F\u533A\u5206\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.h2,{id:"\u672C\u5730\u8C03\u8BD5\u914D\u7F6E",children:["\u672C\u5730\u8C03\u8BD5\u914D\u7F6E",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u672C\u5730\u8C03\u8BD5\u914D\u7F6E",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u4E3A\u4E86\u4FBF\u4E8E\u672C\u5730\u8C03\u8BD5\u914D\u7F6E\uFF0CModern.js \u652F\u6301\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA ",(0,d.jsx)(n.code,{children:"modern.config.local.(ts|js|mjs)"})," \u6587\u4EF6\uFF0C\u7528\u4E8E\u8986\u76D6 ",(0,d.jsx)(n.code,{children:"modern.config.(ts|js|mjs)"})," \u4E2D\u7684\u914D\u7F6E\u9009\u9879\u3002"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u793A\u4F8B",children:["\u793A\u4F8B",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u793A\u4F8B",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u6BD4\u5982\uFF0C\u9879\u76EE\u7684 ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," \u4E2D\u914D\u7F6E\u4E86\u7AEF\u53E3\u53F7\u4E3A ",(0,d.jsx)(n.code,{children:"3000"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig({\n  server: {\n    port: 3000,\n  },\n});\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u5728\u672C\u5730\u8C03\u8BD5\u65F6\u9700\u8981\u5C06\u7AEF\u53E3\u53F7\u4FEE\u6539\u4E3A ",(0,d.jsx)(n.code,{children:"3001"}),"\uFF0C\u4F46\u662F\u53C8\u4E0D\u5E0C\u671B\u4FEE\u6539\u5F53\u524D\u9879\u76EE\u7684 ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," \u6587\u4EF6\uFF0C\u90A3\u4E48\u53EF\u4EE5\u521B\u5EFA\u4E00\u4E2A ",(0,d.jsx)(n.code,{children:"modern.config.local.ts"})," \u6587\u4EF6\uFF0C\u5E76\u6DFB\u52A0\u4EE5\u4E0B\u914D\u7F6E\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.local.ts"',children:"import { defineConfig } from '@modern-js/app-tools';\n\nexport default defineConfig({\n  server: {\n    port: 3001,\n  },\n});\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"modern.config.local.ts"})," \u6587\u4EF6\u4E2D\u7684\u914D\u7F6E\u4F1A\u4E0E ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," \u4E2D\u7684\u914D\u7F6E\u8FDB\u884C\u6DF1\u5C42\u5408\u5E76\uFF0C\u5E76\u8986\u76D6 ",(0,d.jsx)(n.code,{children:"modern.config.ts"})," \u4E2D\u7684\u914D\u7F6E\u9009\u9879\uFF0C\u56E0\u6B64 ",(0,d.jsx)(n.code,{children:"server.port"})," \u4F1A\u88AB\u8986\u76D6\u4E3A ",(0,d.jsx)(n.code,{children:"3001"}),"\u3002"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u6CE8\u610F\u4E8B\u9879-1",children:["\u6CE8\u610F\u4E8B\u9879",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6CE8\u610F\u4E8B\u9879-1",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u5728\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"modern.config.local.ts"})," \u65F6\uFF0C\u8BF7\u6CE8\u610F\u4EE5\u4E0B\u4E8B\u9879\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"modern.config.local.ts"})," \u6587\u4EF6\u4EC5\u4F1A\u5728\u6267\u884C ",(0,d.jsx)(n.code,{children:"modern dev"})," \u6216 ",(0,d.jsx)(n.code,{children:"modern start"})," \u547D\u4EE4\u65F6\u88AB\u52A0\u8F7D\uFF0C\u5F53\u6267\u884C ",(0,d.jsx)(n.code,{children:"modern build"})," \u65F6\u4E0D\u4F1A\u88AB\u52A0\u8F7D\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"modern.config.local.ts"})," \u6587\u4EF6\u7684\u4F18\u5148\u7EA7\u4E0D\u4EC5\u9AD8\u4E8E ",(0,d.jsx)(n.code,{children:"modern.config.ts"}),"\uFF0C\u4E5F\u9AD8\u4E8E ",(0,d.jsx)(n.code,{children:"package.json"})," \u4E2D\u7684 ",(0,d.jsx)(n.code,{children:"modernConfig"})," \u5B57\u6BB5\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u7531\u4E8E ",(0,d.jsx)(n.code,{children:"modern.config.local.ts"})," \u4EC5\u5728\u672C\u5730\u8C03\u8BD5\u65F6\u4F7F\u7528\uFF0C\u56E0\u6B64\u4E0D\u5EFA\u8BAE\u5C06\u5176\u63D0\u4EA4\u5230\u4EE3\u7801\u4ED3\u5E93\u4E2D\uFF0C\u8BF7\u786E\u4FDD\u9879\u76EE\u7684 ",(0,d.jsx)(n.code,{children:".gitignore"})," \u6587\u4EF6\u4E2D\u5305\u542B ",(0,d.jsx)(n.code,{children:"modern.config.local.ts"})," \u7B49\u6587\u4EF6\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",meta:'title=".gitingore"',children:"modern.config.local.*\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"\u5408\u5E76\u591A\u4EFD\u914D\u7F6E",children:["\u5408\u5E76\u591A\u4EFD\u914D\u7F6E",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5408\u5E76\u591A\u4EFD\u914D\u7F6E",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u4F60\u53EF\u80FD\u9700\u8981\u5C06\u591A\u4EFD\u914D\u7F6E\u5408\u5E76\u4E3A\u4E00\u4EFD\u914D\u7F6E\uFF0C\u6B64\u65F6\u4F60\u53EF\u4EE5\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"mergeConfig"})," \u5DE5\u5177\u51FD\u6570\u6765\u5408\u5E76\u591A\u4E2A\u914D\u7F6E\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"mergeConfig"})," \u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u6570\u7EC4\u4F5C\u4E3A\u53C2\u6570\uFF0C\u6570\u7EC4\u4E2D\u7684\u6BCF\u4E00\u9879\u90FD\u662F\u4E00\u4E2A\u914D\u7F6E\u5BF9\u8C61\uFF0C",(0,d.jsx)(n.code,{children:"mergeConfig"})," \u4F1A\u5C06\u6570\u7EC4\u4E2D\u7684\u6BCF\u4E00\u9879\u914D\u7F6E\u5BF9\u8C61\u8FDB\u884C\u6DF1\u5C42\u5408\u5E76\uFF0C\u81EA\u52A8\u5C06\u591A\u4E2A\u51FD\u6570\u9879\u5408\u5E76\u4E3A\u6570\u7EC4\uFF0C\u6700\u7EC8\u8FD4\u56DE\u4E00\u4E2A\u5408\u5E76\u540E\u7684\u914D\u7F6E\u5BF9\u8C61\u3002"]}),"\n",(0,d.jsxs)(n.h3,{id:"\u793A\u4F8B-1",children:["\u793A\u4F8B",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u793A\u4F8B-1",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { mergeConfig } from '@modern-js/app-tools';\n\nconst config1 = {\n  dev: {\n    port: 3000,\n  },\n  tools: {\n    postcss: () => console.log('config1');\n  },\n};\nconst config2 = {\n  dev: {\n    port: 3001,\n  },\n  tools: {\n    postcss: () => console.log('config2');\n  },\n};\n\nconst mergedConfig = mergeConfig([config1, config2]);\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u4EE5\u4E0A\u793A\u4F8B\u4E2D\uFF0C\u5408\u5E76\u540E\u7684\u914D\u7F6E\u5BF9\u8C61\u4E3A\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"const mergedConfig = {\n  dev: {\n    port: 3001,\n  },\n  tools: {\n    postcss: [() => console.log('config1'), () => console.log('config2')],\n  },\n};\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"\u914D\u7F6E\u7C7B\u578B\u5B9A\u4E49",children:["\u914D\u7F6E\u7C7B\u578B\u5B9A\u4E49",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u914D\u7F6E\u7C7B\u578B\u5B9A\u4E49",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["Modern.js \u5BFC\u51FA\u4E86 ",(0,d.jsx)(n.code,{children:"AppUserConfig"})," \u7C7B\u578B\uFF0C\u5BF9\u5E94 Modern.js \u914D\u7F6E\u5BF9\u8C61\u7684\u7C7B\u578B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import type { AppUserConfig } from '@modern-js/app-tools';\n\nconst config: AppUserConfig = {\n  tools: {\n    webpack: {},\n  },\n};\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5F53\u4F60\u4F7F\u7528 Rspack \u4F5C\u4E3A\u6253\u5305\u5DE5\u5177\u65F6\uFF0C\u7531\u4E8E webpack \u548C Rspack \u7684\u914D\u7F6E\u7C7B\u578B\u5B58\u5728\u4E00\u4E9B\u5DEE\u5F02\uFF0C\u9700\u8981\u4E3A ",(0,d.jsx)(n.code,{children:"AppUserConfig"})," \u6307\u5B9A ",(0,d.jsx)(n.code,{children:"<'rspack'>"})," \u6CDB\u578B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import type { AppUserConfig } from '@modern-js/app-tools';\n\nconst config: AppUserConfig<'rspack'> = {\n  tools: {\n    rspack: {},\n  },\n};\n"})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.useMDXComponents)(),e.components);return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(r,{...e})}):r(e)}var i=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["zh%2Fconfigure%2Fapp%2Fusage.mdx"]={toc:[{text:"\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E",id:"\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E",depth:2},{text:"modern.config.ts\uFF08\u63A8\u8350\uFF09",id:"modernconfigts\u63A8\u8350",depth:3},{text:"modern.config.js",id:"modernconfigjs",depth:3},{text:"\u5BFC\u51FA\u914D\u7F6E\u51FD\u6570",id:"\u5BFC\u51FA\u914D\u7F6E\u51FD\u6570",depth:3},{text:"\u5BFC\u51FA\u5F02\u6B65\u51FD\u6570",id:"\u5BFC\u51FA\u5F02\u6B65\u51FD\u6570",depth:3},{text:"\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6",id:"\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6",depth:3},{text:"\u5728 package.json \u4E2D\u914D\u7F6E\uFF08\u4E0D\u63A8\u8350\uFF09",id:"\u5728-packagejson-\u4E2D\u914D\u7F6E\u4E0D\u63A8\u8350",depth:2},{text:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",depth:3},{text:"\u672C\u5730\u8C03\u8BD5\u914D\u7F6E",id:"\u672C\u5730\u8C03\u8BD5\u914D\u7F6E",depth:2},{text:"\u793A\u4F8B",id:"\u793A\u4F8B",depth:3},{text:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879-1",depth:3},{text:"\u5408\u5E76\u591A\u4EFD\u914D\u7F6E",id:"\u5408\u5E76\u591A\u4EFD\u914D\u7F6E",depth:2},{text:"\u793A\u4F8B",id:"\u793A\u4F8B-1",depth:3},{text:"\u914D\u7F6E\u7C7B\u578B\u5B9A\u4E49",id:"\u914D\u7F6E\u7C7B\u578B\u5B9A\u4E49",depth:2}],title:"\u914D\u7F6E\u4F7F\u7528",frontmatter:{sidebar_position:0}}}}]);