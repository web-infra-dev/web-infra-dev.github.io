{"version":3,"file":"static/js/async/docs_zh_guides_advanced-features_code-split_mdx.80af2d7b.js","sources":["./docs/zh/guides/advanced-features/code-split.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguides%2Fadvanced-features%2Fcode-split.mdx\"] = {\"toc\":[{\"text\":\"import\",\"id\":\"import\",\"depth\":2},{\"text\":\"React.lazy\",\"id\":\"reactlazy\",\"depth\":2},{\"text\":\"Loadable\",\"id\":\"loadable\",\"depth\":2}],\"title\":\"代码分割\",\"frontmatter\":{\"sidebar_position\":3}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        div: \"div\",\n        ul: \"ul\",\n        li: \"li\",\n        code: \"code\",\n        h2: \"h2\",\n        pre: \"pre\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"代码分割\">{\"代码分割\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#代码分割\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"代码分割是优化前端资源加载的一种常用手段，本文将介绍 Modern.js 支持的三种代码分割方式：\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive info\"><_components.div className=\"modern-directive-title\">{\"INFO\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"使用 Modern.js \"}<_components.a href=\"/guides/basic-features/routes#%E7%BA%A6%E5%AE%9A%E5%BC%8F%E8%B7%AF%E7%94%B1\">{\"约定式路由\"}</_components.a>{\"时，默认会根据路由组件做代码分割，无需自行进行代码分割。\\n\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.code>{\"import\"}</_components.code></_components.li>{\"\\n\"}<_components.li><_components.code>{\"React.lazy\"}</_components.code></_components.li>{\"\\n\"}<_components.li><_components.code>{\"loadable\"}</_components.code></_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"import\">{\"import\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#import\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"使用动态 \"}<_components.code>{\"import()\"}</_components.code>{\" 语法，传入的 JS 模块将会被被打包到单独的 JS 文件中。例如：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import('./math').then(math => {\\n  console.log(math.add(16, 26));\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"reactlazy\">{\"React.lazy\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#reactlazy\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"React 官方提供的组件代码分割的方式。\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive caution\"><_components.div className=\"modern-directive-title\">{\"CAUTION\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p><_components.code>{\"React.lazy\"}</_components.code>{\" 通常配合 \"}<_components.code>{\"<Suspense>\"}</_components.code>{\" 使用，因此仅在 CSR 或 React 18 Streaming SSR 中可用。\"}</_components.p>{\"\\n\"}<_components.p>{\"对于使用传统 SSR（字符串渲染）的项目，不支持 \"}<_components.code>{\"React.lazy\"}</_components.code>{\"，请使用 Loadable API。\\n\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import React, { Suspense } from 'react';\\n\\nconst OtherComponent = React.lazy(() => import('./OtherComponent'));\\nconst AnotherComponent = React.lazy(() => import('./AnotherComponent'));\\n\\nfunction MyComponent() {\\n  return (\\n    <div>\\n      <Suspense fallback={<div>Loading...</div>}>\\n        <section>\\n          <OtherComponent />\\n          <AnotherComponent />\\n        </section>\\n      </Suspense>\\n    </div>\\n  );\\n}\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p><_components.code>{\"React.lazy\"}</_components.code>{\" 更多用法请见 \"}<_components.a href=\"https://zh-hans.react.dev/reference/react/lazy\" target=\"_blank\" rel=\"noopener noreferrer\">{\"React 官网文档\"}</_components.a>{\"。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"loadable\">{\"Loadable\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#loadable\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"在 Modern.js 中，可以从 \"}<_components.code>{\"@modern-js/runtime/loadable\"}</_components.code>{\" 中导出使用 Loadable API，示例如下：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import loadable from '@modern-js/runtime/loadable';\\n\\nconst OtherComponent = loadable(() => import('./OtherComponent'));\\n\\nfunction MyComponent() {\\n  return <OtherComponent />;\\n}\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"Modern.js 开箱即用的支持在 SSR 中使用 \"}<_components.code>{\"loadable\"}</_components.code>{\"，无需再添加 Babel 插件，或是在 SSR 时向 HTML 中注入脚本。\"}</_components.p>{\"\\n\"}<_components.p>{\"但需要注意的是，任何 Loadable API 在 SSR 中都不支持配合 \"}<_components.code>{\"<Suspense>\"}</_components.code>{\" 使用。\"}</_components.p>{\"\\n\"}<_components.div className=\"modern-directive info\"><_components.div className=\"modern-directive-title\">{\"INFO\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"如果希望在 React 17 及以下的 CSR 项目中使用 \"}<_components.code>{\"<Suspense>\"}</_components.code>{\"，可以用 \"}<_components.a href=\"https://loadable-components.com/docs/suspense/\" target=\"_blank\" rel=\"noopener noreferrer\">{\"loadable.lazy\"}</_components.a>{\" 代替 \"}<_components.code>{\"React.lazy\"}</_components.code>{\"。\\n\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.p>{\"更多用法请见 \"}<_components.a href=\"/apis/app/runtime/utility/loadable\">{\"Loadable API\"}</_components.a>{\"。\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","div","ul","li","code","h2","pre","components","id","className","href","target","rel","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}