{"version":3,"file":"static/js/async/docs_zh_guides_topic-detail_framework-plugin_hook-list_mdx.6a5c2443.js","sources":["./docs/zh/guides/topic-detail/framework-plugin/hook-list.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fguides%2Ftopic-detail%2Fframework-plugin%2Fhook-list.mdx\"] = {\"toc\":[{\"text\":\"CLI Common Hooks\",\"id\":\"cli-common-hooks\",\"depth\":2},{\"text\":\"beforeConfig\",\"id\":\"beforeconfig\",\"depth\":3},{\"text\":\"config\",\"id\":\"config\",\"depth\":3},{\"text\":\"validateSchema\",\"id\":\"validateschema\",\"depth\":3},{\"text\":\"prepare\",\"id\":\"prepare\",\"depth\":3},{\"text\":\"afterPrepare\",\"id\":\"afterprepare\",\"depth\":3},{\"text\":\"commands\",\"id\":\"commands\",\"depth\":3},{\"text\":\"beforeExit\",\"id\":\"beforeexit\",\"depth\":3},{\"text\":\"CLI Framework Hooks\",\"id\":\"cli-framework-hooks\",\"depth\":2},{\"text\":\"beforeDev\",\"id\":\"beforedev\",\"depth\":3},{\"text\":\"afterDev\",\"id\":\"afterdev\",\"depth\":3},{\"text\":\"beforeBuild\",\"id\":\"beforebuild\",\"depth\":3},{\"text\":\"afterBuild\",\"id\":\"afterbuild\",\"depth\":3},{\"text\":\"beforeCreateCompiler\",\"id\":\"beforecreatecompiler\",\"depth\":3},{\"text\":\"afterCreateCompiler\",\"id\":\"aftercreatecompiler\",\"depth\":3},{\"text\":\"beforePrintInstructions\",\"id\":\"beforeprintinstructions\",\"depth\":3},{\"text\":\"modifyEntryImports\",\"id\":\"modifyentryimports\",\"depth\":3},{\"text\":\"modifyEntryExport\",\"id\":\"modifyentryexport\",\"depth\":3},{\"text\":\"modifyEntryRuntimePlugins\",\"id\":\"modifyentryruntimeplugins\",\"depth\":3},{\"text\":\"modifyEntryRenderFunction\",\"id\":\"modifyentryrenderfunction\",\"depth\":3},{\"text\":\"modifyFileSystemRoutes\",\"id\":\"modifyfilesystemroutes\",\"depth\":3},{\"text\":\"modifyServerRoutes\",\"id\":\"modifyserverroutes\",\"depth\":3},{\"text\":\"modifyAsyncEntry\",\"id\":\"modifyasyncentry\",\"depth\":3},{\"text\":\"htmlPartials\",\"id\":\"htmlpartials\",\"depth\":3},{\"text\":\"Runtime\",\"id\":\"runtime\",\"depth\":2},{\"text\":\"init\",\"id\":\"init\",\"depth\":3},{\"text\":\"hoc\",\"id\":\"hoc\",\"depth\":3}],\"title\":\"Hook 列表\",\"frontmatter\":{\"title\":\"Hook 列表\",\"sidebar_position\":8}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        p: \"p\",\n        h2: \"h2\",\n        h3: \"h3\",\n        code: \"code\",\n        ul: \"ul\",\n        li: \"li\",\n        pre: \"pre\",\n        ol: \"ol\",\n        div: \"div\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"hook-列表\">{\"Hook 列表\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#hook-列表\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.p>{\"Modern.js 工程体系中包含三类插件：CLI、Runtime、Server，每一类插件可以使用不同的 Hooks。\"}</_components.p>{\"\\n\"}<_components.p>{\"在本章节中，罗列了所有可用的 Hooks，你可以根据自己的需求来使用对应的 Hook。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"cli-common-hooks\">{\"CLI Common Hooks\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#cli-common-hooks\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"以下是通用的 CLI Hooks，可以在 Modern.js Framework 以及 Modern.js Module 中使用。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"beforeconfig\"><_components.code>{\"beforeConfig\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#beforeconfig\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：运行收集配置前的任务\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：收集配置前\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWorkflow<void, void>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      beforeConfig: () => {\\n        // do something\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"config\"><_components.code>{\"config\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#config\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：收集配置\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：解析完 \"}<_components.code>{\"modern.config.ts\"}</_components.code>{\" 中的配置之后\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"ParallelWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"ParallelWorkflow<void, unknown>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      config: () => {\\n        return {\\n          /** some config */\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"如果你需要设置 Modern.js Framework 的配置，请使用 \"}<_components.code>{\"@modern-js/app-tools\"}</_components.code>{\" 导出的 \"}<_components.code>{\"CliPlugin<AppTools>\"}</_components.code>{\" 类型：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      config: () => {\\n        return {\\n          output: {\\n            polyfill: 'usage',\\n          },\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"插件在 \"}<_components.code>{\"config\"}</_components.code>{\" hook 中返回的配置信息，会被 Modern.js 统一收集与合并，最终生成一份 \"}<_components.code>{\"NormalizedConfig\"}</_components.code>{\"。在进行配置合并时，优先级由高到低依次为：\"}</_components.p>{\"\\n\"}<_components.ol>{\"\\n\"}<_components.li>{\"用户在 \"}<_components.code>{\"modern.config.*\"}</_components.code>{\" 文件里定义的配置\"}</_components.li>{\"\\n\"}<_components.li>{\"插件通过 \"}<_components.code>{\"config\"}</_components.code>{\" hook 定义的配置\"}</_components.li>{\"\\n\"}<_components.li>{\"Modern.js 默认配置。\"}</_components.li>{\"\\n\"}</_components.ol>{\"\\n\"}<_components.h3 id=\"validateschema\"><_components.code>{\"validateSchema\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#validateschema\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：收集各个插件中配置的用来校验用户配置的 \"}<_components.a href=\"https://json-schema.org/\" target=\"_blank\" rel=\"noopener noreferrer\">{\"JSON Schema\"}</_components.a></_components.li>{\"\\n\"}<_components.li>{\"执行阶段：\"}<_components.code>{\"config\"}</_components.code>{\" Hook 运行完成之后。\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"ParallelWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"ParallelWorkflow<void, unknown>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      validateSchema: () => {\\n        return {\\n          // target is field\\n          target: 'foo',\\n          schema: {\\n            type: 'string',\\n          },\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"这里返回的 JSON Schema 会用来校验 \"}<_components.code>{\"modern.config.js\"}</_components.code>{\" 中的配置信息。\"}</_components.p>{\"\\n\"}<_components.p>{\"比如这里返回：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-json\">{'{\\n  \"target\": \"foo\",\\n  \"schema\": {\\n    \"type\": \"string\"\\n  }\\n}\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"就可以在 \"}<_components.code>{\"modern.config.ts\"}</_components.code>{\" 中这样配置：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"export const myPlugin = defineConfig({\\n  foo: 'test',\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"如果是别的类型，校验就不通过会报错，比如这样：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"export const myPlugin = defineConfig({\\n  foo: {},\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"就会报错：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code>{'$ modern dev\\n  1 | {\\n> 2 |   \"foo\": {},\\n    |   ^^^^^  Property foo is not expected to be here\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"prepare\"><_components.code>{\"prepare\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#prepare\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：运行主流程的前置准备流程\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：校验完配置之后\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWorkflow<void, void>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      prepare: () => {\\n        // do something\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"afterprepare\"><_components.code>{\"afterPrepare\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#afterprepare\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：运行前置准备流程的之后的任务\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：前置准备流程之后\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWorkflow<void, void>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      afterPrepare: () => {\\n        // do something\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"commands\"><_components.code>{\"commands\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#commands\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：为 commander 添加新的 CLI 命令\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：\"}<_components.code>{\"prepare\"}</_components.code>{\" Hook 运行完成之后\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWorkflow<{ program: Command; }, void>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      commands: ({ program }) => {\\n        program.command('foo').action(async () => {\\n          // do something\\n          console.log('foo');\\n        });\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"将上面这个插件添加到 \"}<_components.code>{\"modern.config.ts\"}</_components.code>{\" 中：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\" meta='title=\"modern.config.ts\"'>{\"import myPlugin from './config/plugin/myPlugin';\\n\\nexport const myPlugin = defineConfig({\\n  plugins: [myPlugin()],\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"运行 \"}<_components.code>{\"modern foo\"}</_components.code>{\" 就可以看到控制台输出：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-sh\">{\"$ modern foo\\nfoo\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"beforeexit\"><_components.code>{\"beforeExit\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#beforeexit\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：在退出进程前，重置一些文件状态\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：进程退出之前\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"Workflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"Workflow<void, void>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin } from '@modern-js/core';\\n\\nexport const myPlugin = (): CliPlugin => ({\\n  setup(api) {\\n    return {\\n      beforeExit: () => {\\n        // do something\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.div className=\"modern-directive tip\"><_components.div className=\"modern-directive-title\">{\"TIP\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"由于 Node.js 中退出进程时的回调函数是同步的，所以 \"}<_components.code>{\"beforeExit\"}</_components.code>{\" Hook 的类型是 \"}<_components.code>{\"Workflow\"}</_components.code>{\"，不能执行异步操作。\\n\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.h2 id=\"cli-framework-hooks\">{\"CLI Framework Hooks\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#cli-framework-hooks\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"以下是框架的 CLI Hooks，只能在 Modern.js Framework 中使用，不能在 Modern.js Module 中使用。\"}</_components.p>{\"\\n\"}<_components.p>{\"你需要从 \"}<_components.code>{\"@modern-js/app-tools\"}</_components.code>{\" 中导入 \"}<_components.code>{\"CliPlugin\"}</_components.code>{\" 和 \"}<_components.code>{\"AppTools\"}</_components.code>{\" 类型，以获得准确的 Hooks 类型提示。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"beforedev\"><_components.code>{\"beforeDev\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#beforedev\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：运行 dev 主流程的之前的任务\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：\"}<_components.code>{\"dev\"}</_components.code>{\" 命令运行时，项目开始启动前执行\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWorkflow<void, unknown>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      beforeDev: () => {\\n        // do something\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"afterdev\"><_components.code>{\"afterDev\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#afterdev\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：运行 dev 主流程的之后的任务\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：运行 \"}<_components.code>{\"dev\"}</_components.code>{\" 命令时，每一次编译完成后执行\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWorkflow<{ isFirstCompile: boolean }, unknown>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      afterDev: () => {\\n        // do something\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p><_components.code>{\"afterDev\"}</_components.code>{\" 会在每一次编译完成后执行，你可以通过 \"}<_components.code>{\"isFirstCompile\"}</_components.code>{\" 参数来判断是否为首次编译：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      afterDev: ({ isFirstCompile }) => {\\n        if (isFirstCompile) {\\n          // do something\\n        }\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"beforebuild\"><_components.code>{\"beforeBuild\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#beforebuild\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：在执行生产环境构建前触发的回调函数，你可以通过 \"}<_components.code>{\"bundlerConfigs\"}</_components.code>{\" 参数获取到底层打包工具的最终配置数组。\"}{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"如果当前打包工具为 webpack，则获取到的是 webpack 配置数组。\"}</_components.li>{\"\\n\"}<_components.li>{\"如果当前打包工具为 Rspack，则获取到的是 Rspack 配置数组。\"}</_components.li>{\"\\n\"}<_components.li>{\"配置数组中可能包含一份或多份配置，这取决于你是否开启了 SSR 等功能。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：运行 \"}<_components.code>{\"build\"}</_components.code>{\" 命令后，在开始构建前执行\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"type BeforeBuild = AsyncWorkflow<{\\n  bundlerConfigs: WebpackConfig[] | RspackConfig[];\\n}>;\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      beforeBuild: ({ bundlerConfigs }) => {\\n        console.log('Before build.');\\n        console.log(bundlerConfigs);\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"afterbuild\"><_components.code>{\"afterBuild\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#afterbuild\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：在执行生产环境构建后触发的回调函数，你可以通过 \"}<_components.code>{\"stats\"}</_components.code>{\" 参数获取到构建结果信息。\"}{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"如果当前打包工具为 webpack，则获取到的是 webpack Stats。\"}</_components.li>{\"\\n\"}<_components.li>{\"如果当前打包工具为 Rspack，则获取到的是 Rspack Stats。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：运行 \"}<_components.code>{\"build\"}</_components.code>{\" 命令运行后，在项目构建完成之后执行\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"type AfterBuild = AsyncWorkflow<{\\n  stats?: Stats | MultiStats;\\n}>;\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      afterBuild: ({ stats }) => {\\n        console.log('After build.');\\n        console.log(stats);\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"beforecreatecompiler\"><_components.code>{\"beforeCreateCompiler\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#beforecreatecompiler\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：在创建底层 Compiler 实例前触发的回调函数，并且你可以通过 \"}<_components.code>{\"bundlerConfigs\"}</_components.code>{\" 参数获取到底层打包工具的最终配置数组：\"}{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"如果当前打包工具为 webpack，则获取到的是 webpack 配置数组。\"}</_components.li>{\"\\n\"}<_components.li>{\"如果当前打包工具为 Rspack，则获取到的是 Rspack 配置数组。\"}</_components.li>{\"\\n\"}<_components.li>{\"配置数组中可能包含一份或多份配置，这取决于你是否开启了 SSR 等功能。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：在执行 dev 或 build 命令时，创建 Compiler 实例之前执行\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"type BeforeCreateCompiler = AsyncWorkflow<\\n  { bundlerConfigs: Configuration[] },\\n  unknown\\n>;\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      beforeCreateCompiler: ({ bundlerConfigs }) => {\\n        console.log('Before create compiler.');\\n        console.log(bundlerConfigs);\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"aftercreatecompiler\"><_components.code>{\"afterCreateCompiler\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#aftercreatecompiler\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：在创建 Compiler 实例后、执行构建前触发的回调函数，并且你可以通过 \"}<_components.code>{\"compiler\"}</_components.code>{\" 参数获取到 Compiler 实例对象：\"}{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"如果当前打包工具为 webpack，则获取到的是 webpack Compiler 对象。\"}</_components.li>{\"\\n\"}<_components.li>{\"如果当前打包工具为 Rspack，则获取到的是 Rspack Compiler 对象。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：创建 Compiler 对象之后执行\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWorkflow\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"type AfterCreateCompiler = AsyncWorkflow<\\n  { compiler: Compiler | MultiCompiler | undefined },\\n  unknown\\n>;\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      afterCreateCompiler: ({ compiler }) => {\\n        console.log('After create compiler.');\\n        console.log(compiler);\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"beforeprintinstructions\"><_components.code>{\"beforePrintInstructions\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#beforeprintinstructions\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：在中间件函数中可以拿到即将打印的日志信息，并对其进行修改\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：打印日志信息之前执行\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ instructions: string }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      beforePrintInstructions: ({ instructions }) => {\\n        // do something\\n        return {\\n          instructions: [...instructions, 'some new message'],\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"modifyentryimports\"><_components.code>{\"modifyEntryImports\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modifyentryimports\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于修改、添加生成入口文件中的 \"}<_components.code>{\"import\"}</_components.code>{\" 语句\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：生成入口文件之前，\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ imports: ImportStatement[]; entrypoint: Entrypoint; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      modifyEntryImports({ entrypoint, imports }) {\\n        // 添加 `import React from 'React'`\\n        imports.push({\\n          value: 'react',\\n          specifiers: [\\n            {\\n              imported: 'unmountComponentAtNode',\\n            },\\n          ],\\n        });\\n\\n        return { entrypoint, imports };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"modifyentryexport\"><_components.code>{\"modifyEntryExport\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modifyentryexport\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于修改生成入口文件中的 \"}<_components.code>{\"export\"}</_components.code>{\" 语句\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：生成入口文件之前，\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ entrypoint: Entrypoint; exportStatement: string; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      modifyEntryExport({ entrypoint, exportStatement }) {\\n        return {\\n          entrypoint,\\n          exportStatement: [`export const foo = 'test'`, exportStatement].join(\\n            '\\\\n',\\n          ),\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"modifyentryruntimeplugins\"><_components.code>{\"modifyEntryRuntimePlugins\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modifyentryruntimeplugins\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于添加、修改生成入口文件中的 \"}<_components.a href=\"#Runtime\">{\"Runtime 插件\"}</_components.a></_components.li>{\"\\n\"}<_components.li>{\"执行阶段：生成入口文件之前，\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ entrypoint: Entrypoint; plugins: RuntimePlugin[]; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      modifyEntryRuntimePlugins({ entrypoint, plugins }) {\\n        const name = 'customPlugin';\\n        const options = {\\n          /** 可序列化的内容 */\\n        };\\n\\n        return {\\n          plugins: [\\n            ...plugins,\\n            {\\n              name,\\n              options: JSON.stringify(options),\\n            },\\n          ],\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"modifyentryrenderfunction\"><_components.code>{\"modifyEntryRenderFunction\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modifyentryrenderfunction\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于修改生成入口文件中 \"}<_components.code>{\"render\"}</_components.code>{\" 函数\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：生成入口文件之前，\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ entrypoint: Entrypoint; code: string; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      modifyEntryRenderFunction({ entrypoint, code }) {\\n        const customRender = `/** render function body */`;\\n        return {\\n          entrypoint,\\n          code: customRender,\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"modifyfilesystemroutes\"><_components.code>{\"modifyFileSystemRoutes\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modifyfilesystemroutes\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于修改生成前端页面路由文件中的内容，内容都是需要可序列化的\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：生成前端路由文件之前，\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ entrypoint: Entrypoint; routes: Route[]; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-tsx\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      modifyFileSystemRoutes({ entrypoint, routes }) {\\n        return {\\n          entrypoint,\\n          routes: [\\n            ...routes,\\n            {\\n              path: '/custom_page',\\n              component: require.resolve('./Component'),\\n              exact: true,\\n            },\\n          ],\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"这样就为前端新增了一个页面路由。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"modifyserverroutes\"><_components.code>{\"modifyServerRoutes\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modifyserverroutes\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于修改生成服务器路由中的内容\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：生成 Server 路由文件之前，\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ routes: ServerRoute[]; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      modifyServerRoutes({ routes }) {\\n        return {\\n          routes: [\\n            ...routes,\\n            {\\n              urlPath: '/api/foo',\\n              isApi: true,\\n              entryPath: '',\\n              isSPA: false,\\n              isSSR: false,\\n            },\\n          ],\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"modifyasyncentry\"><_components.code>{\"modifyAsyncEntry\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#modifyasyncentry\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于修改包裹入口文件的异步模块，参见 \"}<_components.a href=\"/configure/app/source/enable-async-entry\">{\"source.enableAsyncEntry\"}</_components.a></_components.li>{\"\\n\"}<_components.li>{\"执行阶段：生成入口文件之前，\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ entrypoint: Entrypoint; code: string; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      modifyAsyncEntry({ entrypoint, code }) {\\n        const customCode = `console.log('hello');`;\\n        return {\\n          entrypoint,\\n          code: `${customCode}${code}`,\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"htmlpartials\"><_components.code>{\"htmlPartials\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#htmlpartials\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：用于定制生成的 HTML 页面模版\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：\"}<_components.a href=\"#prepare\"><_components.code>{\"prepare\"}</_components.code></_components.a>{\" 阶段触发\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncWaterfall\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncWaterfall<{ entrypoint: Entrypoint; partials: HtmlPartials; }>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { CliPlugin, AppTools } from '@modern-js/app-tools';\\n\\nexport const myPlugin = (): CliPlugin<AppTools> => ({\\n  setup(api) {\\n    return {\\n      async htmlPartials({ entrypoint, partials }) {\\n        partials.head.push('<script>console.log(\\\"test\\\")</script>');\\n        return {\\n          entrypoint,\\n          partials,\\n        };\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"这样就为 HTML 模版中新增了一个 Script 标签。\"}</_components.p>{\"\\n\"}{}{\"\\n\"}<_components.h2 id=\"runtime\">{\"Runtime\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#runtime\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.div className=\"modern-directive note\"><_components.div className=\"modern-directive-title\">{\"NOTE\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"目前 Runtime 插件还未完全开放，API 不保证稳定，使用需谨慎。\"}</_components.p>{\"\\n\"}</_components.div></_components.div>{\"\\n\"}<_components.p>{\"Runtime 插件主要用于开发者修改需要渲染的组件。\"}</_components.p>{\"\\n\"}<_components.h3 id=\"init\"><_components.code>{\"init\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#init\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：执行 \"}<_components.code>{\"App.init\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"执行阶段：渲染（SSR/CSR）\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"AsyncPipeline\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"AsyncPipeline<{ context: RuntimeContext; }, unknown>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import type { Plugin } from '@modern-js/runtime';\\n\\nexport const myPlugin = (): Plugin => ({\\n  setup(api) {\\n    return {\\n      init({ context }, next) {\\n        // do something\\n        return next({ context });\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h3 id=\"hoc\"><_components.code>{\"hoc\"}</_components.code><_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#hoc\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"功能：修改需要渲染的组件\"}</_components.li>{\"\\n\"}<_components.li>{\"执行阶段：渲染（SSR/CSR）\"}</_components.li>{\"\\n\"}<_components.li>{\"Hook 模型：\"}<_components.code>{\"Pipeline\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"类型：\"}<_components.code>{\"Pipeline<{ App: React.ComponentType<any>; }, React.ComponentType<any>>\"}</_components.code></_components.li>{\"\\n\"}<_components.li>{\"使用示例：\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.div className=\"modern-directive note\"><_components.div className=\"modern-directive-title\">{\"NOTE\"}</_components.div><_components.div className=\"modern-directive-content\"><_components.p>{\"使用 hoc 钩子时，需要把原来的 App 组件的静态属性拷贝到新的组件上，并透传 props.\"}</_components.p></_components.div></_components.div>{\"\\n\"}<_components.pre><_components.code className=\"language-ts\">{\"import { createContext } from 'react';\\nimport type { Plugin } from '@modern-js/runtime';\\nimport hoistNonReactStatics from 'hoist-non-react-statics';\\n\\nexport const myPlugin = (): Plugin => ({\\n  setup(api) {\\n    const FooContext = createContext('');\\n    return {\\n      hoc({ App }, next) {\\n        const AppWrapper = (props: any) => {\\n          return (\\n            <FooContext.Provider store={'test'}>\\n              <App {...props} />\\n            </FooContext.Provider>\\n          );\\n        };\\n        return next({\\n          App: hoistNonReactStatics(AppWrapper, App),\\n        });\\n      },\\n    };\\n  },\\n});\\n\"}</_components.code></_components.pre>{\"\\n\"}{}</>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","h2","h3","code","ul","li","pre","ol","div","components","id","className","href","target","rel","meta","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}