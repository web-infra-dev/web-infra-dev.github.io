{"version":3,"file":"static/js/async/docs_zh_community_blog_2022-0910-updates_md.e3e599ce.js","sources":["./docs/zh/community/blog/2022-0910-updates.md"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"zh%2Fcommunity%2Fblog%2F2022-0910-updates.md\"] = {\"toc\":[{\"text\":\"支持 pnpm v7\",\"id\":\"支持-pnpm-v7\",\"depth\":2},{\"text\":\"服务端增加 Typescript 作为 ts 文件编译器\",\"id\":\"服务端增加-typescript-作为-ts-文件编译器\",\"depth\":2},{\"text\":\"其他更新\",\"id\":\"其他更新\",\"depth\":2},{\"text\":\"配置更新\",\"id\":\"配置更新\",\"depth\":3},{\"text\":\"底层依赖升级\",\"id\":\"底层依赖升级\",\"depth\":3},{\"text\":\"功能预告\",\"id\":\"功能预告\",\"depth\":2}],\"title\":\"2022 年 9 ~ 10 月更新内容\",\"frontmatter\":{\"sidebar_position\":98}};\nimport { useMDXComponents as _provideComponents } from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h1: \"h1\",\n        a: \"a\",\n        blockquote: \"blockquote\",\n        p: \"p\",\n        ul: \"ul\",\n        li: \"li\",\n        strong: \"strong\",\n        h2: \"h2\",\n        code: \"code\",\n        pre: \"pre\",\n        h3: \"h3\"\n    }, _provideComponents(), props.components);\n    return <><_components.h1 id=\"2022-年-9--10-月更新内容\">{\"2022 年 9 ~ 10 月更新内容\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#2022-年-9--10-月更新内容\">{\"#\"}</_components.a></_components.h1>{\"\\n\"}<_components.blockquote>{\"\\n\"}<_components.p>{\"发表于 2022.11.01\"}</_components.p>{\"\\n\"}</_components.blockquote>{\"\\n\"}<_components.p>{\"Modern.js 9 ~ 10 月的最新版本为 v1.21.0，本双月的主要更新有：\"}</_components.p>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li><_components.strong>{\"支持 pnpm v7\"}</_components.strong>{\"：完成框架对 pnpm v7 的支持。\"}</_components.li>{\"\\n\"}<_components.li><_components.strong>{\"服务端增加 Typescript 作为 ts 文件编译器\"}</_components.strong>{\"。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h2 id=\"支持-pnpm-v7\">{\"支持 pnpm v7\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#支持-pnpm-v7\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Modern.js 框架完成了对 pnpm v7 的变更适配。\"}</_components.p>{\"\\n\"}<_components.p>{\"使用 \"}<_components.code>{\"npx @modern-js/create@modern-1\"}</_components.code>{\" 创建项目时会根据用户当前环境的 pnpm 版本进行安装依赖操作，并且在初始化项目中会在 \"}<_components.code>{\".npmrc\"}</_components.code>{\" 中添加\\n\"}<_components.code>{\"strict-peer-dependencies=false\"}</_components.code>{\" 配置，避免安装时由于 \"}<_components.code>{\"peerDependencies\"}</_components.code>{\" 缺失导致安装依赖失败问题。\\n同时适配 \"}<_components.code>{\"release\"}</_components.code>{\"、\"}<_components.code>{\"deploy\"}</_components.code>{\" 命令对 pnpm v7 的支持。\"}</_components.p>{\"\\n\"}<_components.p>{\"pnpm v7 在命令传参方面姿势发生了变化，需注意：\"}</_components.p>{\"\\n\"}<_components.p>{\"在使用 pnpm 调用 \"}<_components.code>{\"package.json\"}</_components.code>{\" 中的命令时，如果需要传递参数至 pnpm，需要将参数放到命令前。\"}</_components.p>{\"\\n\"}<_components.p>{\"例如使用 pnpm \"}<_components.code>{\"--filter\"}</_components.code>{\" 参数执行 prepare 命令：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{'pnpm run --filter \"./packages/**\" prepare\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"如果需要传递参数至命令，需要将参数放到命令后。\"}</_components.p>{\"\\n\"}<_components.p>{\"例如，在如下 \"}<_components.code>{\"package.json\"}</_components.code>{\" 配置中：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-json\">{'{\\n  \"scripts\": {\\n    \"command\": \"modern command\"\\n  }\\n}\\n'}</_components.code></_components.pre>{\"\\n\"}<_components.p>{\"执行 command 命令时携带参数方式为：\"}</_components.p>{\"\\n\"}<_components.pre><_components.code className=\"language-bash\">{\"pnpm run command --options\\n\"}</_components.code></_components.pre>{\"\\n\"}<_components.h2 id=\"服务端增加-typescript-作为-ts-文件编译器\">{\"服务端增加 Typescript 作为 ts 文件编译器\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#服务端增加-typescript-作为-ts-文件编译器\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"在 Modernjs 之前的版本中，我们为了保证前后端编译器的统一，使用了 Babel 作为前后端默认的编译器，并保持相同的编译逻辑，但随着使用的项目增多，我们发现在一些服务端常用的语法场景下，Babel 编译 ts 有一些问题。\"}</_components.p>{\"\\n\"}<_components.p>{\"因此，我们将服务端编译 ts 的编译器由 Babel 改为了 Typescript，在别名解析逻辑上与 Babel 版本保持一致，同样支持使用 \"}<_components.code>{\"tsconfig.json\"}</_components.code>{\" 或者插件设置别名。\"}</_components.p>{\"\\n\"}<_components.p>{\"在执行 build 命令时，已默认使用 Typescript 编译，并默认开启了类型校验，很多项目在 9、10 双月已经在使用。\"}</_components.p>{\"\\n\"}<_components.p>{\"执行 dev 命令时，如果希望使用 Typescript 编译，需要安装 \"}<_components.code>{\"ts-node\"}</_components.code>{\"，\"}<_components.code>{\"tsconfig-paths\"}</_components.code>{\" 到 \"}<_components.code>{\"devDependencies\"}</_components.code>{\"，否则默认仍然使用 Babel 编译。在 Modern.js 2.0 中，我们将使用 ts-node 作为默认的编译器。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"其他更新\">{\"其他更新\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#其他更新\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.h3 id=\"配置更新\">{\"配置更新\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#配置更新\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"支持在 \"}<_components.code>{\"tools.webpackChain\"}</_components.code>{\" 中获取 \"}<_components.code>{\"HtmlWebpackPlugin\"}</_components.code>{\" 对象，使用方式请参考\"}<_components.a href=\"https://modernjs.dev/v1/docs/apis/app/config/tools/webpack-chain#htmlwebpackplugin\" target=\"_blank\" rel=\"noopener noreferrer\">{\"文档\"}</_components.a>{\"。\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.h3 id=\"底层依赖升级\">{\"底层依赖升级\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#底层依赖升级\">{\"#\"}</_components.a></_components.h3>{\"\\n\"}<_components.ul>{\"\\n\"}<_components.li>{\"husky 升级至 v8\"}</_components.li>{\"\\n\"}</_components.ul>{\"\\n\"}<_components.p>{\"使用 \"}<_components.code>{\"npx @modern-js/create@modern-1\"}</_components.code>{\" 创建项目时，husky 会默认安装 v8 版本，并移除 \"}<_components.code>{\"package.json\"}</_components.code>{\" 中 husky 的配置，使用 \"}<_components.code>{\".husky\"}</_components.code>{\" 文件夹的形式管理 husky 配置。\"}</_components.p>{\"\\n\"}<_components.p>{\"在初次安装依赖时需要执行 \"}<_components.code>{\"npx husky install\"}</_components.code>{\" 进行 husky 初始化，默认项目会在 prepare 命令中完成，如果 husky 配置未生效，可通过手动执行完成 husky 配置。\"}</_components.p>{\"\\n\"}<_components.h2 id=\"功能预告\">{\"功能预告\"}<_components.a className=\"header-anchor\" aria-hidden=\"true\" href=\"#功能预告\">{\"#\"}</_components.a></_components.h2>{\"\\n\"}<_components.p>{\"Modern.js 团队目前除了正常开发维护 Modern 1.0 外，正在全力打造 Modern.js 2.0。\"}</_components.p>{\"\\n\"}<_components.p>{\"Modern.js 2.0 将带来新的构建体系，除了支持使用稳定的 webpack 进行构建，还即将支持将底层构建工具切换为自研的 Rust bundler，提供更流畅的编译速度。\"}</_components.p>{\"\\n\"}<_components.p>{\"Modern.js 2.0 将基于 \"}<_components.a href=\"https://reactrouter.com\" target=\"_blank\" rel=\"noopener noreferrer\">{\"React-Router v6\"}</_components.a>{\" 推荐嵌套路由作为新的路由方式；将默认支持 React 18 并提供 Streaming SSR 的支持，使用户体验更加流畅。\"}</_components.p></>;\n}\nfunction MDXContent(props = {}) {\n    const { wrapper: MDXLayout } = Object.assign({}, _provideComponents(), props.components);\n    return MDXLayout ? <MDXLayout {...props}><_createMdxContent {...props}/></MDXLayout> : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","blockquote","p","ul","li","strong","h2","code","pre","h3","components","id","className","href","target","rel","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper","_"],"mappings":"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"}